/*! "1.0.131_2017_05_23" */
webpackJsonp([27],{1868:function(e,n,t){t(1869)},1869:function(e,n,t){var i=t(75);i.module("configwizard",[]);t(1870),t(1871),t(1872),t(1873),t(1874),t(1875),t(1876),t(1877),t(1878),t(1879),t(1880),t(1881),t(1882),t(1883),t(1884),t(1885),t(1886),t(1887),t(1888),t(1889),t(1890),t(1891),t(1892),t(1893),t(1894),t(1895),t(1896),t(1897),t(1898),t(1899),t(1900),t(1901),t(1902),t(1903),t(1904),t(1905),t(1906),t(1907),t(1908),t(1909),t(1910),t(1911),t(1912),t(1913),t(1914),t(1916),t(1917),t(1918),t(1919),t(1920),t(1921),t(1922),t(1923),t(1924),t(1925),t(1926),t(1927),t(1928),t(1929),t(1930),t(1932),t(1933),t(1934),t(1935),t(1936),t(1937),t(1938),t(1939),t(1940),t(1941),t(1942),t(1943),t(1944),t(1945),t(1946),t(1947),t(1948),t(1949),t(1950),t(1951),t(1952),t(1953),t(1954),t(1955),t(1957),t(1959),t(1961),t(1963),t(1965),t(1966),t(1967),t(1968),t(1969),t(1970),t(1971),t(1972),t(1973),t(1974),t(1975),t(1977),t(1979),t(1980),t(1982),t(1983),t(1984),t(1985),t(1986),t(1987),t(1988),t(1989),t(1990),t(1991),t(1992),t(1993),t(1994),t(1995),t(1996),t(1997),t(1998),t(1999),t(2e3),t(2001),t(2002),t(2003),t(2004),t(2006),t(2008),t(2009),t(2011),t(2012),t(2013),t(2015),t(2016),t(2017),t(2018),t(2019),t(2021),t(2022),t(2024),t(2025),t(2026),t(2027),t(2028),t(2029),t(2030),t(2031),t(2032),t(2033),t(2034),t(2035),t(2036),t(2037),t(2038),t(2039),t(2040),t(531)},1870:function(e,n){var t=e.exports='<div ng-controller=sectionDescriptionCtrl>\n<span ng-show="innerForm.$dirty && innerForm.$invalid" class=help-inline>\n{{section.validationMessage | cwI18n:cwConfigFormCtrl.strings}}\n</span>\n<div class="help-block font-size-small color-medium-gray" ng-bind-html=description></div>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/includes/basic.html",t)}])},1871:function(e,n){var t=e.exports='<i ng-click="showtooltip = true" class="margin-left-xxsmall icon-question-circle tooltip-icon sm" ng-class="{ hover : showtooltip }">\n<db-popover ng-show=showtooltip self-close placement=right-center class="width-medium popover padding-small">\n<div class=popover-arrow></div>\n<i class="icon-x float-right color-gray-9 cursor-pointer padding-left-small" ng-click="showtooltip = false"></i>\n<db-tabs active-tab=section.selectedTab on-active-tab-change=section.onSelectedTab(tab)>\n<db-tab name=updateMode dm-i18n=connectors/update-mode></db-tab>\n<db-tab ng-show=::upsertEnabled() name=merge dm-i18n=connectors/upsert></db-tab>\n<db-tab name=append dm-i18n=connectors/append></db-tab>\n<db-tab name=replace dm-i18n=connectors/replace></db-tab>\n</db-tabs>\n<div class="font-size-small cw-tooltip-content padding-small margin-top-small update-mode">\n<div ng-show="section.selectedTab === \'updateMode\'" ng-if=::!upsertEnabled() dm-i18n=connectors/update-mode-description></div>\n<div ng-show="section.selectedTab === \'updateMode\'" ng-if=::upsertEnabled() dm-i18n=connectors/update-mode-description-with-merge></div>\n<div ng-show="section.selectedTab === \'merge\'">\n<div class="display-table-cell vertical-align-top text-align-left">\n<img src=/public/images/datacenter/config-wizard/upsertMode.gif />\n</div>\n<div class="display-table-cell padding-left-small" dm-i18n=connectors/merge-description></div>\n</div>\n<div ng-if="section.selectedTab === \'append\'">\n<div class="display-table-cell vertical-align-top text-align-left">\n<img src=/public/images/datacenter/config-wizard/appendMode.gif />\n</div>\n<div class="display-table-cell padding-left-small" dm-i18n=connectors/append-description></div>\n</div>\n<div ng-if="section.selectedTab === \'replace\'">\n<div class="display-table-cell vertical-align-top text-align-left">\n<img src=/public/images/datacenter/config-wizard/replaceMode.gif />\n</div>\n<div class="display-table-cell padding-left-small" dm-i18n=connectors/replace-description></div>\n</div>\n</div>\n</db-popover>\n</i>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/updatemode/update-mode-tooltip.html",t)}])},1872:function(e,n){var t=e.exports='<i ng-show="section.tooltipText && section.tooltipText.length > 0" ng-click="showtooltip = true" class="margin-left-xxsmall icon-question-circle tooltip-icon sm" ng-class="{ hover : showtooltip }">\n<db-popover ng-show=showtooltip self-close placement=right-center class="width-medium popover">\n<div class=popover-arrow></div>\n<div class=text-align-right><i class="icon-x xs color-gray-9 cursor-pointer" ng-click="showtooltip = false"></i></div>\n<div class="font-size-small cw-tooltip-content" cw-bind-markup=section.tooltipText cw-bind-strings=cwConfigFormCtrl.strings></div>\n</db-popover>\n</i>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/includes/tooltip.html",t)}])},1873:function(e,n){var t=e.exports='<div ng-controller=cwStringCtrl>\n<div class=validation-input>\n<input ng-required=section.required type=text class=input ng-attr-name={{section._form_name_}} placeholder="{{section.data.placeholder | cwI18n:cwConfigFormCtrl.strings }}" ng-model=section.value ng-change=setUserModified() ng-class="{invalid: section.valid === false, warning: section.warning}"/>\n<ng-include class=warning-right ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include class=warning-right ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n</div>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'"></ng-include>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/string/string.html",t)}])},1874:function(e,n){var t=e.exports='<div ng-controller=cwAccountCtrl>\n<div class="alert-banner red" ng-show=errorMessage>\n<i class="icon-x close" ng-click="errorMessage=undefined"></i> {{errorMessage}}\n</div>\n<div ng-hide=providerNotConfiguredProperly>\n<db-button ng-show="data.loading && !data.error" class="input-width margin-right-none padding-right-xxsmall">\n<i class="spinner small float-right"></i>\n<span dm-i18n=common/loading-text></span>\n</db-button>\n<div ng-if=shared.unauthorized>\n<div class="alert-banner blue inline-block padding-horizontal-small margin-vertical-xxsmall">\n<i class=icon-info-circle></i>\n<div ng-if=shared.integration class="inline-block margin-left-xxsmall" dm-i18n=connectors/you-do-not-have-access-integration></div>\n<div ng-if=!shared.integration class="inline-block margin-left-xxsmall" dm-i18n=connectors/you-do-not-have-access></div>\n<div class="inline-block margin-left-xxsmall color-link font-size-xsmall cursor-pointer" ng-click="shared.unauthorized = false" dm-i18n=connectors/use-different-account></div>\n</div>\n</div>\n<div ng-if="hasExistingAccounts && !shared.addingNewAccount && !shared.unauthorized">\n<div db-dropdown items=accountSelectionItems selected-item=shared.selectedAccount label-attribute=name on-item-selected=setUserModified()>\n<db-dropdown-button class=input-width>\n<span style=width:90% ng-hide=shared.selectedAccount dm-i18n=connectors/select-account></span>\n<span style=width:90% ng-show=shared.selectedAccount class=single-line-ellipsis>\n<i class="icon-exclamation-triangle margin-right-xxsmall color-alert-red" ng-show=shared.selectedAccount.isInvalid()></i>\n<span>{{shared.selectedAccount.displayName || shared.selectedAccount.name}}</span>\n</span>\n</db-dropdown-button>\n<db-dropdown-templated-list>\n<i class="icon-exclamation-triangle margin-right-xxsmall color-alert-red" ng-show=item.isInvalid()></i>\n<span>{{item.displayName || item.name}}</span>\n</db-dropdown-templated-list>\n</div>\n</div>\n<div ng-if="shared.addingNewAccount && !shared.unauthorized" class="account-manager padding-vertical-small">\n<div class=account-editor-container>\n<div class="name-placeholder margin-bottom-xsmall" ng-if=isNameable()>\n<input style=margin-left:10px type=text class=input ng-model=shared.accountName> \n<div class=edit-container>\n<i class="icon-pencil color-gray-5"></i>\n</div>\n</div>\n<cw-config-form sections=accountSections i18n-strings=data.accountI18nStrings></cw-config-form>\n<div>\n<span ng-if=!accountSections.length class="margin-top-xsmall margin-bottom-small block color-text-header padding-xxsmall">\n<span ng-if=shared.integration>{{ \'connectors/connect-an-account-integration\' | i18n:{dataProvider: providerName} }}</span>\n<span ng-if=!shared.integration>{{ \'connectors/connect-an-account\' | i18n:{dataProvider: providerName} }}</span>\n</span>\n<db-button theme=primary data-pendo-anchor=config-wizard/account/connect ng-disabled="!canAddAccount() || isWaitingForServerAccountCreation()" ng-click=addAccount()>\n<span class="spinner small" ng-if=isWaitingForServerAccountCreation()></span>\n<span dm-i18n=connectors/connect-to></span>\n</db-button>\n<db-button theme=alt ng-show=hasExistingAccounts ng-click=stopAdding() dm-i18n=common/cancel></db-button>\n<div class="font-size-small color-alert-red inline-block vertical-align-middle" ng-if=creationErrorMessage style=width:60%>\n<span class=icon-exclamation-point-circle></span>\n<span>{{creationErrorMessage}}</span>\n</div>\n</div>\n</div>\n<div class="account-info-container inline-block margin-top-medium" ng-if=data.moreInfoText>\n<span class="font-size-small color-link cursor-pointer inline-block margin-right-medium" ng-click="showHelpDialog = true" dm-i18n=connectors/where-can-i-find></span>\n<db-popover ng-show=showHelpDialog self-close placement=right-center class=popover>\n<div class=popover-arrow></div>\n<i class="icon-x float-right color-text-header cursor-pointer" ng-click="showHelpDialog = false"></i>\n<div class=padding-medium cw-bind-markup=data.moreInfoText cw-bind-strings=cwConfigFormCtrl.strings></div>\n</db-popover>\n</div>\n</div>\n</div>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/account/account.html",t)}])},1875:function(e,n){var t=e.exports="\n<div ng-if=!section.data.discoveryCommand>\n<ng-include src=\"'/public/javascripts/config-wizard/sections/string/string.html'\"></ng-include>\n</div>\n<div ng-if=section.data.discoveryCommand>\n<ng-include src=\"'/public/javascripts/config-wizard/sections/discovery/discoverystring/cw-discovery-string.html'\">\n</ng-include>\n</div>";window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/string/string-wrapper.html",t)}])},1876:function(e,n){var t=e.exports='<div ng-controller=cwMultilineCtrl class=multiline>\n<div class=validation-input>\n<textarea ng-required=section.required class="input-field input" ng-attr-name={{section._form_name_}} ng-model=section.value ng-keydown=setUserModified() ng-class="{invalid: section.valid === false, warning: section.warning}"/>\n    <ng-include class=warning-text-area ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n    <ng-include class=warning-text-area ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n  </div>\n  <ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'"></ng-include>\n  <ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/multiline/multiline.html",t)}])},1877:function(e,n){var t=e.exports='<div ng-controller=cwPasswordCtrl>\n<div class=validation-input>\n<input ng-required=section.required type=password class="input input-width" ng-attr-name={{section._form_name_}} placeholder="{{section.data.placeholder | cwI18n:cwConfigFormCtrl.strings }}" ng-model=section.value ng-keydown=setUserModified() ng-class="{invalid: section.valid === false, warning: section.warning}"/>\n<ng-include class=warning-right ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include class=warning-right ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n</div>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'"></ng-include>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/password/password.html",t)}])},1878:function(e,n){var t=e.exports='<div ng-controller=cwNumberCtrl>\n<div class=validation-input>\n<input ng-required=section.required type=text ng-pattern=/^[0-9]*\\.?[0-9]*$/ class=input ng-attr-name={{section._form_name_}} placeholder="{{section.data.placeholder | cwI18n:cwConfigFormCtrl.strings }}" ng-model=section.value ng-class="{invalid: section.valid === false, warning: section.warning}" ng-keydown=setUserModified() />\n<ng-include class=warning-right ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include class=warning-right ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n</div>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'"></ng-include>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/number/number.html",t)}])},1879:function(e,n){var t=e.exports='<div ng-controller=cwNumberCtrl>\n<input ng-required=section.required type=text class=input ng-attr-name={{section._form_name_}} placeholder="{{section.data.placeholder | cwI18n:cwConfigFormCtrl.strings }}" ng-model=section.value ng-keydown="section.userModified = true">\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'"></ng-include>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/URI/URI.html",t)}])},1880:function(e,n){var t=e.exports="\n<div ng-if=!section.data.discoveryCommand>\n<ng-include src=\"'/public/javascripts/config-wizard/sections/dropdown/dropdown.html'\"></ng-include>\n</div>\n<div ng-if=section.data.discoveryCommand>\n<ng-include src=\"'/public/javascripts/config-wizard/sections/discovery/discoverydropdown/cw-discovery-dropdown.html'\"></ng-include>\n</div>";window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/dropdown/dropdown-wrapper.html",t)}])},1881:function(e,n){var t=e.exports='<div ng-controller=cwDateCtrl>\n<div class=validation-input>\n<input ng-required=section.required type=text class=input ng-attr-name={{section._form_name_}} ng-model=data.date format={{data.format}} min=data.min max=data.max date year month dm-date-picker-input ng-keydown=setUserModified() ng-click=setUserModified() ng-class="{invalid: section.valid === false, warning: section.warning}"/>\n<i class="icon-calendar margin-top-xxsmall color-gray-8 warning-right"></i>\n<ng-include class=second-warning-right ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include class=second-warning-right ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n</div>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'"></ng-include>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/date/date.html",t)}])},1882:function(e,n){var t=e.exports='<div ng-controller=cwRetryCtrl>\n<ng-include class="float-left margin-right-xsmall" ng-if="section.warning && !changingRetrySettings" src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n<ng-include class="float-left margin-right-xsmall" ng-if="section.valid === false && !changingRetrySettings" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<div ng-hide=changingRetrySettings>\n<div class=margin-top-medium>\n<span ng-show=!retryDisabled>\n<span ng-if="showGenericRetryMessage && !retryDisabled" dm-i18n=wizard/section-retry-generic-message></span>\n<span ng-if=!showGenericRetryMessage dm-i18n=wizard/section-retry-frequency-message data="{ retryInterval : section.value.retryInterval, retryUnit : section.value.retryUnit, retryNumber : section.value.retryNumber }"></span>\n</span>\n<span ng-show=retryDisabled dm-i18n=wizard/section-retry-disabled-message></span>\n</div>\n<a ng-click=toggleRetrySettings() dm-i18n=wizard/section-retry-change-settings></a>\n<i ng-click="showretrytooltip = true" class="margin-left-xxsmall icon-question-circle tooltip-icon sm" ng-class="{ hover : showretrytooltip }">\n<db-popover ng-show=showretrytooltip self-close placement=right-center class="width-medium popover">\n<div class=popover-arrow></div>\n<i class="icon-x float-right margin-left-small color-gray-9 cursor-pointer" ng-click="showretrytooltip = false"></i>\n<div class="font-size-small cw-tooltip-content">\n<div class=display-block dm-i18n=wizard/retry-settings></div>\n</div>\n</db-popover>\n</i>\n</div>\n<div ng-show=changingRetrySettings class="retry-box inline-block">\n<input name=radiogroup id=retry-radio class=input type=radio ng-value=false ng-model=retryDisabled>\n<label for=retry-radio dm-i18n=wizard/section-retry-radio-retry></label>\n<div class="font-size-small padding-left-large margin-bottom-small">\n<span dm-i18n=wizard/section-retry-every></span>\n<div db-dropdown class="inline-block margin-left-xsmall vertical-align-middle font-size-small" items=retryIntervals selected-item=retryInterval placeholder="{{\'wizard/section-retry-make-selection\' | dmI18nFilter}}" dropdown-disabled={{retryDisabled}}>\n<db-dropdown-button class=small>\n<span>{{ retryInterval.label}}</span>\n</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n<span dm-i18n=wizard/section-retry-up-to></span>\n<div db-dropdown class="inline-block margin-left-xsmall vertical-align-middle font-size-small" items=numberOfRetries selected-item=retryNumber placeholder="{{\'wizard/section-retry-make-selection\' | dmI18nFilter}}" dropdown-disabled={{retryDisabled}}>\n<db-dropdown-button class=small>\n<span>{{ retryNumber.label || (\'wizard/section-retry-make-selection\' | dmI18nFilter) || "Make Selection"}}</span>\n</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n<span dm-i18n=wizard/section-retry-num-times data="{retryNumber : retryNumber.value}"></span>\n</div>\n<input name=radiogroup id=doNot-retry-radio class=input type=radio ng-value=true ng-model=retryDisabled>\n<label for=doNot-retry-radio dm-i18n=wizard/section-retry-radio-no-retry></label>\n<div class=margin-top-medium>\n<db-button theme=primary ng-disabled="!retryDisabled && (!retryNumber.value || retryNumber.value === 0)" ng-click="(retryDisabled || (retryNumber.value && retryNumber.value !== 0)) && setUserModified()">{{"common/save" | dmI18nFilter}}</db-button>\n<db-button theme=alt ng-click=cancelRetryChange()>{{"common/cancel" | dmI18nFilter}}</db-button>\n</div>\n</div>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/retry/retry.html",t)}])},1883:function(e,n){var t=e.exports='<div ng-controller=cwRadioCtrl>\n<span ng-repeat="option in data.options track by $index" class=margin-right-xsmall>\n<input type=radio id=radio-{{option}} class=input ng-model=data.selected value={{option.value}} ng-click=setUserModified()>\n<label for=radio-{{option}}>{{option.label | cwI18n:cwConfigFormCtrl.strings}}&nbsp</label>\n<ng-include ng-if="section.valid === false && data.selected === option.value" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include ng-if="section.warning && data.selected === option.value" src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n</span>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/radio/radio.html",t)}])},1884:function(e,n){var t=e.exports="<div>\n<ng-include src=\"'/public/javascripts/config-wizard/sections/discovery/discoverytree/cw-discovery-tree.html'\"></ng-include>\n</div>";window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/tree/tree-wrapper.html",t)}])},1885:function(e,n){var t=e.exports='<div ng-controller=cwUpdateModeCtrl>\n<div ng-if=!editingUpdateMode>\n<span class=block dm-i18n=connectors/using-update-mode data="{mode: data.internalValue.label}"></span>\n<a ng-click=editUpdateMode() dm-i18n=connectors/change-update-settings></a>\n</div>\n<div ng-show=editingUpdateMode class="retry-box inline-block">\n<label class="config-section-label display-block padding-bottom-xxsmall">\n<span class=required>*</span>\n<b class="color-gray-5 font-weight-semi-bold font-size-small text-transform-uppercase" dm-i18n=connectors/update-mode></b>\n</label>\n<span>\n<ng-include src="\'/public/javascripts/config-wizard/sections/updatemode/update-mode-tooltip.html\'"></ng-include>\n</span>\n<div class="display-block margin-bottom-small margin-top-xxsmall">\n<div db-dropdown ng-class="::{\'input-width\' : !section.data.shrinkToSelection}" class=mega-dropdown items=section.data.options selected-item=data.internalValue on-item-selected=setUserModified(item) item-helper=cwConfigFormCtrl>\n<db-dropdown-button>\n<ng-include ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n<span ng-class="{\'margin-left-xxsmall\' : data.internalValue.icon}">\n{{(data.internalValue.label | cwI18n:cwConfigFormCtrl.strings) || (section.data.placeholder | cwI18n:cwConfigFormCtrl.strings)}}\n</span>\n</db-dropdown-button>\n<db-dropdown-templated-list>\n<i ng-if="::!item.heading && !item.separator && item[iconAttribute]" class=icon-{{::item[iconAttribute]}}></i>\n<span ng-if=::!item.separator>{{::item.label | cwI18n:itemHelper.strings | dbExtraWrap}}</span>\n</db-dropdown-templated-list>\n</div>\n</div>\n<label ng-if=discoverable() class="config-section-label display-block">\n<b class="color-gray-5 font-weight-semi-bold font-size-small text-transform-uppercase" dm-i18n=connectors/upsert-keys></b>\n</label>\n<i ng-if=discoverable() ng-click="showbasictooltip = true" class="margin-left-xxsmall icon-question-circle tooltip-icon sm" ng-class="{ hover : showbasictooltip }">\n<db-popover ng-show=showbasictooltip self-close placement=right-center class="width-medium popover">\n<div class=popover-arrow></div>\n<i class="icon-x float-right margin-left-small color-gray-9 cursor-pointer" ng-click="showbasictooltip = false"></i>\n<div dm-i18n=connectors/identify-merge-key class="font-weight-bold font-size-large margin-bottom-small"></div>\n<div class="font-size-small cw-tooltip-content">\n<div dm-i18n=connectors/merge-tooltip class=margin-bottom-small></div>\n<div dm-i18n=connectors/merge-unsure></div>\n</div>\n</db-popover>\n</i>\n<div ng-if=discoverable() class="display-block margin-top-xxsmall">\n<div db-dropdown items=keys class="search-input search-box" search-term=search selected-items=section.upsertKeys filer-strategy=auto dropdown-disabled="{{loadingKeys || !keys || keys.length === 0}}" placeholder-text="{{loadingKeys ? \'Loading...\' : keys && keys.length > 0 ? \'Search Schema\' : \'Error loading schema\'}}" item-helper=cwConfigFormCtrl>\n<div class=validation-input>\n<db-dropdown-pill-box data-ui-test_dm-mega-dropdown_pill-box></db-dropdown-pill-box>\n<span ng-show="dropdownDisabled && !items" class="warning-right spinner small margin-top-xxsmall"></span>\n</div>\n<db-dropdown-templated-list>\n<span>{{item}}</span>\n</db-dropdown-templated-list>\n</div>\n<div db-button ng-show="!loadingKeys && (!keys || keys.length === 0)" ng-click=getUpsertKeys() dm-i18n=connectors/retry></div>\n</div>\n<div class=margin-top-large>\n<db-button theme=primary ng-disabled=!data.internalValue ng-click=closeEditMode()>{{"common/save" | dmI18nFilter}}</db-button>\n<db-button theme=alt ng-click=cancelEdit()>{{"common/cancel" | dmI18nFilter}}</db-button>\n</div>\n</div>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/updatemode/updatemode.html",t)}])},1886:function(e,n){var t=e.exports='<div ng-controller=cwOAuthCtrl>\n<div class=padding-small ng-show="items.length < 2">\n<db-button theme=primary ng-click=addAccount()>Authorize</db-button>\n</div>\n<div id=accounts class=padding-small ng-show="items.length > 1">\n<div ng-show=oAuthErrorMessage class="alert-banner red margin-top-xxsmall">\n<i class="icon-x close" ng-click="oAuthErrorMessage=null"></i>\n<strong>Problem!</strong> {{oAuthErrorMessage}}\n</div>\n<div ng-show=loadingAccounts class="spinner-overlay medium no-text">\n<dm-i18n class=margin-xxsmall key=loading> </dm-i18n>\n</div>\n<div ng-hide=loadingAccounts>\n<div dm-dropdown items=items selected-index={{selectedAccountIndex}} placeholder="Select an Account..." on-change=itemChanged(item)></div>\n</div>\n</div>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/oauth/oauth.html",t)}])},1887:function(e,n){var t=e.exports='<div ng-controller=cwTimeCtrl>\n<input ng-required=section.required type=text class="input inline-block {{data.size}}" ng-model=data.date ng-attr-name={{section._form_name_}} format={{data.format}} dm-time-input ng-click=setUserModified() ng-class="{invalid: section.valid === false, warning: section.warning}"/>\n<ng-include class=margin-left-xxsmall ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include calss=margin-left-xxsmall ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'"></ng-include>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/time/time.html",t)}])},1888:function(e,n){var t=e.exports='<div ng-controller=cwAgentCtrl>\n<div ng-if="data.agents && data.agents.length === 0">\n</div>\n<div db-dropdown items=data.agents selected-item=data.agentViewModel.agent control-size=small class="inline-block input-width mega-dropdown">\n<db-dropdown-button class=small>\n<span ng-show=!data.agentViewModel.agent.name>\nSelect Domo Agent...\n</span>\n<span ng-show="data.agentViewModel.agent.name || data.agentViewModel.agent.address">\n<span class=inline-block>{{data.agentViewModel.agent.name}}</span>\n<span class="inline-block margin-horizontal-xxsmall">&#8226;</span>\n<span class="inline-block font-weight-lighter">{{data.agentViewModel.agent.address}}</span>\n</span>\n</db-dropdown-button>\n<db-dropdown-templated-list>\n<div>\n<div class="font-weight-bold font-size-medium">\n{{item.name}}\n</div>\n<div class="font-size-xsmall color-text-header white-space-nowrap font-weight-lighter">\n<span class="">{{item.address}}</span> &#8226;\n<span class="">{{item.localAccount}}</span>\n</div>\n</div>\n</db-dropdown-templated-list>\n</div>\n<div ng-if="!isFullMode() && data.agentViewModel.agent" class=margin-top-small>\n<div>\n<div class="font-size-small font-weight-bold margin-bottom-xxsmall">DSN</div>\n<div db-dropdown items=data.agentViewModel.dsnCollection selected-item=data.agentViewModel.dsn control-size=small class="input-width mega-dropdown">\n<db-dropdown-button class=small>\n{{data.agentViewModel.dsn.label || data.agentViewModel.dsn || \'Select a DSN\'}}\n</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n</div>\n<div ng-show=!data.agentViewModel.isManualDsnMode() class=margin-top-small>\n<div class="font-size-small margin-bottom-xxsmall">Password (optional)</div>\n<input type=password class="input input-width small" ng-model=data.agentViewModel.password />\n</div>\n<div ng-show=data.agentViewModel.isManualDsnMode() class="inset-container inline-block border-radius-large margin-top-medium">\n<div>\n<div class="font-size-small margin-bottom-xxsmall">Driver</div>\n<div db-dropdown items=data.agentViewModel.agent.driverCollection selected-item=data.agentViewModel.driver control-size=small class="input-width mega-dropdown">\n<db-dropdown-button class=small>{{data.agentViewModel.driver || \'Select a Driver\'}}\n</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n</div>\n<div class="inline-block margin-vertical-small">\n<div class="font-size-small margin-bottom-xxsmall">Host</div>\n<input type=text class="input input-width small" ng-model=data.agentViewModel.host />\n</div>\n<div class="inline-block margin-bottom-small">\n<div class="font-size-small margin-bottom-xxsmall">Port</div>\n<input type=text class="input small width-small" ng-model=data.agentViewModel.port />\n</div>\n<div class=margin-bottom-small>\n<div class="font-size-small margin-bottom-xxsmall">Database</div>\n<input type=text class="input input-width small" ng-model=data.agentViewModel.database />\n</div>\n<div class=margin-bottom-small>\n<div class="font-size-small margin-bottom-xxsmall">Username</div>\n<input type=text class="input input-width small" ng-model=data.agentViewModel.username />\n</div>\n<div class=margin-bottom-small>\n<div class="font-size-small margin-bottom-xxsmall">Password</div>\n<input type=password class="input input-width small" ng-model=data.agentViewModel.password />\n</div>\n</div>\n</div>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/agent/cw-agent.html",t)}])},1889:function(e,n){var t=e.exports='<div class=cw-field-mapping ng-controller=cwFieldMappingCtrl>\n<div ng-if=isStage(data.stages.DISCOVERING) class="text-align-center margin-xxlarge">\n<div>\n<div class="display-table table-centered">\n<div class="display-table-cell vertical-align-middle text-align-right">\n<img class=destination-image ng-src="{{\'/api/library/v1/playbooks/\' + data.playbookId + \'/image\'}}">\n</div>\n<div class="display-table-cell vertical-align-middle padding-horizontal-xlarge">\n<svg width=140px height=75px viewBox="0 0 143 71" class=syncing-arrow>\n<linearGradient x1=0% y1=0% x2=100% y2=0% id=arrowGradient>\n<stop offset=0%></stop>\n<stop stop-opacity=0.2 offset=100%></stop>\n</linearGradient>\n<path d="M43.6356379,35 L127.38298,35.01" stroke=url(#arrowGradient)></path>\n<polygon transform="translate(35.500000, 35.500000) rotate(-90.000000) translate(-35.500000, -35.500000) " points="35.5 17 66.2439018 44.75 4.75609817 44.75 "></polygon>\n</svg>\n</div>\n<div class="display-table-cell vertical-align-middle text-align-left">\n<div dm-logo provider={{data.dataProvider}} size=large-rect></div>\n</div>\n</div>\n</div>\n<h5 class="margin-top-xlarge color-text-header">Discovering your data...</h5>\n</div>\n<div ng-if="isStage(data.stages.RESULTS) || isStage(data.stages.MAPPING)" class=margin-bottom-small>\n<cw-field-mapping-progress-bar percent="{{(data.fieldmap.mappedFields.length / data.fieldmap.mappings.length) * 100}}"></cw-field-mapping-progress-bar>\n</div>\n<div ng-if=isStage(data.stages.RESULTS)>\n<div class="font-weight-bold font-size-large margin-bottom-xsmall" dm-i18n=wizard/mapped-fields-discovered-results-header></div>\n<div class=margin-bottom-xsmall dm-i18n=wizard/mapped-fields-discovered-results data="{ mappedFields : data.fieldmap.serverMappedFields.length, totalFields : data.fieldmap.mappings.length }"></div>\n<div dm-i18n=wizard/mapped-fields-discovered-results-finish class="cursor-pointer color-link font-size-small margin-bottom-xsmall inline-block" ng-click=goToStage(data.stages.MAPPING)></div>\n</div>\n<div ng-if=isStage(data.stages.MAPPING)>\n<div class=mappings-container>\n<div>\n<span class="text-transform-uppercase font-size-small font-weight-bold color-text-header" dm-i18n=wizard/required-connections></span>\n<span class="font-size-xsmall color-text-header" dm-i18n=wizard/mapped-fields-number-connected data="{ numConnected : data.fieldmap.mappedFields.length, total : data.fieldmap.mappings.length }"></span>\n</div>\n<hr class=margin-bottom-small>\n<cw-field-mapping-row ng-repeat="mapping in data.fieldmap.mappings" class=margin-bottom-small mapping=mapping discovered-fields-by-type=data.fieldmap.discoveredFieldsByType on-preview-click="toggleFieldSampling(mapping, $event)" item-helper=itemHelper></cw-field-mapping-row>\n<div class=margin-top-xxlarge>\n<span class="text-transform-uppercase font-size-small font-weight-bold color-text-header" dm-i18n=wizard/additional-fields></span>\n<span ng-if="data.fieldmap.additionalMappings.length > 0" class=font-size-xsmall dm-i18n=wizard/additional-fields-number-connected data="{ numConnected : data.fieldmap.mappedAdditionalFields.length, total : data.fieldmap.additionalMappings.length }"></span>\n</div>\n<hr class=margin-bottom-small>\n<cw-field-mapping-row ng-repeat="mapping in data.fieldmap.additionalMappings" class=margin-bottom-small mapping=mapping discovered-fields-by-type=data.fieldmap.discoveredFieldsByType on-preview-click="toggleFieldSampling(mapping, $event)" item-helper=itemHelper is-custom-mapping=true on-trash-click=data.fieldmap.removeAdditionalMapping(mapping)></cw-field-mapping-row>\n<db-button theme=primary class=margin-left-xlarge dm-i18n=wizard/add-new-field ng-click=data.fieldmap.addAdditionalMapping()></db-button>\n</div>\n</div>\n</div>\n';
window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/fieldmapping/cw-field-mapping.html",t)}])},1890:function(e,n){var t=e.exports="<div ng-controller=cwHtmlCtrl>\n<div cw-bind-markup=data.html cw-bind-strings=cwConfigFormCtrl.strings></div>\n</div>";window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/html/html-section.html",t)}])},1891:function(e,n){var t=e.exports='<div ng-controller=cwCheckboxCtrl>\n<db-checkbox ng-model=data.value on-change=setUserModified()>{{section.data.label | cwI18n:cwConfigFormCtrl.strings}}</db-checkbox>\n<ng-include ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'"></ng-include>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/checkbox/cw-checkbox-section.html",t)}])},1892:function(e,n){var t=e.exports='<div ng-controller=cwRangeCtrl class=cw-range-section>\n<span ng-if=section.data.icon class="icon inline-block {{section.data.icon}}"></span>\n<ng-include ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n<input ng-model=data.rangeStart type=text class="input range-input margin-left-xxsmall width-{{section.data.width}}" placeholder={{section.data.startPlaceholder}} ng-keydown=setUserModified()>\n<span>:</span>\n<input ng-model=data.rangeEnd type=text class="input range-input width-{{section.data.width}}" placeholder={{section.data.endPlaceholder}} ng-keydown=setUserModified()>\n<i ng-show=section.tooltipText class="icon-question-circle color-light-gray-1 margin-left-xxsmall cursor-pointer sm" db-tooltip="{{section.tooltipText | cwI18n:cwConfigFormCtrl.strings}}"></i>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/range/cw-range-section.html",t)}])},1893:function(e,n){var t=e.exports='<div ng-controller=cwDiscoveryPickerCtrl class="cw-picker-section dm-file-upload validation-input">\n<span class="button-bar border-default border-radius-medium position-relative" ng-class="{invalid: section.valid === false, warning: section.warning}" ng-click=openPicker()>\n<span class="button-text margin-horizontal-none padding-horizontal-small">\n<span ng-if=icon class="upload-icon icon-{{icon}}"></span>\n<span class=color-text-default ng-if="data.internalValue && !data.loading && !data.error">{{data.internalValue[data.labelProperty] || "?"}}</span>\n<span class=color-text-header ng-if="!data.internalValue && !data.loading && !data.error">{{emptyText || "Choose a File"}}</span>\n<span ng-if=data.loading>\n<span class=color-text-header><dm-i18n key=loading> </dm-i18n></span>\n<span class="margin-left-xxsmall spinner small"></span>\n</span>\n<span ng-if=data.error class=color-alert-red><dm-i18n key=error-loading-items> </dm-i18n></span>\n</span>\n<ng-include class="vertical-align-middle margin-right-xxsmall" ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include class="vertical-align-middle margin-right-xxsmall" ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n<span class="button more border-none">\n<i class="color-text-header icon-dots-horizontal" ng-if=!data.error></i>\n<i class="color-alert-red icon-sync" ng-if=data.error></i>\n</span>\n</span>\n<db-modal modal-show=data.open class=cw-picker-section-modal>\n<db-modal-body>\n<div ng-if=data.loading class="centered-container position-absolute fill-parent">\n<div class="spinner medium"></div>\n</div>\n<div ng-if=!data.loading>\n<h4 class=margin-bottom-medium ng-if=::data.pickerTitle>{{::data.pickerTitle | cwI18n:cwConfigFormCtrl.strings}}</h4>\n<div class=margin-bottom-medium>\n<div class=search-box>\n<i class=icon-search></i>\n<input type=text class=input placeholder="{{::data.pickerSearchPlaceholder | cwI18n:cwConfigFormCtrl.strings:\'common/search\'}}" ng-model=data.search>\n</div>\n<div db-dropdown class="inline-block float-right" ng-if=data.filters.length items=data.filters selected-item=data.selectedFilter max-height=400px on-item-selected=onFilterSelected(item)>\n<db-dropdown-button>\n<span class=single-line-ellipsis>{{data.selectedFilter.label}}</span>\n</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n</div>\n<div>\n<table class="header-table margin-bottom-xxsmall text-transform-uppercase color-text-header font-size-small">\n<tr>\n<th ng-repeat="col in data.pickerResult.columns" ng-style="::{width : col.width || (100/data.pickerResult.columns.length + \'%\')}">{{::col.header | cwI18n:cwConfigFormCtrl.strings}}</th>\n</tr>\n</table>\n<div class=results-wrapper>\n<table class="result-table font-size-small">\n<tr ng-repeat="row in data.pickerResult.filteredRows | filter:data.search" class=cursor-pointer ng-click=selectRow(row) ng-class="{selected : row._meta_.selected}">\n<td ng-repeat="col in data.pickerResult.columns" ng-style="::{width : col.width || (100/data.pickerResult.columns.length + \'%\')}">\n<span ng-if=::col.isDate>{{::row[col.property].format(\'ll\')}}</span>\n<span ng-if=::!col.isDate>{{::row[col.property] | cwI18n:cwConfigFormCtrl.strings}}</span>\n</td>\n</tr>\n</table>\n</div>\n</div>\n</div>\n</db-modal-body>\n<db-modal-footer ng-show=!data.loading>\n<div class="font-size-xsmall color-link cursor-pointer float-left margin-top-xsmall" ng-click=retryCommand()>\n<i class="icon-sync margin-right-xxsmall"></i>\n<span dm-i18n=connectors/refresh-list-items></span>\n</div>\n<db-modal-buttons>\n<db-modal-button button-action=onPickerSelect() button-disabled=!data.activeSelection>\n<span dm-i18n=common/select></span>\n</db-modal-button>\n<db-modal-button button-action=onPickerCancel() button-class=button-text>\n<span dm-i18n=common/cancel></span>\n</db-modal-button>\n</db-modal-buttons>\n</db-modal-footer>\n</db-modal>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/discovery/discoverypicker/cw-discovery-picker.html",t)}])},1894:function(e,n){var t=e.exports='<div class=cw-message-section ng-controller="cwMessageSectionCtrl as vm" ng-class=::vm.getSectionClasses() ng-style=::vm.getSectionStyles()>\n<div class=cw-message-section-inner>\n<div class=cw-message-section-header>{{::vm.section.data.header | cwI18n:cwConfigFormCtrl.strings}}</div>\n<div class=cw-message-section-title>{{::vm.section.data.title | cwI18n:cwConfigFormCtrl.strings}}</div>\n<div class=cw-message-section-body>{{::vm.section.data.body | cwI18n:cwConfigFormCtrl.strings}}</div>\n</div>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/message/cw-message-section.html",t)}])},1895:function(e,n){var t=e.exports='<div ng-controller="cwGAAdvancedCtrl as vm" class=ga-advanced ng-init="version = 3;">\n<div class=cn-subsection>\n<div class="cn-subsection-header cursor-pointer" ng-click="vm.visibilities[\'view\'] = !vm.visibilities[\'view\']">\n<div class=inline-block>\n<div class=cn-subsection-expander>\n<i class=icon-chevron-down ng-class="{selected: vm.visibilities[\'view\']}"></i>\n</div>\n<i class="icon-globe section-icon"></i>\n<div class=subsection-header>\n{{i18n.selectViews}}\n</div>\n</div>\n<div class=inline-block>\n<span class="view-pill inline-block" ng-repeat="view in selectedViews | orderBy:\'label\' | limitTo:maxViewsToShow">{{ view.label }}</span>\n<span id=more-views class="view-pill inline-block cursor-pointer" ng-show="selectedViews.length > maxViewsToShow" ng-mouseover="showViewsPopover = true" ng-mouseleave="showViewsPopover = false"> + {{ selectedViews.length - maxViewsToShow }} more</span>\n<db-popover class="popover ga-popover" activation=showViewsPopover placement=right-center anchor=#more-views>\n<div class=popover-arrow></div>\n<div class=header-text>\n{{ i18n.selectedViews }}\n</div>\n<div class=body-text>\n<ul>\n<li ng-repeat="view in selectedViews | orderBy:\'label\'">\n{{ view.label }}\n</li>\n</ul>\n</div>\n</db-popover>\n</div>\n</div>\n<div ng-show="vm.visibilities[\'view\']" class=subsection-content>\n<cn-views lists=profiles selected=model.selectedProfiles visible="vm.visibilities[\'view\']"></cn-views>\n</div>\n</div>\n<div class=cn-subsection>\n<div class="cn-subsection-header report-selector-pane cursor-pointer" ng-click="vm.visibilities[\'report\'] = !vm.visibilities[\'report\']">\n<div class=inline-block>\n<div class=cn-subsection-expander>\n<i class=icon-chevron-down ng-class="{selected: vm.visibilities[\'report\']}"></i>\n</div>\n<i class="icon-logs section-icon"></i>\n<div class=subsection-header>\n{{i18n.selectReport}}\n</div>\n</div>\n<div class=cn-radial-wrapper>\n<cn-radial id=metric-radial total-count={{::model.METRIC_LIMIT}} selected-count="{{ selectedMetrics.length }}" max-count={{::model.METRIC_LIMIT}} available-count="{{ model.metrics.length }}" subtext={{i18n.metrics}} ng-mouseover="showMetricPopover = true" ng-mouseleave="showMetricPopover = false"></cn-radial>\n<db-popover class="popover ga-popover" activation=showMetricPopover placement=right-center anchor=#metric-radial>\n<div class=popover-arrow></div>\n<div class=header-text>\n{{ i18n.selectedMetrics }}\n</div>\n<div class=body-text>\n<ul>\n<li ng-repeat="metric in selectedMetrics | orderBy:\'attributes.uiName\'">\n{{ metric.attributes.uiName }}\n</li>\n</ul>\n</div>\n</db-popover>\n<cn-radial id=dimension-radial total-count={{::model.DIMENSION_LIMIT}} selected-count="{{ selectedDimensions.length }}" max-count={{::model.DIMENSION_LIMIT}} available-count="{{ model.dimensions.length }}" subtext={{i18n.dimensions}} color=green ng-mouseover="showDimensionPopover = true" ng-mouseleave="showDimensionPopover = false"></cn-radial>\n<db-popover class="popover ga-popover" activation=showDimensionPopover placement=right-center anchor=#dimension-radial>\n<div class=popover-arrow></div>\n<div class=header-text>\n{{ i18n.selectedDimensions }}\n</div>\n<div class=body-text>\n<ul>\n<li ng-repeat="dim in selectedDimensions | orderBy:\'attributes.uiName\'">\n{{ dim.attributes.uiName }}\n</li>\n</ul>\n</div>\n</db-popover>\n</div>\n</div>\n<div ng-show="vm.visibilities[\'report\']" class=subsection-content>\n<cn-report-selector visibilities=vm.visibilities></cn-report-selector>\n</div>\n</div>\n<div class=cn-subsection>\n<div class="cn-subsection-header cursor-pointer" ng-click="vm.visibilities[\'segment\'] = !vm.visibilities[\'segment\']">\n<div class=inline-block>\n<div class=cn-subsection-expander>\n<i class=icon-chevron-down ng-class="{selected: vm.visibilities[\'segment\']}"></i>\n</div>\n<i class="icon-people section-icon"></i>\n<div class=subsection-header>\n{{i18n.selectSegments}}\n</div>\n</div>\n<div class=cn-radial-wrapper>\n<cn-radial id=segment-radial total-count="{{ model.segments.length }}" available-count="{{ model.segments.length }}" selected-count="{{ selectedSegments.length }}" subtext={{i18n.segments}} color=purple ng-mouseover="showSegmentPopover = true" ng-mouseleave="showSegmentPopover = false"></cn-radial>\n<db-popover class="popover ga-popover" activation=showSegmentPopover placement=right-center anchor=#segment-radial>\n<div class=popover-arrow></div>\n<div class=header-text>\n{{ i18n.selectedSegments }}\n</div>\n<div class=body-text>\n<ul>\n<li ng-repeat="seg in selectedSegments | orderBy:\'label\'">\n{{ seg.label }}\n</li>\n</ul>\n</div>\n</db-popover>\n</div>\n</div>\n<div ng-show="vm.visibilities[\'segment\']" class=subsection-content>\n<div class=margin-bottom-medium>\n<input type=text ng-model=segmentSearch placeholder="Search segments..." class=input-style />\n</div>\n<ul class=four-col-list>\n<li ng-repeat="item in model.segments | filter:segmentSearch | orderBy:\'label\'" class=segment-item>\n<db-checkbox ng-change=updateSelectedSegments() ng-model=item.selected>{{item.label}}</db-checkbox>\n</li>\n</ul>\n</div>\n</div>\n<div class=cn-subsection>\n<div class="cn-subsection-header cursor-pointer" ng-click="vm.visibilities[\'dates\'] = !vm.visibilities[\'dates\']">\n<div class=cn-subsection-expander>\n<i class=icon-chevron-down ng-class="{selected: vm.visibilities[\'dates\']}"></i>\n</div>\n<i class="icon-calendar section-icon"></i>\n<div class=subsection-header>\n{{ i18n.selectDateRange }}\n</div>\n<div class="inline-block vertical-align-middle margin-left-large">\n{{ CustomDateRangeTypes[dates.selectedDateType] }}\n<span ng-show="dates.selectedDateType == \'single\'">\n<span ng-show="dates.startDateType.value == \'specific\'">{{ dates.startDate | date:\'yyyy-MM-dd\' }}</span>\n<span ng-show="dates.startDateType.value == \'relative\'">{{ dates.startDate }} {{ ::i18n.daysBack }}</span>\n</span>\n<span ng-show="dates.selectedDateType == \'range\'">\n<span ng-show="dates.startDateType.value == \'specific\'">\n{{ dates.startDate | date:\'yyyy-MM-dd\' }}\n</span>\n<span ng-show="dates.startDateType.value == \'relative\'">\n{{ dates.startDate }} {{ ::i18n.daysBack }}\n</span>\nto\n<span ng-show="dates.endDateType.value == \'specific\'">\n{{ dates.endDate | date:\'yyyy-MM-dd\' }}\n</span>\n<span ng-show="dates.endDateType.value == \'relative\'">\n{{ dates.endDate }} {{ ::i18n.daysBack }}\n</span>\n</span>\n</div>\n</div>\n<div class=subsection-content ng-show="vm.visibilities[\'dates\']">\n<div class="inline-block margin-right-medium vertical-align-middle">\n<div>\n<db-radio-button name=date-type label-text={{::i18n.singleDate}} model=dates.selectedDateType value=single on-change=updateSectionValue()></db-radio-button>\n</div>\n<div>\n<db-radio-button name=date-type label-text={{::i18n.dateRange}} model=dates.selectedDateType value=range on-change=updateSectionValue()></db-radio-button>\n</div>\n</div>\n<div class="inline-block margin-right-medium vertical-align-middle">\n<div class=inline-block>\n<div class="color-gray-5 font-weight-semi-bold font-size-small text-transform-uppercase">{{ i18n.startDate }}</div>\n<div db-dropdown selected-item=dates.startDateType on-item-selected="switchDateType(\'startDate\')" label-attribute=name items=DateTypes class=inline-block>\n<db-dropdown-button>{{ dates.startDateType.name }}</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n</div>\n<div class=inline-block ng-show="dates.startDateType.value == \'specific\'">\n<input class=ga-input-style db-datepicker-popup ng-model=dates.startDate ng-change=updateSectionValue() />\n</div>\n<div class=inline-block ng-show="dates.startDateType.value == \'relative\'">\n<div class="color-gray-5 font-weight-semi-bold font-size-small text-transform-uppercase">{{ i18n.daysBack }}</div>\n<input type=text class=input-style ng-model=dates.startDate ng-change=updateSectionValue() />\n</div>\n</div>\n<div class="inline-block vertical-align-middle" ng-show="dates.selectedDateType == \'range\'">\n<div class=inline-block>\n<div class="color-gray-5 font-weight-semi-bold font-size-small text-transform-uppercase">{{ i18n.endDate }}</div>\n<div db-dropdown selected-item=dates.endDateType on-item-selected="switchDateType(\'endDate\')" label-attribute=name items=DateTypes class=inline-block>\n<db-dropdown-button>{{ dates.endDateType.name }}</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n</div>\n<div class=inline-block ng-show="dates.endDateType.value == \'specific\'">\n<input class=ga-input-style db-datepicker-popup ng-model=dates.endDate ng-change=updateSectionValue() />\n</div>\n<div class=inline-block ng-show="dates.endDateType.value == \'relative\'">\n<div class="color-gray-5 font-weight-semi-bold font-size-small text-transform-uppercase">{{ ::i18n.daysBack }}</div>\n<input type=text class=input-style ng-model=dates.endDate ng-change=updateSectionValue() />\n</div>\n</div>\n</div>\n</div>\n<div class=cn-subsection>\n<div class=cn-subsection-header>\n<i class="icon-pulse section-icon" style=margin-left:63px></i>\n<db-button ng-click=testConfig()>{{ ::i18n.testConfig }}</db-button>\n<span ng-show="successfulConfiguration === true">\n<i class="icon-check color-green section-icon"></i>\n</span>\n<span ng-show="successfulConfiguration === false">\n<i class="icon-cancel color-red section-icon"></i>\n{{ configTestErrorMessage }}\n</span>\n</div>\n</div>\n</div>';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/ga-advanced/cw-ga-advanced.html",t)}])},1896:function(e,n){var t=e.exports='<div ng-controller="cwGAAdvancedCtrlv4 as vm" class=ga-advanced-v4 ng-init="version = 4;">\n<div class=cn-subsection>\n<div class=cn-subsection-header>\n<div class=inline-block>\n<i class="icon-globe section-icon"></i>\n<div class="subsection-header db-text-display-2">\n{{::i18n.view}}\n</div>\n<db-button ng-show=profilesLoading class="margin-right-none padding-right-xxsmall" ng-class="::{\'input-width\' : !section.data.shrinkToSelection }">\n<i class="spinner small float-right"></i>\n<span ng-class="::{\'padding-right-small\' : section.data.shrinkToSelection }">\n{{section.data.loadingMsg | cwI18n:cwConfigFormCtrl.strings:\'loading-text\'}}\n</span>\n</db-button>\n<div ng-show=!profilesLoading db-dropdown items=viewsWithHeader on-item-selected=updateViewType(item) selected-item=selectedView class=inline-block placeholder-text={{::i18n.selectView}}>\n<db-dropdown-search-box>{{ selectedView.label }}</db-dropdown-search-box>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n</div>\n<div class="inline-block margin-left-medium">\n<span class="alert-badge light-blue inline-block" ng-show="selectedView.label == \'Multiple views\'">{{ selectedViews.length }} {{ ::i18n.views }}</span>\n</div>\n<div ng-click="vm.visibilities[\'view\'] = !vm.visibilities[\'view\']" class="inline-block cn-subsection-expander color-link" ng-show="selectedView.label == \'Multiple views\'">\n<span ng-show="!vm.visibilities[\'view\']">{{::i18n.showAdvanced}}</span>\n<span ng-show="vm.visibilities[\'view\']">{{::i18n.hideAdvanced}}</span>\n<i class=icon-chevron-down ng-class="{selected: vm.visibilities[\'view\']}"></i>\n</div>\n</div>\n<div ng-show="vm.visibilities[\'view\']" class=subsection-content>\n<div class=cn-views>\n<div class="subsection-content flex">\n<div class=advanced-description-container>\n<div class=db-text-display-5>\n{{ ::i18n.multipleViews }}\n</div>\n<div class=margin-top-xsmall>\n{{ ::i18n.multipleViewsText1 }}\n</div>\n<div class=margin-top-xsmall>\n{{ ::i18n.multipleViewsText2 }}\n</div>\n</div>\n<div class="inline-flex flex-column margin-top-small">\n<div class="flex margin-bottom-xsmall">\n<span class=margin-right-medium>\n<input type=radio ng-model=model.allViewsSelected ng-click=updateSelectedViews() value=true>{{::i18n.includeAllViews}}\n</span>\n<span class=margin-right-medium>\n<input type=radio ng-model=model.allViewsSelected ng-click=updateSelectedViews() value=false>{{::i18n.selectMultipleViews}}\n</span>\n</div>\n<div class=flex>\n<div db-dropdown items=allViews selected-items=selectedViews class=inline-block placeholder-text={{::i18n.selectViews}} ng-show="model.allViewsSelected == \'false\'">\n<db-dropdown-pill-box>{{ selectedView.label }}</db-dropdown-pill-box>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=cn-subsection>\n<div class="cn-subsection-header report-selector-pane">\n<div class=inline-block>\n<i class="icon-logs section-icon"></i>\n<div class="subsection-header db-text-display-2">\n{{::i18n.report}}\n</div>\n</div>\n<db-button ng-show=reportsLoading class="margin-right-none padding-right-xxsmall" ng-class="::{\'input-width\' : !section.data.shrinkToSelection }">\n<i class="spinner small float-right"></i>\n<span ng-class="::{\'padding-right-small\' : section.data.shrinkToSelection }">\n{{section.data.loadingMsg | cwI18n:cwConfigFormCtrl.strings:\'loading-text\'}}\n</span>\n</db-button>\n<div ng-show=!reportsLoading db-dropdown items=reportsWithHeader selected-item=model.selectedReport.report on-item-selected="vm.visibilities[\'report\'] = item.label == i18n.customReport; updateReportSelections(item)" class=inline-block placeholder-text={{::i18n.selectReport}}>\n<db-dropdown-search-box>{{ selectedReport.report.label }}</db-dropdown-search-box>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n<div class="margin-left-medium inline-block" ng-show=model.selectedReport.report>\n<count-pill title=i18n.metrics list=selectedMetrics popover-header=i18n.selectedMetrics color=light-blue></count-pill>\n<count-pill title=i18n.dimensions list=selectedDimensions popover-header=i18n.selectedDimensions color=green></count-pill>\n</div>\n<div ng-click="vm.visibilities[\'report\'] = !vm.visibilities[\'report\']" class="inline-block cn-subsection-expander color-link" ng-show="model.selectedReport.report.label == i18n.customReport">\n<span ng-show="!vm.visibilities[\'report\']">{{::i18n.showAdvanced}}</span>\n<span ng-show="vm.visibilities[\'report\']">{{::i18n.hideAdvanced}}</span>\n<i class=icon-chevron-down ng-class="{selected: vm.visibilities[\'report\']}"></i>\n</div>\n</div>\n<div class="subsection-content flex" ng-show="vm.visibilities[\'report\']">\n<div class=advanced-description-container>\n<div class="db-text-display-5 advanced-description-text">{{::i18n.customReport}}</div>\n<div class=margin-top-xsmall>\n{{::i18n.customReportText}}\n</div>\n<div class=cn-radial-wrapper>\n<cn-radial id=metric-radial total-count={{::model.METRIC_LIMIT}} selected-count="{{ selectedMetrics.length }}" max-count={{::model.METRIC_LIMIT}} available-count="{{ model.metrics.length + model.customMetrics.length }}" subtext={{i18n.metrics}} ng-mouseover="showCustomMetricPopover = true" ng-mouseleave="showCustomMetricPopover = false"></cn-radial>\n<db-popover class="popover ga-popover" activation=showCustomMetricPopover placement=right-center anchor=#metric-radial>\n<div class=popover-arrow></div>\n<div class=header-text>\n{{ i18n.selectedMetrics }}\n</div>\n<div class=body-text>\n<ul>\n<li ng-repeat="metric in selectedMetrics | orderBy:\'attributes.uiName\'">\n{{ metric.attributes.uiName }}\n</li>\n</ul>\n</div>\n</db-popover>\n<cn-radial id=dimension-radial total-count={{::model.DIMENSION_LIMIT}} selected-count="{{ selectedDimensions.length }}" max-count={{::model.DIMENSION_LIMIT}} available-count="{{ model.dimensions.length + model.customDimensions.length }}" subtext={{i18n.dimensions}} color=green ng-mouseover="showCustomDimensionPopover = true" ng-mouseleave="showCustomDimensionPopover = false"></cn-radial>\n<db-popover class="popover ga-popover" activation=showCustomDimensionPopover placement=right-center anchor=#dimension-radial>\n<div class=popover-arrow></div>\n<div class=header-text>\n{{ i18n.selectedDimensions }}\n</div>\n<div class=body-text>\n<ul>\n<li ng-repeat="dim in selectedDimensions | orderBy:\'attributes.uiName\'">\n{{ dim.attributes.uiName }}\n</li>\n</ul>\n</div>\n</db-popover>\n</div>\n</div>\n<div class="inline-flex flex-column margin-top-small">\n<cn-report-selector-v4 visibilities=vm.visibilities></cn-report-selector-v4>\n</div>\n</div>\n<div class="inline-block cn-subsection-expander color-link" ng-show=customReportSelected ng-click="vm.visibilities[\'report\'] = !vm.visibilities[\'report\']">\n<span ng-show="!vm.visibilities[\'report\']">{{::i18n.showAdvanced}}</span>\n<span ng-show="vm.visibilities[\'report\']">{{::i18n.hideAdvanced}}</span>\n<i class=icon-chevron-down ng-class="{selected: vm.visibilities[\'report\']}"></i>\n</div>\n</div>\n<div class=cn-subsection>\n<div class="cn-subsection-header cursor-pointer">\n<i class="icon-calendar-simple section-icon"></i>\n<div class="subsection-header db-text-display-2">\n{{ i18n.range }}\n</div>\n<div db-dropdown selected-item=dates.dateRangeType label-attribute=label items=DateRangeTypes class=inline-block placeholder-text="Select date range" on-item-selected=updateDates(item)>\n<db-dropdown-search-box no-search-icon>{{ dates.dateRangeType.label }}</db-dropdown-search-box>\n<db-dropdown-templated-list><i ng-if="!item.heading && !item.separator && item[iconAttribute]" class=icon-{{item[iconAttribute]}}></i>\n<span ng-if=!item.separator>{{item[labelAttribute] || item | dbExtraWrap}}</span>\n</db-dropdown-templated-list>\n</div>\n<div class="inline-block margin-left-medium">\n<span ng-show="dates.selectedDateType == \'single\'">\n<span class="alert-badge light-blue" ng-show="dates.startDateType.value == \'specific\' && dates.startDate">{{ dates.startDate | date:\'yyyy-MM-dd\' }}</span>\n<span class="alert-badge light-blue" ng-show="dates.startDateType.value == \'relative\' && dates.startDate">{{ dates.startDate }} {{ ::i18n.daysBack }}</span>\n</span>\n<span ng-show="dates.selectedDateType == \'range\'">\n<span class="alert-badge light-blue margin-right-xxsmall" ng-show="dates.startDateType.value == \'specific\' && dates.startDate">\n{{ dates.startDate | date:\'yyyy-MM-dd\' }}\n</span>\n<span class="alert-badge light-blue margin-right-xxsmall" ng-show="dates.startDateType.value == \'relative\' && dates.startDate">\n{{ dates.startDate }} {{ ::i18n.daysBack }}\n</span>\n<span ng-show="dates.endDateType.value == \'specific\' && dates.startDate && dates.endDate">\nto\n<span class="alert-badge light-blue">\n{{ dates.endDate | date:\'yyyy-MM-dd\' }}\n</span>\n</span>\n<span ng-show="dates.endDateType.value == \'relative\' && dates.startDate && dates.endDate">\nto\n<span class="alert-badge light-blue">\n{{ dates.endDate }} {{ ::i18n.daysBack }}\n</span>\n</span>\n</span>\n</div>\n<div ng-click="vm.visibilities[\'dates\'] = !vm.visibilities[\'dates\']" class="inline-block cn-subsection-expander color-link" ng-show="dates.dateRangeType.value == \'custom\'">\n<span ng-show="!vm.visibilities[\'dates\']" class=ng-binding>{{::i18n.showAdvanced}}</span>\n<span ng-show="vm.visibilities[\'dates\']" class="ng-binding ng-hide">{{::i18n.hideAdvanced}}</span>\n<i class=icon-chevron-down ng-class="{selected: vm.visibilities[\'dates\']}"></i>\n</div>\n</div>\n<div class="subsection-content flex" ng-show="vm.visibilities[\'dates\']">\n<div class=advanced-description-container>\n<div class="db-text-display-5 advanced-description-text">\n{{ i18n.customDateRange }}\n</div>\n<div class=margin-top-xsmall>\n{{ i18n.customDateRangeText }}\n</div>\n</div>\n<div class="inline-flex flex-column margin-top-small">\n<div class="flex margin-bottom-xsmall">\n<div>\n<db-radio-button name=date-type label-text={{::i18n.singleDate}} model=dates.selectedDateType value=single on-change=updateSectionValue()></db-radio-button>\n</div>\n<div class=margin-left-medium>\n<db-radio-button name=date-type label-text={{::i18n.dateRange}} model=dates.selectedDateType value=range on-change=updateSectionValue()></db-radio-button>\n</div>\n</div>\n<div class=flex>\n<div class=margin-right-xsmall>\n<div class=inline-block>\n<div class="color-gray-5 font-weight-semi-bold font-size-small text-transform-uppercase margin-bottom-xxsmall">{{ i18n.startDate }}</div>\n<div db-dropdown selected-item=dates.startDateType on-item-selected="switchDateType(\'startDate\')" label-attribute=name items=DateTypes class=inline-block>\n<db-dropdown-button>{{ dates.startDateType.name }}</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n</div>\n<div class=inline-block ng-show="dates.startDateType.value == \'specific\'">\n<input class=ga-input-style db-datepicker-popup ng-model=dates.startDate ng-change=updateSectionValue() />\n</div>\n<div class=inline-block ng-show="dates.startDateType.value == \'relative\'">\n<div class="color-gray-5 font-weight-semi-bold font-size-small text-transform-uppercase margin-bottom-xxsmall">{{ i18n.daysBack }}</div>\n<input type=text class="input-style ga-input-style" ng-model=dates.startDate ng-change=updateSectionValue() />\n</div>\n</div>\n<div ng-show="dates.selectedDateType == \'range\'">\n<div class=inline-block>\n<div class="color-gray-5 font-weight-semi-bold font-size-small text-transform-uppercase margin-bottom-xxsmall">{{ i18n.endDate }}</div>\n<div db-dropdown selected-item=dates.endDateType on-item-selected="switchDateType(\'endDate\')" label-attribute=name items=DateTypes class=inline-block>\n<db-dropdown-button>{{ dates.endDateType.name }}</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n</div>\n<div class=inline-block ng-show="dates.endDateType.value == \'specific\'">\n<input class=ga-input-style db-datepicker-popup ng-model=dates.endDate ng-change=updateSectionValue() />\n</div>\n<div class=inline-block ng-show="dates.endDateType.value == \'relative\'">\n<div class="color-gray-5 font-weight-semi-bold font-size-small margin-bottom-xxsmall text-transform-uppercase">{{ ::i18n.daysBack }}</div>\n<input type=text class="input-style ga-input-style" ng-model=dates.endDate ng-change=updateSectionValue() />\n</div>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=cn-subsection>\n<div class=cn-subsection-header>\n<i class="icon-funnel section-icon"></i>\n<div class="subsection-header ng-binding db-text-display-2">\n{{ ::i18n.filter }}\n</div>\n<div class=inline-flex>\n<div>\n<db-toggle ng-model=toggle.segments on-change=removeSegments()></db-toggle>\n</div>\n<div class=toggle-text>{{ i18n.useSegments }}</div>\n</div>\n<div ng-click="vm.visibilities[\'segment\'] = !vm.visibilities[\'segment\']" class="inline-block cn-subsection-expander color-link" ng-show=toggle.segments>\n<span ng-show="!vm.visibilities[\'segment\']" class=ng-binding>{{::i18n.showAdvanced}}</span>\n<span ng-show="vm.visibilities[\'segment\']" class="ng-binding ng-hide">{{::i18n.hideAdvanced}}</span>\n<i class=icon-chevron-down ng-class="{selected: vm.visibilities[\'segment\']}"></i>\n</div>\n</div>\n<div ng-show="vm.visibilities[\'segment\']" class="subsection-content flex">\n<div class=advanced-description-container>\n<div class="db-text-display-5 advanced-description-text">{{::i18n.segments}}</div>\n<div class=margin-top-xsmall>{{::i18n.segmentText}}</div>\n<cn-radial id=segment-radial total-count="{{ model.segments.length }}" available-count="{{ model.segments.length }}" selected-count="{{ selectedSegments.length }}" subtext={{i18n.segments}} color=purple ng-mouseover="showSegmentPopover = true" ng-mouseleave="showSegmentPopover = false" class=margin-top-large></cn-radial>\n<db-popover class="popover ga-popover" activation=showSegmentPopover placement=right-center anchor=#segment-radial>\n<div class=popover-arrow></div>\n<div class=header-text>\n{{ i18n.selectedSegments }}\n</div>\n<div class=body-text>\n<ul>\n<li ng-repeat="seg in selectedSegments | orderBy:\'label\'">\n{{ seg.label }}\n</li>\n</ul>\n</div>\n</db-popover>\n</div>\n<div class="flex flex-column">\n<div class="inline-flex margin-bottom-medium margin-top-medium">\n<input type=text ng-model=segmentSearch placeholder={{::i18n.searchSegments}} class=input-style />\n</div>\n<ul class=col-list>\n<li ng-repeat="item in model.segments | filter:segmentSearch | orderBy:\'label\'" class=segment-item>\n<db-checkbox ng-change=updateSelectedSegments() ng-model=item.selected>{{item.label}}</db-checkbox>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=cn-subsection>\n<div class=cn-subsection-header>\n<i class="icon-pulse section-icon"></i>\n<div class="subsection-header ng-binding db-text-display-2">\n{{ ::i18n.test }}\n</div>\n<db-button class="ga-test-button margin-right-xsmall" ng-click=testConfig()>{{ ::i18n.runTest }}</db-button>\n<span class=color-green ng-show="successfulConfiguration === true">\n<i class=icon-check-circle-outline></i>\nSuccessful!\n</span>\n<span class=color-red ng-show="successfulConfiguration === false">\n<i class=icon-x-circle-outline></i>\n{{ configTestErrorMessage }}\n</span>\n</div>\n</div>\n</div>';
window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/ga-advanced/v4/cw-ga-advanced-v4.html",t)}])},1897:function(e,n){var t=e.exports='<div ng-controller=cwGenerateWebhookCtrl class="inline-block webhook-section">\n<div>\n<div ng-if=!token class="padding-bottom-xxsmall font-size-small">\n<div class="font-weight-semi-bold color-gray-8">\n{{::i18n.webhookUrl}}\n</div>\n<div ng-bind-html=section.webhookDescription></div>\n</div>\n<div class="spinner large margin-large" ng-show=!section.value></div>\n<div ng-if=token class="font-weight-semi-bold color-gray-4 padding-bottom-xxsmall">{{::i18n.token}}</div>\n<input disabled=disabled id=webhook-url ng-show=section.value ng-model=section.value />\n<db-button class=copy-button id=copy-url ng-show="!token && !errorMessage" theme=primary>\n<span dm-i18n key=buzz/copy-link ng-show=!copied></span>\n<i class=icon-check ng-show=copied></i>\n</db-button>\n<db-button class=copy-button id=copy-token ng-show="token && !errorMessage" theme=primary>\n<span dm-i18n key=connectors/copy-token ng-show=!copied></span>\n<i class=icon-check ng-show=copied></i>\n</db-button>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'" style=vertical-align:top></ng-include>\n<div class="color-alert-red padding-left-xsmall" ng-show=errorMessage>\n{{errorMessage}}\n</div>\n</div>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/generate-webhook/cw-generate-webhook.html",t)}])},1898:function(e,n){var t=e.exports="<div ng-controller=cwGenerateWebhookCtrl></div>";window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/generate-webhook/cw-generate-webhook-hidden.html",t)}])},1899:function(e,n){var t=e.exports='<div ng-controller=cwCopyfieldCtrl>\n<div class=padding-vertical-small>\n<span ng-class="{\'color-gray-6\': copied}">{{section.description}}</span>\n<a id=copyButton style=padding-left:15px ng-show=!copied><span dm-i18n key=buzz/copy-link></span></a>\n<i class="icon-check color-alert-green padding-left-medium" ng-show=copied></i>\n</div>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'"></ng-include>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/copyfield/cw-copyfield.html",t)}])},1900:function(e,n){var t=e.exports='<div ng-controller="cwJiraBuilderCtrl as vm" class=jira-builder>\n<div>\n<div class="font-weight-semi-bold color-gray-8">\nSample Jira issue key\n</div>\n<input ng-model=issueKey id=jira-issue-id db-tooltip="Enter a valid Jira issue key to explore standard and custom fields in the builder below."/>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'" style=vertical-align:top>\nEnter Jira issue key to preview your custom messaging as a template.\n</ng-include>\n<div>\n</div>\n<div class="alert-text red" id=jira-alert-message ng-class="{ \'green\' : validMessage.isValid }">\n<i ng-class="{ \'icon icon-check-circle green\' : (validMessage.isValid && validMessage.message), \'icon icon-x-circle red\' : !(validMessage.isValid) && validMessage.message }">\n</i>\n{{ validMessage.message }}\n</div>\n<div class="inline-block message-builder-pane">\n<div class="font-weight-semi-bold color-gray-8">Jira issue fields</div>\n<jira-tree-select selected=data.selected tree=fields jira-click=appendToMessage show-select-deselect-all=false id=fields-bounding-box></jira-tree-select>\n</div>\n<div class="inline-block message-builder-pane">\n<div class="font-weight-semi-bold color-gray-8">Message</div>\n<textarea id=jira-custom-message ng-model=messageObj.uiMessage ng-change=updateMessage(issueKey) ng-model-options="{ debounce : 1000 }" cols=""></textarea>\n</div>\n</div>\n</div>';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/jira-builder/jira-builder.html",t)}])},1901:function(e,n){var t=e.exports='<div ng-controller=cwGenerateEmailCtrl class="inline-block email-section">\n<div>\n<div ng-if=!token class="padding-bottom-xxsmall font-size-small">\n<div class="font-weight-semi-bold color-gray-8">\n{{::i18n.emailAddress}}\n</div>\n<div ng-bind-html=section.emailDescription></div>\n</div>\n<div class="spinner large margin-large" ng-show=!section.value></div>\n<input disabled=disabled id=email-address ng-show=section.value ng-model=section.value />\n<db-button class=copy-button id=copy-email-address ng-show="!token && !errorMessage" theme=primary>\n<span dm-i18n key=buzz/copy-email ng-show=!copied></span>\n<i class=icon-check ng-show=copied></i>\n</db-button>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'" style=vertical-align:top></ng-include>\n<div class="color-alert-red padding-left-xsmall" ng-show=errorMessage>\n{{errorMessage}}\n</div>\n</div>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/generate-email/cw-generate-email.html",t)}])},1902:function(e,n){var t=e.exports='<div ng-controller=cwDropdownCtrl class=cw-section-dropdown-no-discovery>\n<div class=inline-block>\n<div db-dropdown ng-class="::{\'input-width\' : !section.data.shrinkToSelection}" class=mega-dropdown items=data.internalItems selected-item=data.internalValue on-item-selected=setUserModified(item) item-helper=cwConfigFormCtrl>\n<db-dropdown-button>\n<i ng-if=data.internalValue.icon class={{data.internalValue.icon}}></i>\n<ng-include ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n<span ng-class="{\'margin-left-xxsmall\' : data.internalValue.icon}">\n{{(data.internalValue.label | cwI18n:cwConfigFormCtrl.strings) || (section.data.placeholder | cwI18n:cwConfigFormCtrl.strings)}}\n</span>\n</db-dropdown-button>\n<db-dropdown-templated-list>\n<i ng-if="::!item.heading && !item.separator && item[iconAttribute]" class=icon-{{::item[iconAttribute]}}></i>\n<span ng-if=::!item.separator>{{::item.label | cwI18n:itemHelper.strings | dbExtraWrap}}</span>\n</db-dropdown-templated-list>\n</div>\n</div>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'"></ng-include>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/dropdown/dropdown.html",t)}])},1903:function(e,n){var t=e.exports='<div ng-controller=cwDiscoveryDropdownCtrl class="margin-top-xxsmall cw-command-select">\n<db-button ng-show="section.data.loading && !section.data.error" class="margin-right-none padding-right-xxsmall" ng-class="::{\'input-width\' : !section.data.shrinkToSelection }">\n<i class="spinner small float-right"></i>\n<span ng-class="::{\'padding-right-small\' : section.data.shrinkToSelection }">\n{{section.data.loadingMsg | cwI18n:cwConfigFormCtrl.strings:\'loading-text\'}}\n</span>\n</db-button>\n<span ng-show="!section.data.loading && !section.data.error">\n<div db-dropdown class="mega-dropdown inline-block" ng-class="::{\'input-width\' : !section.data.shrinkToSelection }" items=data.internalItems selected-item=data.internalValue on-item-selected=onItemSelected(item) item-helper=cwConfigFormCtrl>\n<db-dropdown-button>\n<ng-include ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n{{ (data.internalValue.label | cwI18n:cwConfigFormCtrl.strings) || (section.data.placeholder | cwI18n:cwConfigFormCtrl.strings)}}\n</db-dropdown-button>\n<db-dropdown-templated-list>\n<i ng-if="!item.heading && !item.separator && item[iconAttribute]" class=icon-{{item[iconAttribute]}}></i>\n<span ng-if=!item.separator>{{item.label | cwI18n:itemHelper.strings | dbExtraWrap}}</span>\n</db-dropdown-templated-list>\n</div>\n</span>\n<div ng-if="section.data.error && data.internalValue" class="inset-container blue border-radius-large margin-none inline-block box-sizing-border-box" ng-class="::{\'input-width\' : !section.data.shrinkToSelection }">\n<div class=display-table-row>\n<div class="display-table-cell vertical-align-middle">\n<i class="icon-info-circle _24"></i>\n</div>\n<div class="padding-left-xsmall display-table-cell vertical-align-middle font-size-small">\n<div class=margin-bottom-xsmall>We were unable to get the updated data you requested.</div>\n<div>But don\'t worry, we will keep your previously saved values just in case.</div>\n<div ng-click=retryCommand() class="font-size-xsmall color-link cursor-pointer">Try again?</div>\n</div>\n</div>\n</div>\n<db-button ng-if="section.data.error && !data.internalValue" class="margin-none padding-right-xxsmall" ng-class="::{\'input-width\' : !section.data.shrinkToSelection }" ng-click=retryCommand()>\n<i class="icon-exclamation-point-circle alert-text red float-right"></i>\n<span class="alert-text red"> Something went wrong getting data! </span>\n</db-button>\n<span ng-if="!(section.data.error && data.internalValue)">\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/tooltip.html\'"></ng-include>\n</span>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/discovery/discoverydropdown/cw-discovery-dropdown.html",t)}])},1904:function(e,n){var t=e.exports='<i ng-mouseover="showerrortooltip = true" ng-mouseleave="showerrortooltip = false" class="icon-exclamation-point-circle color-red _24" db-tooltip="{{section.errorMessage && section.errorMessage.length ? section.errorMessage : (\'dataflows/invalid\' | i18n)}}" db-tooltip-placement=bottom theme=danger>\n</i>';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/includes/error-tooltip.html",t)}])},1905:function(e,n){var t=e.exports='<i ng-show=section.valid ng-mouseover="showwarningtooltip = true" ng-mouseleave="showwarningtooltip = false" class="icon-exclamation-triangle color-yellow _24" db-tooltip="{{section.errorMessage && section.errorMessage.length ? section.errorMessage : (\'dataflows/invalid\' | i18n)}}" db-tooltip-placement=bottom theme=cta>\n</i>';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/includes/warning-tooltip.html",t)}])},1906:function(e,n){var t=e.exports='<div ng-controller=cwDiscoveryStringCtrl class="margin-top-xxsmall margin-bottom-small cw-command-input">\n<div ng-show="data.loading || data.error" type=text class="input full-width fake-input">\n<i ng-show=data.loading class="spinner small float-right"></i>\n<span ng-show=data.loading class=color-text-default>{{section.data.loadingMsg || \'Loading...\'}}</span>\n<i ng-show=data.error class="icon-exclamation-point-circle alert-text red float-right"></i>\n<span ng-show=data.error class="alert-text red">Error loading data!</span>\n</div>\n<div ng-show="!data.loading && !data.error">\n<span>\n<div class=validation-input>\n<input ng-required=section.required type=text class="input full-width" ng-attr-name={{section._form_name_}} placeholder="{{section.data.placeholder | cwI18n:cwConfigFormCtrl.strings}}" ng-model=data.input ng-keydown=setUserModified() ng-class="{invalid: section.valid === false}"/>\n<ng-include class=warning-right ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include class=warning-right ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n</div>\n</span>\n<span ng-show="innerForm.$dirty && innerForm.$invalid" class=help-inline>\n{{section.validationMessage | cwI18n:cwConfigFormCtrl.strings}}\n</span>\n<div class="help-block font-size-small color-medium-gray">{{section.description | cwI18n:cwConfigFormCtrl.strings}}</div>\n</div>\n<div ng-show=section.data.disabled class="alert-banner yellow inline-block margin-top-xsmall margin-bottom-none">\n{{ section.data.noResultsMsg | cwI18n:cwConfigFormCtrl.strings:\'no-results\' }}\n</div>\n</div>';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/discovery/discoverystring/cw-discovery-string.html",t)}])},1907:function(e,n){var t=e.exports='<div ng-controller=cwDiscoveryTreeCtrl class="margin-top-xxsmall margin-bottom-small cw-command-tree">\n<div class="position-relative container">\n<div class="centered-container position-absolute fill-parent loading border-radius-medium" ng-show="data.loading && !data.error">\n<div class="spinner-overlay large no-text">\n<dm-i18n key=loading> </dm-i18n>\n</div>\n</div>\n<div class="position-absolute fill-parent padding-top-xxsmall padding-right-xxsmall tree-message-container" ng-show="section.warning || section.valid === false">\n<ng-include class=float-right ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include class=float-right ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n</div>\n<div class="centered-container position-absolute fill-parent error tree-message-container" ng-show=data.error>\n<div ng-if="data.selected.length > 0" class="inset-container blue border-radius-large margin-none margin-horizontal-xsmall">\n<div class=display-table-row>\n<div class="display-table-cell vertical-align-middle">\n<i class="icon-info-circle _24"></i>\n</div>\n<div class="padding-left-xsmall display-table-cell vertical-align-middle font-size-small">\n<div class=margin-bottom-xsmall>We were unable to get the updated data you requested.</div>\n<div>But don\'t worry, we will keep your previously saved values just in case.</div>\n</div>\n</div>\n</div>\n<div ng-if="!data.selected || data.selected.length === 0" class="inset-container red border-radius-large margin-none margin-horizontal-xsmall">\n<div class=display-table-row>\n<div class="display-table-cell vertical-align-middle">\n<i class="icon-exclamation-point-circle _24"></i>\n</div>\n<div class="padding-left-xsmall display-table-cell vertical-align-middle">\nSomething went wrong getting data!\n</div>\n</div>\n</div>\n</div>\n<div dm-tree-select selected=data.selected tree=data.tree max-selections=data.maxSelections show-select-deselect-all={{data.showSelectDeselectAll}} ng-click=setUserModified()></div>\n</div>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/discovery/discoverytree/cw-discovery-tree.html",t)}])},1908:function(e,n){var t=e.exports='<div ng-controller=cwAdvancedScheduleCtrl>\n<div class="schedule-section font-size-small">\n<div class="tab-bar lite small margin-bottom-small" ng-hide=selectionMode>\n<ng-include ng-if="section.valid === false" src="\'/public/javascripts/config-wizard/sections/includes/error-tooltip.html\'"></ng-include>\n<ng-include ng-if=section.warning src="\'/public/javascripts/config-wizard/sections/includes/warning-tooltip.html\'"></ng-include>\n<div class=tab ng-class="{active: schedule.isBasicView()}" ng-click="schedule.state.advancedView=false">\n<dm-i18n key=wizard/section-schedule-basic></dm-i18n>\n<i ng-click="showbasictooltip = true" class="margin-left-xxsmall icon-question-circle tooltip-icon sm" ng-class="{ hover : showbasictooltip }">\n<db-popover ng-show=showbasictooltip self-close placement=right-center class="width-medium popover">\n<div class=popover-arrow></div>\n<i class="icon-x float-right margin-left-small color-gray-9 cursor-pointer" ng-click="showbasictooltip = false"></i>\n<div class="font-size-small cw-tooltip-content">\n<div class="display-block margin-bottom-small" dm-i18n=wizard/basic-schedule safe-data="{startBold: \'<strong>\', endBold: \'</strong>\'}"></div>\n<div class="display-block margin-bottom-small" dm-i18n=wizard/basic-schedule-2></div>\n<div class="display-block margin-bottom-small" dm-i18n=wizard/basic-schedule-3></div>\n<div class=display-block dm-i18n=wizard/basic-schedule-4 safe-data="{startBold: \'<strong>\', endBold: \'</strong>\'}"></div>\n</div>\n</db-popover>\n</i>\n</div>\n<div class=tab ng-class="{active: schedule.isAdvancedView()}" ng-click="schedule.state.advancedView=true">\n<dm-i18n key=wizard/section-schedule-advanced></dm-i18n>\n<i ng-click="showadvancedtooltip = true" class="margin-left-xxsmall icon-question-circle tooltip-icon sm" ng-class="{ hover : showadvancedtooltip }">\n<db-popover ng-show=showadvancedtooltip self-close placement=right-center class="width-medium popover">\n<div class=popover-arrow></div>\n<i class="icon-x float-right margin-left-small color-gray-9 cursor-pointer" ng-click="showadvancedtooltip = false"></i>\n<div class="font-size-small cw-tooltip-content">\n<div class="display-block margin-bottom-small" dm-i18n=wizard/advanced-schedule safe-data="{startBold: \'<strong>\', endBold: \'</strong>\'}"></div>\n<div class="display-block margin-bottom-small" dm-i18n=wizard/advanced-schedule-2></div>\n<div class=display-block dm-i18n=wizard/advanced-schedule-3></div>\n</div>\n</db-popover>\n</i>\n<i class="icon-lock-closed color-gray-9" ng-if=schedule.isAdvancedSchedulingLocked(features)></i>\n</div>\n</div>\n<div>\n<div ng-show=schedule.isBasicView()>\n<span class="font-weight-bold inline-block margin-right-xxsmall" dm-i18n=common/update></span>\n<div db-dropdown items=schedule.data.types selected-item=schedule.state.type class=inline-block>\n<db-dropdown-button class=small>\n{{schedule.state.type.label}}\n<i class="icon-lock-closed vertical-align-top" ng-if=schedule.state.type.locked dm-tooltip-i18n=freemium/want-faster-updates db-tooltip-placement=right></i>\n</db-dropdown-button>\n<db-dropdown-templated-list>\n<div ng-if=!item.locked>{{::item.label}}</div>\n<div ng-if=item.locked dm-tooltip-i18n=freemium/want-faster-updates db-tooltip-placement=right>\n{{::item.label}}\n<i class="icon-lock-closed vertical-align-top" ng-if=item.locked></i>\n</div>\n</db-dropdown-templated-list>\n</div>\n<div class="hourly-schedule inline-block" ng-if="schedule.isMinute() || schedule.isHour()">\n<div ng-class="{\'color-light-gray-1\' : !schedule.state.betweenFlag }">\n<db-checkbox ng-model=schedule.state.betweenFlag>{{\'wizard/section-schedule-active-between\' | i18n}}</db-checkbox>\n<div db-dropdown items=schedule.data.hours selected-item=schedule.state.between.startTime dropdown-disabled={{!schedule.state.betweenFlag}} class=inline-block>\n<db-dropdown-button class=small> {{schedule.state.between.startTime.label}}</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n<span dm-i18n=wizard/section-schedule-and></span>\n<div db-dropdown items=schedule.data.hours selected-item=schedule.state.between.stopTime dropdown-disabled={{!schedule.state.betweenFlag}} class=inline-block>\n<db-dropdown-button class=small> {{schedule.state.between.stopTime.label}}</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n</div>\n</div>\n<div class="daily-schedule inline-block" ng-if="schedule.isDay() || schedule.isWeekDay()">\n<span class=inline-text dm-i18n=wizard/section-schedule-at></span>\n<input class="input inline-block width-small small margin-left-xxsmall margin-right-xxsmall" type=text ng-model=schedule.state.at dm-time-input/>\n<span class=inline-text dm-i18n=wizard/section-schedule-UTC></span>\n</div>\n<div class="weekly-schedule inline-block" ng-if=schedule.isWeek()>\n<span class=inline-text dm-i18n=wizard/section-schedule-on></span>\n<div db-dropdown items=schedule.data.daysOfWeek selected-item=schedule.state.dayOfWeek class="inline-block margin-left-xxsmall">\n<db-dropdown-button class=small> {{schedule.state.dayOfWeek.label}}</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n<span class=inline-text dm-i18n=wizard/section-schedule-at></span>\n<input class="input inline-block width-small small margin-left-xxsmall margin-right-xxsmall" type=text ng-model=schedule.state.at dm-time-input/>\n<span class=inline-text dm-i18n=wizard/section-schedule-UTC></span>\n</div>\n<div class=inline-block ng-if=schedule.isMonth()>\n<span class=inline-text dm-i18n=wizard/section-schedule-on></span>\n<div db-dropdown items=schedule.data.simpleDaysOfMonth selected-item=schedule.state.simpleDayOfMonth class="inline-block margin-left-xxsmall">\n<db-dropdown-button class=small> {{schedule.state.simpleDayOfMonth.label}}</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n<span class=inline-text dm-i18n=wizard/section-schedule-at></span>\n<input class="input inline-block width-small small margin-left-xxsmall margin-right-xxsmall" type=text ng-model=schedule.state.at dm-time-input/>\n<span class=inline-text dm-i18n=wizard/section-schedule-UTC></span>\n</div>\n<div class="manual-schedule inline-block" ng-if=schedule.isManual()>\n<db-checkbox ng-model=schedule.state.notifyFrequencyFlag>{{\'wizard/section-schedule-warn-if\' | i18n}}</db-checkbox>\n<div db-dropdown items=schedule.data.notifyFrequencies selected-item=schedule.state.notifyFrequency class="margin-left-xxsmall vertical-align-top inline-block" dropdown-disabled={{!schedule.state.notifyFrequencyFlag}}>\n<db-dropdown-button class=small>\n<span>{{schedule.state.notifyFrequency.label}}</span>\n</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n</div>\n</div>\n<div ng-show=schedule.isAdvancedView() class=advanced-schedule>\n<div class=overlay ng-class="{\'disabled\': schedule.isAdvancedSchedulingLocked(features)}" ng-if=schedule.isAdvancedSchedulingLocked(features)>\n<div class=message>\n<h4>{{ \'freemium/want-faster-updates\' | i18n }}</h4>\n<p>{{ \'freemium/update-every-fifteen\' | i18n }}</p>\n<db-button theme=primary ng-click=showUpsellModal()>{{ \'freemium/start-domo-trial\' | i18n }}</db-button>\n</div>\n</div>\n<div class="advanced-table display-table padding-bottom-small margin-bottom-small border-bottom-default">\n<div class="advanced-month-selector display-table-cell padding-right-medium border-right-default">\n<div class="font-size-small font-weight-bold margin-bottom-xsmall" dm-i18n=wizard/section-schedule-months></div>\n<div>\n<db-checkbox class=text-transform-uppercase ng-model=schedule.state.advanced.monthAll>{{\'wizard/section-schedule-select-all\' | i18n}}</db-checkbox>\n<ul>\n<li ng-repeat="month in schedule.data.advanced.months">\n<db-checkbox ng-model=month.active>{{month.label}}</db-checkbox>\n</li>\n</ul>\n</div>\n<dm-upsell-modal as-content=false modal-show=showUpsell></dm-upsell-modal>\n</div>\n<div class="advanced-day-selector display-table-cell padding-horizontal-medium border-right-default">\n<div class="font-size-small color-link cursor-pointer margin-bottom-xsmall">\n<span ng-class="{\'font-weight-bold color-text-default\' : schedule.state.advanced.isDaysOfMonth() }" ng-click="schedule.state.advanced.dayMode = \'month\'" dm-i18n=wizard/section-schedule-days-month></span>\n<span class=color-text-default> / </span>\n<span ng-class="{\'font-weight-bold color-text-default\' : schedule.state.advanced.isDaysOfWeek() }" ng-click="schedule.state.advanced.dayMode = \'week\'" dm-i18n=wizard/section-schedule-days-week></span>\n</div>\n<div ng-if=schedule.state.advanced.isDaysOfMonth()>\n<db-checkbox class=text-transform-uppercase ng-model=schedule.state.advanced.dayOfMonthAll>{{\'wizard/section-schedule-select-all\' | i18n}}</db-checkbox>\n<div class="display-table full-width table-fixed">\n<div ng-repeat="row in schedule.data.advanced.daysOfMonthAsColumns" class=display-table-row>\n<div ng-repeat="dayOfMonth in row" class=display-table-cell>\n<db-checkbox ng-model=dayOfMonth.active>{{dayOfMonth.label}}</db-checkbox>\n</div>\n</div>\n</div>\n</div>\n<div ng-if=schedule.state.advanced.isDaysOfWeek()>\n<div class=inline-block>\n<db-checkbox ng-model=schedule.state.advanced.dayOfWeekAll class=text-transform-uppercase>{{\'wizard/section-schedule-select-all\' | i18n}}</db-checkbox>\n<ul class="">\n<li ng-repeat="dayOfWeek in schedule.data.advanced.daysOfWeek">\n<db-checkbox ng-model=dayOfWeek.active>{{dayOfWeek.label}}</db-checkbox>\n</li>\n</ul>\n</div>\n<div class="inline-block vertical-align-top margin-left-small">\n<db-checkbox class=text-transform-uppercase ng-model=schedule.state.advanced.weekAll>{{\'wizard/section-schedule-select-all\' | i18n}}</db-checkbox>\n<ul class="">\n<li ng-repeat="week in schedule.data.advanced.weeks">\n<db-checkbox ng-model=week.active>{{week.label}}</db-checkbox>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class="display-table-cell padding-horizontal-medium">\n<div class="font-size-small color-link cursor-pointer margin-bottom-xsmall">\n<span ng-class="{\'font-weight-bold color-text-default\' : schedule.state.advanced.isIntervals() }" ng-click="schedule.state.advanced.timeMode = \'interval\'" dm-i18n=wizard/section-schedule-intervals></span>\n<span class=color-text-default> / </span>\n<span ng-class="{\'font-weight-bold color-text-default\' : schedule.state.advanced.isTimes() }" ng-click="schedule.state.advanced.timeMode = \'time\'" dm-i18n=wizard/section-schedule-times></span>\n</div>\n<div ng-show=schedule.state.advanced.isIntervals()>\n<div class=margin-bottom-xxsmall dm-i18n=wizard/section-schedule-every></div>\n<div db-dropdown items=schedule.data.advanced.repeatIntervals selected-item=schedule.state.advanced.repeatInterval dropdown-disabled="{{ schedule.isAdvancedSchedulingLocked(features) }}">\n<db-dropdown-button class=small disabled=schedule.isAdvancedSchedulingLocked(features)> {{schedule.state.advanced.repeatInterval.label}}</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n<div class=margin-top-xsmall ng-class="{\'color-light-gray-1\' : !schedule.state.advanced.betweenFlag }">\n<db-checkbox ng-model=schedule.state.advanced.betweenFlag>{{\'wizard/section-schedule-active-between\' | i18n}}</db-checkbox>\n<div db-dropdown items=schedule.data.advanced.hours selected-item=schedule.state.advanced.between.startTime dropdown-disabled="{{!schedule.state.advanced.betweenFlag || schedule.isAdvancedSchedulingLocked(features) }}" class=inline-block>\n<db-dropdown-button class=small> {{schedule.state.advanced.between.startTime.label}}</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n<span dm-i18n=wizard/section-schedule-and> </span>\n<div db-dropdown items=schedule.data.advanced.hours selected-item=schedule.state.advanced.between.stopTime dropdown-disabled="{{!schedule.state.advanced.betweenFlag || schedule.isAdvancedSchedulingLocked(features) }}" class=inline-block>\n<db-dropdown-button class=small> {{schedule.state.advanced.between.stopTime.label}}</db-dropdown-button>\n<db-dropdown-basic-list></db-dropdown-basic-list>\n</div>\n</div>\n</div>\n<div ng-show=schedule.state.advanced.isTimes()>\n<div ng-repeat="time in schedule.state.advanced.times" class=margin-bottom-xsmall>\n<input class="input inline-block width-small small margin-right-xxsmall" type=text ng-model=time.value dm-time-input/>\n<i class="icon-x cursor-pointer" ng-click=schedule.state.advanced.removeTime(time) ng-hide="$index === 0"></i>\n</div>\n</div>\n</div>\n</div>\n<div class="margin-bottom-xxsmall inline-fields">\n<db-checkbox class=padding-none ng-model=schedule.state.advanced.startFlag>{{::\'wizard/section-schedule-start\' | i18n}}</db-checkbox>\n<span ng-show=schedule.state.advanced.startFlag>\n<input type=text class="input vertical-align-top margin-left-xxsmall small width-medium text-align-center" dm-date-picker-input date year month ng-model=schedule.state.advanced.startDate />\n<input class="input inline-block width-small small margin-right-xxsmall" type=text ng-model=schedule.state.advanced.startTime dm-time-input/>\n<span class=vertical-align-middle dm-i18n=wizard/utc></span>\n</span>\n<span ng-show=!schedule.state.advanced.startFlag>\n<span class=color-light-gray-1 dm-i18n=wizard/section-schedule-immediately></span>\n</span>\n</div>\n</div>\n</div>\n</div>\n<ng-include src="\'/public/javascripts/config-wizard/sections/includes/basic.html\'"></ng-include>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/sections/advancedschedule/schedule.html",t)}])},1909:function(e,n){var t=e.exports='<div class=config-wizard>\n<div ng-show=data.heading>\n<h1>{{data.heading | cwI18n:data.strings}}</h1>\n<div ng-show=data.subheading>\n<h1>{{data.subheading | cwI18n:data.strings}}</h1>\n</div>\n</div>\n<div ng-repeat="step in data.steps" class=step>\n<div ng-show=isCurrentStep(step)>\n<h5 class="margin-bottom-small color-text-header">{{getTitleSummary(step)}}</h5>\n<hr class=margin-bottom-xlarge />\n<div ng-show=step.description class=margin-bottom-xxlarge>{{step.description | cwI18n:data.strings}}</div>\n<cw-config-form sections=step.sections custom-section-types=customSectionTypes i18n-strings=data.strings></cw-config-form>\n<hr class=margin-top-xlarge />\n<div class="text-align-right margin-top-medium">\n<db-button class="assign blue" ng-click=onAssign()><dm-i18n key=library/assign></dm-i18n></db-button>\n<db-button theme="button.theme || \'primary\'" ng-repeat="button in step.buttons" ng-click="!button.disabled && button.callback(button,step)" ng-disabled=button.disabled ng-bind-html=button.text>\n</db-button>\n<db-button theme=primary class=connect data-pendo-anchor="config-wizard/account/connect/{{step.nextStepText.replace(\' \', \'-\').toLowerCase() || \'next\'}}" ng-if=!step.buttons ng-click="stepIsValid(step) && advanceStep()" ng-disabled=!stepIsValid(step) data-ui-test_appstore-config-wizard-account-connect>\n{{step.nextStepText | cwI18n:data.strings:\'next\'}}\n</db-button>\n</div>\n</div>\n</div>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/layouts/cw-config-wizard-app-store.html",t)}])},1910:function(e,n){var t=e.exports='<div class=config-wizard>\n<div ng-show=data.heading>\n<h1>{{data.heading | cwI18n:data.strings}}</h1>\n<hr class=margin-bottom-medium />\n</div>\n<div ng-repeat="step in data.steps" class=step>\n<div ng-show=isCurrentStep(step)>\n<h5 class="margin-bottom-small color-text-header">{{getTitleSummary(step)}}</h5>\n<div ng-show=step.description class=margin-bottom-xxlarge>{{step.description | cwI18n:data.strings}}</div>\n<cw-config-form sections=step.sections custom-section-types=customSectionTypes i18n-strings=data.strings></cw-config-form>\n<hr/>\n<div class="text-align-right margin-top-medium">\n<span class="float-left margin-top-xsmall font-size-small color-text-header"> Step {{currentStepNum}} of {{data.steps.length}} </span>\n<db-button theme=alt ng-click=regressStep() ng-show=!isFirstStep(step)>\n<i class=icon-chevron-left></i>\n<span class=margin-left-xxsmall>Back</span>\n</db-button>\n<db-button theme="button.theme || \'primary\'" ng-repeat="button in step.buttons" ng-click="!button.disabled && button.callback(button,step)" ng-disabled=button.disabled ng-bind-html=button.text>\n</db-button>\n<db-button theme=primary data-pendo-anchor="config-wizard/account/connect/{{step.nextStepText.replace(\' \', \'-\').toLowerCase() || \'next\'}}" ng-if=!step.buttons ng-click="stepIsValid(step) && advanceStep()" ng-disabled=!stepIsValid(step)>{{step.nextStepText | cwI18n:data.strings:\'next\'}}</db-button>\n</div>\n</div>\n</div>\n</div>\n';
window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/layouts/cw-config-wizard-page-per-step.html",t)}])},1911:function(e,n){var t=e.exports="<div class=config-wizard ng-bind-html=data.html></div>\n";window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/layouts/cw-config-wizard-tile.html",t)}])},1912:function(e,n){var t=e.exports='<div class=config-wizard>\n<div ng-show=data.heading>\n<h1>{{data.heading | cwI18n:data.strings}}</h1>\n<hr class=margin-bottom-medium />\n</div>\n<div ng-repeat="step in data.steps" class="step margin-bottom-xsmall">\n<span ng-show=step.description class="font-size-small inline-block margin-bottom-medium">{{step.description | cwI18n:data.strings}}</span>\n<cw-config-form sections=step.sections custom-section-types=customSectionTypes i18n-strings=data.strings></cw-config-form>\n<span ng-show="isValidating === true">\n<span class="spinner small"></span>\n<span class="margin-top-xsmall font-size-small blue" dm-i18n=connectors/validating></span>\n</span>\n<span ng-show="errorIsInvalid(step) || errorIsWarning(step)" ng-class="{\'color-red\': errorIsInvalid(step), \'color-yellow\': errorIsWarning(step)}">\n<i ng-class="{\'icon-exclamation-point-circle\': errorIsInvalid(step), \'icon-exclamation-triangle\': errorIsWarning(step)}"></i>\n<span class="margin-top-xsmall font-size-small"> {{ getErrorMessage(step) }}</span>\n</span>\n</div>\n</div>\n';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/layouts/cw-config-wizard-single-column.html",t)}])},1913:function(e,n){var t=e.exports='<div class=config-wizard>\n<div ng-show=data.heading>\n<h1>{{data.heading | cwI18n:data.strings}}</h1>\n<hr class=margin-bottom-medium />\n</div>\n<div ng-repeat="step in data.steps" class="step margin-bottom-xsmall">\n<cw-collapsible-container cw-cc-header-click="canGoToStep(step) && goToStep($index+1)" cw-cc-open=isCurrentStep(step) cw-cc-animate={{data.animate}} cw-cc-disabled="editMode === \'false\' && $index > currentStepNum-1" cw-cc-title={{getTitleSummary(step)}} cw-cc-subtitle={{getValueSummary(step)}} cw-cc-invalid={{isInvalid(step)}} cw-cc-warning={{isWarning(step)}}>\n<span ng-show=step.description class="font-size-small inline-block margin-bottom-medium">{{step.description | cwI18n:data.strings}}</span>\n<cw-config-form sections=step.sections custom-section-types=customSectionTypes i18n-strings=data.strings></cw-config-form>\n<hr ng-if="!step.buttons || step.buttons.length > 0"/>\n<div class="text-align-{{data.stepButtonAlign || \'left\'}} margin-top-medium">\n<db-button theme="{{button.theme || \'primary\'}}" ng-repeat="button in step.buttons" ng-click="!button.disabled && button.callback(button,step)" ng-disabled=button.disabled>\n<div ng-if=button.spinning class="spinner small margin-right-xxsmall inline-block vertical-align-middle"></div>\n<span ng-bind-html=button.text></span>\n</db-button>\n<db-button ng-if="!step.buttons && !isWarning(step)" ng-click="stepIsValid(step) && advanceStep()" ng-disabled=!stepIsValid(step)>{{step.nextStepText | cwI18n:data.strings:\'next\'}}</db-button>\n<db-button ng-if="!step.buttons && isWarning(step)" ng-click="stepIsValid(step) && advanceStep(true)" ng-disabled=!stepIsValid(step) dm-i18n=continue></db-button>\n<span ng-show="isValidating === true">\n<span class="spinner small"></span>\n<span class="margin-top-xsmall font-size-small blue" dm-i18n=connectors/validating></span>\n</span>\n<span ng-show="errorIsInvalid(step) || errorIsWarning(step)" ng-class="{\'color-red\': errorIsInvalid(step), \'color-yellow\': errorIsWarning(step)}">\n<i ng-class="{\'icon-exclamation-point-circle\': errorIsInvalid(step), \'icon-exclamation-triangle\': errorIsWarning(step)}"></i>\n<span class="margin-top-xsmall font-size-small"> {{ getErrorMessage(step) }}</span>\n</span>\n</div>\n</cw-collapsible-container>\n</div>\n</div>';window.angular.module("configwizard").run(["$templateCache",function(e){e.put("/public/javascripts/config-wizard/layouts/cw-config-wizard-container-per-step.html",t)}])},1914:function(e,n,t){angular.module("configwizard").directive("cwConfigWizard",function(){"use strict";return{restrict:"E",scope:{data:"=",editMode:"@?",currentStepNum:"=",customSectionTypes:"=",onFinished:"&",onCurrentStepValidChange:"&",onValidate:"&",layout:"@?",onAssign:"&",isValidating:"=?",context:"=",configuration:"<?"},controller:"cwConfigWizardCtrl as cwConfigWizardCtrl",template:t(1915)}})},1915:function(e,n){e.exports="<div ng-switch on=layout>\n<div ng-switch-when=app-store>\n<cw-config-wizard-app-store></cw-config-wizard-app-store>\n</div>\n<div ng-switch-when=page-per-step>\n<cw-config-wizard-page-per-step></cw-config-wizard-page-per-step>\n</div>\n<div ng-switch-when=plugin|tile ng-switch-when-separator=|>\n<cw-config-wizard-tile></cw-config-wizard-tile>\n</div>\n<div ng-switch-when=single-column>\n<cw-config-wizard-single-column></cw-config-wizard-single-column>\n</div>\n<div ng-switch-default>\n<cw-config-wizard-container-per-step></cw-config-wizard-container-per-step>\n</div>\n</div>\n"},1916:function(e,n){angular.module("configwizard").controller("cwConfigWizardCtrl",["$scope","$injector","$filter","_","cwConfigWizardSectionsUtils","cwConfigWizardValuesUtils","cwConfigWizardUtils","i18n","cwConfigWizardComponentMetadata","Analytics",function(e,n,t,i,a,s,o,c,r,l){"use strict";function d(n){if(e.context){var t={app_name:e.context.appName,providerName:e.context.provider,step:n.label,status:e.stepIsValid(n)?"success":"failed"};l.track("card_power_up_step_advance",t)}else e.configuration.id&&e.trackAnalytics("connectors_create",{type:n.label})}e.isConfigWizard=!0,e.shared={},e.shared.commandProperties={},e.layout=e.layout||"container-per-step",e.componentMetadata=new r,e.mapLayoutToContext=function(e){switch(e){case"container-per-step":return"data-center";case"single-column":return"buzz";case"app-store":return"app-store";default:return"unknown"}},e.configuration=e.configuration||{},e.configuration.version=e.configuration.version||{},e.configuration.context=e.configuration.context||e.mapLayoutToContext(e.layout),e.getContext=function(){return e.context?e.context:{entity_unique_id:e.configuration.id+"/"+e.configuration.version.major+"/"+e.configuration.version.minor,previous_page:e.configuration.context}},e.trackAnalytics=function(n,t){var a=e.getContext();i.extend(a,t),l.track(n,a)},"false"==e.editMode&&"data-center"==e.configuration.context&&e.trackAnalytics("connectors_create",{type:"initialize"}),e.$watch("layout",function(n){if("plugin"===n){var t=i.find(e.data.steps,function(e){return e.sections&&e.sections.length>0}).sections,a=i.find(t,function(e){return"html"===e.type});e.data.html=a.data.html}}),e.$watch("data",function(n){i.isUndefined(n)||e._updateCurrentStep()}),e.$watch("currentStepNum",function(n){!i.isUndefined(n)&&e.data&&e.data.steps&&(e.currentStep=e.data.steps[e.currentStepNum-1])}),e.getValueSummary=function(t){if(t.summaryFunc){var i=n.get(t.summaryFunc);return i(t,e.data)}},e.getTitleSummary=function(i){var a=t("cwI18n"),s=i.titleFunc?n.get(i.titleFunc):function(n){return a(n.label,e.data.strings)};return s(i,e.data)},e.advanceStep=function(n){e.stepIsValid(e.currentStep)&&(e.currentStepNum!==e.data.steps.length-2||n?(d(e.currentStep),e.goToStep(e.currentStepNum+1)):(e.isValidating=!0,e.onValidate({values:s.getValuesFromData(e.data)}).then(function(){d(e.currentStep),e.isValidating=!1,e.stepIsValid(e.currentStep)&&!e.isWarning(e.currentStep)&&e.goToStep(e.currentStepNum+1)})))},e.regressStep=function(){e.goToStep(e.currentStepNum-1)},e.goToStep=function(n){return n>e.data.steps.length?void e.onFinished({values:s.getValuesFromData(e.data)}):void(e.currentStepNum=e._clickedStepAlreadyOpen(n)?0:n)},e._clickedStepAlreadyOpen=function(n){return n===e.currentStepNum},e._updateCurrentStep=function(){e.data.steps&&(e.currentStep=e.data.steps[e.currentStepNum-1])},e.stepIsValid=function(e){return o.getStepValidity(e)},e.canGoToStep=function(n){var t=e.data.steps.indexOf(e.currentStep),i=e.data.steps.indexOf(n);return"true"==e.editMode||i<t},e.isFirstStep=function(n){return 0===e.data.steps.indexOf(n)},e.isCurrentStep=function(n){return e.currentStep&&n.id===e.currentStep.id},e.isInvalid=function(e){return i.some(e.sections,function(e){return e.valid===!1})},e.isWarning=function(e){return i.some(e.sections,function(e){return e.warning===!0})},e.getErrorMessage=function(n){var t=e.isInvalid(n)?i.findWhere(n.sections,{valid:!1}):i.findWhere(n.sections,{warning:!0});return t&&t.errorMessage?t.errorMessage:c.get("connectors/invalid-settings")},e.errorIsInvalid=function(n){return!e.isValidating&&(e.isInvalid(n)||e.wizardIsInvalid())},e.errorIsWarning=function(n){return!e.isValidating&&e.isWarning(n)&&!e.errorIsInvalid(n)},e.wizardIsInvalid=function(){return!e.isValidating&&i.some(e.data.steps,function(n){return e.isInvalid(n)})},e.wizardIsValid=function(){return o.getWizardValidity(e.data)}}])},1917:function(e,n){angular.module("configwizard").service("cwConfigWizardValuesUtils",["cwConfigWizardSectionsUtils","_",function(e,n){"use strict";function t(n,t){t=t||{};var i=e.getSections(n,t);return a(i,t)}function i(n,t){t=t||{};var i=e.getSectionsFromData(n,t);return a(i,t)}function a(t,i){i=i||{};var a={};return n.each(t,function(n){!e.isSectionIgnored(n,i)&&e.sectionHasValue(n,i)&&s(n,a)}),a}function s(e,t){var i=e.valueName||e.name,a=e.value;o(e,a)?n.extend(t,c(a,e.valueName||e.name)):n.isArray(a)?t[i]=a.join(","):t[i]=a}function o(e,t){return!e.doNotFlatten&&n.isObject(t||e.value)&&!n.isArray(t||e.value)}function c(e,t){var i=t+".",a={};return n.each(e,function(e,t){n.isObject(e)||(a[i+t]=e)}),a}function r(t,i,a){var s={includeValueless:!0,forceAllValues:!0},o=e.getSectionsFromData(t,s),c=n.chain(i).keys().where(function(e){return!n.isUndefined(o[e])}).map(function(e){return[e,i[e]]}).object().value(),r=l(i,c),d=n.extend({},c,r);return n.each(d,function(e,t){var i=o[t];if(i)if(i.value=e,a){var s=n.findWhere(a.errors,{fieldName:t});if(i.setInvalid=!!s,i.errorMessage=i.setInvalid?s.errorMessage:null,!i.setInvalid){var c=n.findWhere(a.warnings,{fieldName:t});i.warning=!!c,i.errorMessage=i.warning?c.errorMessage:null}i.userModified=!1}else i.userModified=!0}),t}function l(e,t){var i={};return n.each(e,function(e,a){if(n.isUndefined(t[a])){var s=a.indexOf(".");if(s!==-1){var o=a.substring(0,s),c=a.substring(s+1);if(n.isUndefined(t[o])){var r=i[o]=i[o]||{};r[c]=e}}}}),i}return{setWizardSectionValues:r,getValues:t,getValuesFromData:i,getValuesForSections:a,appendSectionValueToValueSet:s}}])},1918:function(e,n){angular.module("configwizard").service("cwConfigWizardSectionsUtils",function(){function e(e,n){return n=n||{},s(e,n)}function n(e,n){var t=d(e)||{};return s(t.data,n)}function t(e,n){return n=n||{},s(e,n)}function i(e,n){return n=n||{},c(e,n)}function a(e,n){return n=n||{},o(e,n)}function s(e,n){n=n||{},e=e||{};var t=r(e,n),i={};return _.each(t,function(e){i[e.valueName||e.name]=e}),i}function o(e,n){return n&&n.includeValueless||!!e.value}function c(e,n){var t=e&&e.data&&e.data.ignoreValue;return t&&!n.forceAllValues}function r(e,n){if(e.sections)return l(e.sections,n);var t=_.pluck(e.steps,"sections"),i=_.union.apply(_,t);return l(i,n)}function l(e,n){return _.filter(e,function(e){return o(e,n)&&!c(e,n)})}function d(e){return p(e,"isConfigWizard")}function u(e){return p(e,"isConfigForm")}function p(e,n){for(var t=e;t&&(!t.hasOwnProperty(n)||!t[n]);)t=t.$parent;return!!t&&t}function g(e,n){var t=d(e)||{},i=t.data,a=_.find(i.steps,function(e){return"Data Selection"==e.label}),s=a.sections;if(n&&n.name&&n.value){var o=m(e,n.name);o||s.push(n)}}function m(e,n){return _.find(s(e,{includeValueless:!0}),function(e){return e.name==n})}return{getSections:n,getSectionsForStep:t,getSectionsFromData:e,isSectionIgnored:i,sectionHasValue:a,findWizardScope:d,findConfigFormScope:u,createSection:g,getSection:m}})},1919:function(e,n){angular.module("configwizard").service("cwConfigWizardUtils",["_","cwConfigWizardSectionsUtils","cwCommonSectionTypes",function(e,n,t){function i(n){return e.reduce(n.steps,function(e,n){return e&&s(n)},!0)}function a(e,n){var t=e.steps||[],i=t[n-1];return i&&s(i)}function s(n){if(n.mustHaveValue){for(var i=!1,a=0;a<n.sections.length;a++)n.sections[a].value&&(i=!0);if(!i)return!1}return e.reduce(n.sections,function(e,n){return e&&(n.valid||n.isHidden||!t.types[n.type])},!0)}function o(e){return!!n.findWizardScope(e)}function c(e){var t=n.findWizardScope(e);return t&&t.componentMetadata}return{getWizardValidity:i,getStepValidity:s,isStepNumValid:a,isConfigWizard:o,getWizardComponentMetadata:c}}])},1920:function(e,n){angular.module("configwizard").service("cwSectionVisibility",["cwConfigWizardValuesUtils","cwConfigWizardSectionsUtils","$parse",function(e,n,t){function i(t,i){if(!t.showWhen)return!0;var s=n.getSections(i),o=e.getValuesForSections(s);return a(t,s,o)}function a(e,n,i,a){if(!e.showWhen)return!0;var s=e.showWhen,o=_.clone(i);return o.sections=n,o.values=o,o.metadata=a,t(s)(o)}return{evaluateShowWhen:i,evaluateShowWhenWithParams:a}}])},1921:function(e,n){angular.module("configwizard").service("cwSectionValidity",function(){function e(e,n){Object.defineProperty(e,"valid",{configurable:!0,get:function(){if(e.setInvalid&&!e.userModified&&!e.isHidden)return!1;if(!e.required||e.userModified||!_.isUndefined(e.value)&&null!==e.value&&""!==e.value)return!e.required||e.isHidden||(_.isUndefined(n)?e.value:n())},set:angular.noop})}return{defineValidity:e}})},1922:function(e,n){angular.module("configwizard").service("cwDefaultValueExpressionEvaluator",["$parse",function(e){this.findItemByExpression=function(n,t){if(!n||0!==n.indexOf("~")||!t||0===t.length)return null;if(n=n.slice(1),"first"===n)return t[0];if("last"===n)return t[t.length-1];var i={items:t};return e(n)(i)},this.evaluateDefaultValueWithParams=function(n,t,i){if(!n.defaultValue)return null;if(0!==n.defaultValue.indexOf("~"))return n.defaultValue;var a=n.defaultValue.slice(1),s=_.clone(i);return s.sections=t,s.values=s,e(a)(s)}}])},1923:function(e,n){angular.module("configwizard").factory("cwConfigWizardComponentMetadata",["cwConfigWizardComponentMetadataContainer","cwConfigWizardSectionsUtils","_",function(e,n,t){function i(){this.containers={},this.lastUpdated=-1}function a(t,i){var a=n.findConfigFormScope(t),s=a&&a.componentMetadata;return s?s.getContainerFor(i):new e}function s(){return this.lastUpdated}function o(e){this.lastUpdated=e||-1}function c(){return t.reduce(this.containers,function(e,n,t){return e[t]=n.getValues(),e},{})}function r(n){return this.containers[n]||(this.containers[n]=new e(this)),this.containers[n]}return i.getContainer=a,i.prototype.getContainerFor=r,i.prototype.getLastUpdated=s,i.prototype.setLastUpdated=o,i.prototype.getAllValues=c,i}])},1924:function(e,n){angular.module("configwizard").factory("cwConfigWizardComponentMetadataContainer",function(){function e(e){this.values={},this.parentMetadata=e,this.flagUpdated()}function n(e,n){this.values[e]=n,this.flagUpdated()}function t(){return this.values}function i(){return this.lastUpdated}function a(){var e=Date.now();this.lastUpdated=e,this.parentMetadata&&this.parentMetadata.setLastUpdated(e)}return e.prototype.setValue=n,e.prototype.getValues=t,e.prototype.getLastUpdated=i,e.prototype.flagUpdated=a,e})},1925:function(e,n){angular.module("configwizard").factory("cwFirstValue",function(){return function(e){return e.sections[0].value}})},1926:function(e,n){angular.module("configwizard").factory("cwCommonSectionTypes",["features",function(e){var n={types:{account:"/public/javascripts/config-wizard/sections/account/account.html",string:"/public/javascripts/config-wizard/sections/string/string-wrapper.html",text:"/public/javascripts/config-wizard/sections/multiline/multiline.html",password:"/public/javascripts/config-wizard/sections/password/password.html",number:"/public/javascripts/config-wizard/sections/number/number.html",URI:"/public/javascripts/config-wizard/sections/URI/URI.html",dropdown:"/public/javascripts/config-wizard/sections/dropdown/dropdown-wrapper.html",date:"/public/javascripts/config-wizard/sections/date/date.html",retry:"/public/javascripts/config-wizard/sections/retry/retry.html",radio:"/public/javascripts/config-wizard/sections/radio/radio.html",tree:"/public/javascripts/config-wizard/sections/tree/tree-wrapper.html",updatemode:"/public/javascripts/config-wizard/sections/updatemode/updatemode.html",Oauth:"/public/javascripts/config-wizard/sections/oauth/oauth.html",time:"/public/javascripts/config-wizard/sections/time/time.html",agent:"/public/javascripts/config-wizard/sections/agent/cw-agent.html",fieldmap:"/public/javascripts/config-wizard/sections/fieldmapping/cw-field-mapping.html",html:"/public/javascripts/config-wizard/sections/html/html-section.html",checkbox:"/public/javascripts/config-wizard/sections/checkbox/cw-checkbox-section.html",range:"/public/javascripts/config-wizard/sections/range/cw-range-section.html",picker:"/public/javascripts/config-wizard/sections/discovery/discoverypicker/cw-discovery-picker.html",message:"/public/javascripts/config-wizard/sections/message/cw-message-section.html",gaadvanced:"/public/javascripts/config-wizard/sections/ga-advanced/cw-ga-advanced.html",gaadvancedv4:"/public/javascripts/config-wizard/sections/ga-advanced/v4/cw-ga-advanced-v4.html",generateWebhook:"/public/javascripts/config-wizard/sections/generate-webhook/cw-generate-webhook.html",generateWebhookHidden:"/public/javascripts/config-wizard/sections/generate-webhook/cw-generate-webhook-hidden.html",copyfield:"/public/javascripts/config-wizard/sections/copyfield/cw-copyfield.html","jira-builder":"/public/javascripts/config-wizard/sections/jira-builder/jira-builder.html",generateEmail:"/public/javascripts/config-wizard/sections/generate-email/cw-generate-email.html"},mergeWith:function(e){return e?_.defaults(e,this.types):this.types}},t="/public/javascripts/config-wizard/sections/schedule/schedule.html",i="/public/javascripts/config-wizard/sections/advancedschedule/schedule.html";return n.types.schedule=e.on("advanced-scheduling")?i:t,n}])},1927:function(e,n){angular.module("configwizard").factory("cwAccountService",["UrlRegistry","$http",function(e,n){var t={getAccounts:function(t){var i=e.action("AccountService.get")({provider:t});return n.get(i)},openOAuthWindow:function(n,t){var i=window.open(e.action("OAuth.provider")({provider:n})+"?callback="+e.path("DomoWeb.path")+"connectors/config/oauthlanding",n,"menubar=no,height=624,width=600,location=yes,resizable=no,scrollbars=yes,status=1");window.focus&&i.focus(),window.addEventListener("message",function(n){n.origin+"/"===e.path("DomoWeb.path")&&n.data&&(console.log(n.data),t(n.data))})}};return t}])},1928:function(e,n){angular.module("configwizard").factory("cwCronService",function(){function e(e,n){e.week.offset=n}function n(e,n){e.day.offset=n}var t,i,a;return a={},a.generateCronString=function(e){var n=e.frequency||"never",t=n.toLowerCase(),a=i[t];if(a)return a(e)},i={"5minutes":function(){var e=(new Date).getMinutes();return["0",e+"/5","*","*","*","?"].join(" ")},"15minutes":function(){var e=(new Date).getMinutes();return["0",e+"/15","*","*","*","?"].join(" ")},"30minutes":function(){var e=(new Date).getMinutes();return["0",e+"/30","*","*","*","?"].join(" ")},hour:function(e){var n=e.hour||{},t=(new Date).getMinutes(),i=t,a=n.interval||1;return["0",i,"*/"+a,"*","*","?"].join(" ")},day:function(e){var n=(new Date).getMinutes(),t=e.day||{},i=parseInt(t.interval||1,10),a=parseInt(t.offset||0,10),s=parseInt(t.ampm||0,10),o=a+s;return["0",n,o,"*/"+i,"*","?"].join(" ")},week:function(e){var n=(new Date).getMinutes(),t=e.week,i=t.selectedDays||[],a=parseInt(t.offset||0,10),s=parseInt(t.ampm||0,10),o=a+s,c=[];_.each(i,function(e,n){e&&c.push(n)});var r=c.length>0?c.join(","):"*";return["0",n,o,"?","*",r].join(" ")},never:function(){return"never"}},a.parseCronString=function(e){if(_.isUndefined(e)||!e||"never"===e.toLowerCase())return{frequency:"manually",scheduleType:"manually"};for(var n,i,a={},s=["second","minute","hour","day","month","week","year"],o=e.split(" "),c=0;c<o.length;c++){if(n=o[c],i=s[c],"day"==i&&n.indexOf("?")!==-1){a.frequency="week";break}if(n.indexOf("/")!==-1||n.indexOf(",")!==-1){a.frequency=i;break}}return"week"===a.frequency?t.week(o,s,a):"day"===a.frequency?t.day(o,s,a):"hour"===a.frequency?t.hour(o,s,a):"minute"===a.frequency?t.minute(o,s,a):a.frequency||(a={frequency:"never"}),a.scheduleType=a.frequency,a},t={week:function(n,t,i){for(var a,s,o=0;o<n.length;o++)"week"===t[o]&&(s=n[o].split(",")),"hour"===t[o]&&(a=parseInt(n[o],10)||0);i.week||(i.week={}),e(i,a),i.week.selectedDays={},_.each(s,function(e){i.week.selectedDays[e]=!0}),i.frequency="weekly"},day:function(e,t,i){for(var a,s,o,c,r=0;r<e.length;r++)o=e[r],"day"==t[r]&&(c=o.indexOf("/"),a=parseInt(o.substring(c+1))),"hour"===t[r]&&(s=parseInt(e[r],10)||0);i.day||(i.day={}),n(i,s),i.day.interval=a,i.frequency="daily"},hour:function(e,n,t){for(var i,a,s,o=0;o<e.length;o++)a=e[o],"hour"==n[o]&&(s=a.indexOf("/"),i=parseInt(a.substring(s+1)));t.hour||(t.hour={}),t.hour.interval=i,t.frequency="hourly"},minute:function(e,n,t){var i=e[1],a=i.indexOf("/"),s=parseInt(i.substring(a+1)),o="5minutes";o=s<=5?"5minutes":s<=15?"15minutes":"30minutes",t.frequency=o}},a})},1929:function(e,n){angular.module("configwizard").factory("cwCronDataGenerator",function(){return{generate:function(e){if("manually"===e.scheduleType)return{frequency:"never"};if("hourly"===e.scheduleType)return{frequency:"hour",hour:{interval:e.hourInterval,offset:e.hourOffset}};if("daily"===e.scheduleType){var n={frequency:"day",day:{interval:e.dayInterval,offset:e.dayOffset}};return n}if("weekly"===e.scheduleType){var t=e&&e.week?e.week.selectedDays:{},n={frequency:"week",week:{selectedDays:t,offset:e.week.offset}};return n}return{frequency:e.scheduleType}}}})},1930:function(e,n,t){angular.module("configwizard").directive("cwConfigForm",function(){return{restrict:"E",controller:"cwConfigFormCtrl as cwConfigFormCtrl",template:t(1931),replace:!0,scope:{sections:"=",customSectionTypes:"=?",i18nStrings:"=?"}}})},1931:function(e,n){e.exports="<form novalidate name=cw-config-form-form class=config-form autocomplete=off>\n<div ng-repeat=\"section in sections\" class=\"{{innerForm.$dirty && innerForm.$invalid ? 'error' : ''}}\" ng-class=\"::{'inline-block margin-right-small' : section.display.inline, 'margin-bottom-small' : section.type != 'spacer', 'vertical-align-top' : section.display.verticalAlign == 'top', 'vertical-align-bottom' : section.display.verticalAlign == 'bottom', 'cw-section-{{::section.type.toLowerCase()}}' : true}\" ng-form=innerForm ng-if=!section.isHidden>\n<label class=config-section-label ng-if=\"::(section.type != 'spacer' && section.type != 'updatemode' && section.type != 'gaadvanced')\">\n<span ng-show=\"section.required && !section.hideAsterisks\" class=required>*</span>\n<b class=\"color-gray-5 font-weight-semi-bold font-size-small text-transform-uppercase\">{{section.text | cwI18n:cwConfigFormCtrl.strings}}</b>\n<span ng-if=section.extraText ng-bind-html=section.extraText></span>\n<span ng-if=\"section.inlineTooltip || section.type === 'tree'\">\n<ng-include src=\"'/public/javascripts/config-wizard/sections/includes/tooltip.html'\"></ng-include>\n</span>\n</label>\n<div class=\"input margin-top-xxsmall\" ng-if=\"::section.type != 'spacer'\">\n<ng-include src=getTemplate(section.type) class=cw-section-include></ng-include>\n</div>\n</div>\n</form>\n"},1932:function(e,n){angular.module("configwizard").controller("cwConfigFormCtrl",["$scope","cwCommonSectionTypes","cwConfigWizardSectionsUtils","cwConfigWizardValuesUtils","cwConfigWizardUtils","cwSectionVisibility","cwDefaultValueExpressionEvaluator","_","cwConfigWizardComponentMetadata",function(e,n,t,i,a,s,o,c,r){function l(n,t,i){c.each(e.sections,function(e){e.isHidden=!s.evaluateShowWhenWithParams(e,t,n,i)})}function d(n,t,i){c.each(e.sections,function(e){if(e.defaultValue){var a=o.evaluateDefaultValueWithParams(e,i,t);if((e.value===a||c.isUndefined(e.value))&&!e.userModified){var s=o.evaluateDefaultValueWithParams(e,i,n);s&&(e.value=s)}}})}function u(e){c.each(e,function(e){e.userModified&&e.warning&&(e.warning=!1)})}function p(n,t){var i=e._getAllSections(),a=e.componentMetadata.getAllValues();l(n,i,a),u(i),d(n,t,i)}function g(){return e.componentMetadata.getLastUpdated()}function m(){var n=e.componentMetadata.getAllValues(),t=e._getAllSections(),a=i.getValuesForSections(t,{includeValueless:!0});l(a,t,n)}var v=this;e.isConfigForm=!0,e.data={},e.data.isConfigWizard=a.isConfigWizard(e),e.shared={},e.shared.commandProperties={},e.componentMetadata=a.getWizardComponentMetadata(e)||new r,e.$watchCollection("sections",function(e){c.isUndefined(e)||c.each(e,function(e){void 0===e.value&&e.defaultValue&&0!==e.defaultValue.indexOf("~")&&(e.value=e.defaultValue),e._form_name_=null})}),e.$watch("customSectionTypes",function(t){e.data.allSectionTypes=n.mergeWith(t)}),e.getTemplate=function(n){return e.data.allSectionTypes[n]},e._getAllSections=function(){return e.data.isConfigWizard?t.getSections(e,{includeValueless:!0}):e.sections},e._configFormValuesWatcher=function(){return i.getValuesForSections(e._getAllSections(),{includeValueless:!0})},e.$watch(e._configFormValuesWatcher,p,!0),e.$watch(g,m),function(){Object.defineProperty(v,"strings",{get:function(){return e.i18nStrings},set:function(){}})}(),function(){var n=e._getAllSections(),t=c.filter(e.sections,function(e){return e.bindTo});c.each(t,function(t){var i=n[t.bindTo.trim()];i&&e.$watch(function(){return i.value},function(e,n){t.value=e})})}()}])},1933:function(e,n){angular.module("configwizard").filter("cwTrustAsHtml",["$sce","_",function(e,n){return n.memoize(function(n){return e.trustAsHtml(n)})}])},1934:function(e,n){angular.module("configwizard").controller("cwAccountCtrl",["$scope","$routeParams","$q","cwAccount","cnConnector","dmOAuth","_","cwTemplateService","dmI18n","cwSectionValidity","cwConfigWizardSectionsUtils",function(e,n,t,i,a,s,o,c,r,l,d){"use strict";function u(){e.section.data=e.section.data||{},e.section.hideAsterisks=!0,e.data={},e.data.loading=!0,e.data.moreInfoText=(e.section.data||{}).moreInfoText,e.accountSelectionItems=[].concat(A),e.shared={selectedAccount:void 0},e.configWizard=d.findWizardScope(e)||{};var i=e.configWizard.data||{};i.integrationId&&(e.shared.integration=!0),e.accountsLoaded=t.defer(),e.authenticationSchemeLoaded=t.defer(),e.accountsLoaded.promise.then(function(){e.data.loading=!1}),!e.section.data.dataProviderKey&&n.connectorId&&a.getConnector(n.connectorId).then(function(n){e.section.data.dataProviderKey=n.connectionType})}function p(e){return g([e]),e}function g(n){e.accountSelectionItems.splice(e.accountSelectionItems.length-A.length,A.length);var t=o.reduce(e.accountSelectionItems,function(e,n){return e[n.id]=n,e},{});o.each(n||[],function(e){t[e.id]=e});var i=o.values(t);e.accountSelectionItems=o.sortBy(i,"name"),e.accountSelectionItems.push.apply(e.accountSelectionItems,A)}function m(t){o.isUndefined(t)||(e.hasExistingAccounts=!1,i.getDataProviderAccounts(t).then(function(n){var t=n.length>0;g(n),e.hasExistingAccounts=t,e.accountsLoaded.resolve(),!t&&f(!0)}),i.getAuthenticationScheme(t).then(function(t){V=t.authenticationSchemeConfiguration,e.accountSections=angular.copy(V),e.data.accountI18nStrings=t.translationMap,e.data.accountI18nStrings={},t.translationMap&&(e.data.accountI18nStrings=t.translationMap),n.connectorId&&a.getConnector(n.connectorId).then(function(n){var t=e.data.accountI18nStrings;e.data.accountI18nStrings=o.extend(t,n.view.configWizard.strings)}),e.provider=t,e.providerName=t.name,e.authenticationType=t.authenticationScheme,e.authenticationSchemeLoaded.resolve(),V.length||"oauth"===e.authenticationType||"oauth-metadata"===e.authenticationType?e.providerNotConfiguredProperly=!1:(e.providerNotConfiguredProperly=!0,e.errorMessage="This connector has not been configured properly.")}))}function v(n){if(!o.isUndefined(n)&&!o.isNull(n)){if(T(),!n.addNewItem)return e.configWizard.trackAnalytics("connectors_create",{type:"credentials selected"}),e.section.value=n.id,void(e.shared.addingNewAccount=!1);f(),e.shared.selectedAccount=void 0}}function f(n){(d.findWizardScope(e)||{}).data||{};e.configWizard.trackAnalytics("connectors_create",{type:"adding credentials"}),e.authenticationSchemeLoaded.promise.then(function(){return"oauth"!==e.authenticationType||n?(e.shared.accountName=r.get("datacenter/add-account-default-name",{providerName:e.providerName}),e.shared.addingNewAccount=!0,e.accountSections=angular.copy(V),void(e.section.value=void 0)):void e.addAccount()})}function h(){return!(!o.isUndefined(e.accountSections)&&e.accountSections.length)||o.reduce(e.accountSections,function(e,n){return e&&n.valid},!0)}function w(){if(h()){var n=e.shared.accountName,t="oauth"===e.authenticationType||"oauth-metadata"===e.authenticationType,a=e.section.data.dataProviderKey,o=M();e.shared.selectedAccount="oauth"===e.authenticationType?void 0:e.shared.selectedAccount,b(!0);var c=(d.findWizardScope(e)||{}).data||{},r=t?s.requestNewAccount(a,o,null).then(S):i.validateAndCreateAccount(n,a,o,c);return r.then(function(e){p(e),C(e)},k).finally(b.bind(this,!1))}}function b(n){e.waitingForServerAccountCreation=n}function y(){return e.waitingForServerAccountCreation}function x(){e.shared.addingNewAccount=!1,e.errorMessage=null}function S(e){return i.getAccount(e.accountId)}function k(n){if("ERROR"===n.result){e.creationErrorMessage=r.get("connectors/account-validation-failure");var t=o.values(n.messages);return void(t.length>0&&(t.sort(),e.creationErrorMessage=e.creationErrorMessage+" "+t.join(". ")))}e.creationErrorMessage=r.get("connectors/account-add-error")}function C(n){return e.shared.selectedAccount=n,e.hasExistingAccounts=!0,n}function M(){var n={};return o.each(e.accountSections,function(e){n[e.name]=e.value}),n}function z(n){e.section.userModified=!0}function D(){return"oauth"!==e.authenticationType&&"oauth-metadata"!==e.authenticationType}function I(n){e.accountsLoaded.promise.then(function(){var n=o.findWhere(e.accountSelectionItems,{id:e.section.value});!o.isUndefined(n)&&!o.isNull(n)||o.isUndefined(e.section.value)||o.isNull(e.section.value)||(e.shared.unauthorized=!0),e.shared.selectedAccount=n})}function T(){e.errorMessage=null,e.creationErrorMessage=null}var V,A=[{separator:!0,id:"separator"},{addNewItem:!0,name:r.get("connectors/add-account-ellipsis"),id:"addnew"}];e.section.required=!0,l.defineValidity(e.section),u(),e.addAccount=w,e.stopAdding=x,e.setUserModified=z,e.isNameable=D,e.canAddAccount=h,e.isWaitingForServerAccountCreation=y,e.$watch("section.data.dataProviderKey",m),e.$watch("shared.selectedAccount",v),e.$watch("section.value",I)}])},1935:function(e,n){angular.module("configwizard").factory("cwAccount",["$q","$http","_","cnAccount","$locale",function(e,n,t,i,a){function s(e,n){var i=b+"/"+e+"/account";return t.isUndefined(n)?i:i+"/"+n}function o(e){return e.data}function c(e){return function(n){return t.map(n,e)}}function r(e){var t=y+"/provider/"+e;return n.get(t).then(o).then(c(i))}function l(e){var t=a.id.split("-"),i={fields:"all",language:t[0],country:t[1]};return n.get(b+"/"+e,{params:i}).then(o).catch(function(){throw"Couldn't get the authentication scheme for "+e})}function d(t){var i=e.defer();return n.get(y+"/"+t).success(function(e){i.resolve(e)}).error(function(){i.reject("There was a problem getting account data for account: "+t)}),i.promise}function u(t,i){var a=e.defer(),o=s(t,i);return n.get(o).success(function(e){a.resolve(e)}).error(function(){a.reject("Couldn't get account data with the information provided")}),a.promise}function p(e,t,i){var a={name:e,displayName:e,dataProviderType:t,configurations:i};return n.post("/api/data/v1/accounts",a).then(o);
}function g(i,a,o){var c=e.defer(),r=s(i,o||a.id);return a=t.omit(a,"id"),n.put(r,a).success(function(e){c.resolve(e)}).error(function(){c.reject("Couldn't create the account with the information provided.")}),c.promise}function m(e,t){return n.put("/api/data/v1/accounts/"+e+"/name",t).then(o)}function v(e,t,i,a){var s={dataProviderKey:e,credentials:t,accountId:i};return n.post("/api/data/v1/accounts/validators",s).then(o)}function f(e,n,t,i){return v(n,t,null,i).then(w).then(p.bind(this,e,n,t))}function h(e,n,t){return v(e,n,t).then(w).then(g.bind(this,e,n,t))}function w(n){return(n.result||"").toLowerCase()==="ERROR".toLowerCase()?e.reject(n):n}var b="/api/data/v1/providers",y="/api/data/v1/accounts";return{getDataProviderAccounts:r,getAuthenticationScheme:l,getAccountData:u,getAccount:d,createAccount:p,updateAccount:g,updateName:m,validateAccount:v,validateAndCreateAccount:f,validateAndUpdateAccount:h}}])},1936:function(e,n){angular.module("configwizard").controller("cwStringCtrl",["$scope","cwSectionValidity",function(e,n){n.defineValidity(e.section,function(){return e.innerForm?e.innerForm.$valid:e.section.value}),e.getValue=function(){return e.section.value},e.setUserModified=function(){e.section.userModified=!0}}])},1937:function(e,n){angular.module("configwizard").controller("cwMultilineCtrl",["$scope","cwSectionValidity",function(e,n){n.defineValidity(e.section,function(){return e.innerForm?e.innerForm.$valid:e.section.value}),e.setUserModified=function(){e.section.userModified=!0}}])},1938:function(e,n){angular.module("configwizard").controller("cwPasswordCtrl",["$scope","cwSectionValidity",function(e,n){n.defineValidity(e.section,function(){return e.innerForm?e.innerForm.$valid:e.section.value}),e.setUserModified=function(){e.section.userModified=!0}}])},1939:function(e,n){angular.module("configwizard").controller("cwDropdownCtrl",["$scope","_","cwSectionValidity",function(e,n,t){e.data={},e.data.internalItems=[],e.data.intervalValue=e.data.internalValue||{},t.defineValidity(e.section),e.setUserModified=function(n){e.section.userModified=!0},e.$watchCollection("section.data.options",function(n){e._setupInternalItems(n)}),e._buildInternalItemsFromOptions=function(t){t=t||[];var i=n.map(t,function(e){return n.isObject(e)?e:{label:e,value:e}}),a=e.section.data&&e.section.data.catchAllOption;if(a){var s=n.findWhere(i,{label:e.section.data.catchAllOption});s||i.push({label:a,value:null})}return i},e._findInternalItemByValue=function(t){var i=n.findWhere(e.data.internalItems,{value:t});if(!i&&e.section.data&&e.section.data.catchAllOption){var a=n.findWhere(e.data.internalItems,{label:e.section.data.catchAllOption});return a&&(a.value=t),a}return i},e._setupInternalItems=function(n){e.data.internalItems=e._buildInternalItemsFromOptions(n);var t=e.data.internalValue?e.data.internalValue.value:null;t=t?t:e.data.uninitializedValue,e.data.internalValue=e._findInternalItemByValue(t),e.data.uninitializedValue=null},function(){var t=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){return e.data.internalValue?e.data.internalValue.value:null},set:function(t){e.data.internalValue=e._findInternalItemByValue(t),n.isEmpty(e.data.internalItems)&&(e.data.uninitializedValue=t)}}),e.section.value=t}(),e._setupInternalItems(e.section.data.options)}])},1940:function(e,n){angular.module("configwizard").controller("cwNumberCtrl",["$scope","cwSectionValidity",function(e,n){n.defineValidity(e.section,function(){return e.innerForm?e.innerForm.$valid:e.section.value}),e.setUserModified=function(){e.section.userModified=!0}}])},1941:function(e,n,t){var i=t(47);angular.module("configwizard").controller("cwDateCtrl",["$scope","cwSectionValidity",function(e,n){function t(n){if(n){var t=c.exec(n);if(t)return s(n);var r=o.exec(n);if(r)return a(r);var l=i(n,e.data.format);return l.isValid()?l.toDate():null}}function a(e){if(e&&0!==e.length){var n=s(e[1]);if(n){var t="+"===e[2]?1:-1,a=parseInt(e[3],10),o=e[4],c=i(n).startOf("day").add(o,t*a).toDate();return c}}}function s(e){return"today"===e?new Date:"startofmonth"===e?i().startOf("month").toDate():"endofmonth"===e?i().endOf("month").toDate():void 0}var o=/(.*)([\+|-])([0-9]+)([y|M|w|d])/,c=/(today$|endofmonth$|startofmonth$)/,r="MM/DD/YYYY";e.data={},e.data.date=new Date,e.data.format=e.section.data?e.section.data.format||r:r,n.defineValidity(e.section),function(){var n=e.section.data?e.section.data.min:null,a=t(n);e.data.min=a?i(a).startOf("day").toDate():null}(),function(){var n=e.section.data?e.section.data.max:null,a=t(n);e.data.max=a?i(a).endOf("day").toDate():null}(),function(){var n=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){return e.data.date?i(e.data.date).format(e.data.format):null},set:function(n){e.data.date=t(n)}}),e.section.value=n}(),e.setUserModified=function(){e.section.userModified=!0}}])},1942:function(e,n){angular.module("configwizard").controller("cwRetryCtrl",["$scope","cwRetryDefaults","cwSectionValidity",function(e,n,t){function i(){e.changingRetrySettings=!e.changingRetrySettings,e.changingRetrySettings&&(e.tempRetryInterval=e.retryInterval,e.tempRetryNumber=e.retryNumber,e.tempRetryDisabled=e.retryDisabled)}function a(){e.retryInverval=e.tempRetryInterval,e.retryNumber=e.tempRetryNumber,e.retryDisabled=e.tempRetryDisabled,i()}function s(){i(),e.section.userModified=!0}function o(){return e.retryDisabled?{retryInterval:null,retryUnit:null,retryNumber:0}:{retryInterval:e.retryInterval.value,retryUnit:e.retryInterval.unit,retryNumber:e.retryNumber&&e.retryNumber.value}}function c(n){n&&n.retryInterval&&n.retryUnit?(e.retryInterval=_.findWhere(e.retryIntervals,{value:n.retryInterval,unit:n.retryUnit}),e.retryNumber=_.findWhere(e.numberOfRetries,{value:n.retryNumber}),e.retryDisabled=!1):e.retryDisabled=!0}function r(){var n=e.section.value;return n&&n.retryInterval&&n.retryUnit&&n.retryNumber||n&&0===n.retryNumber}function l(e){var n,t,i=[];for(n=0;n<e;n+=1)t=n+1,i.push({label:t,value:t});return i}e.retryIntervals=n.retryIntervals,e.numberOfRetries=l(n.maxRetries),e.retryInterval=n.defaultRetryInterval,e.retryDisabled=!0,e.toggleRetrySettings=i,e.cancelRetryChange=a,e.setUserModified=s,t.defineValidity(e.section,r),function(){var n=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){return o()},set:function(e){c(e)}}),e.section.value=n}()}])},1943:function(e,n){angular.module("configwizard").factory("cwRetryDefaults",["dmI18n","_",function(e,n){var t={retryIntervals:[{value:30,label:e.get("wizard/section-retry-defaults-interval-seconds-30"),unit:"seconds"},{value:60,label:e.get("wizard/section-retry-defaults-interval-seconds-60"),unit:"seconds"},{value:5,label:e.get("wizard/section-retry-defaults-interval-minutes-5"),unit:"minutes"},{value:15,label:e.get("wizard/section-retry-defaults-interval-minutes-15"),unit:"minutes"},{value:30,label:e.get("wizard/section-retry-defaults-interval-minutes-30"),unit:"minutes"},{value:60,label:e.get("wizard/section-retry-defaults-interval-minutes-60"),unit:"minutes"}],maxRetries:10,defaultNumberOfRetries:{label:"0",value:0}};return t.defaultRetryInterval=n.findWhere(t.retryIntervals,{value:15,unit:"minutes"}),t}])},1944:function(e,n){angular.module("configwizard").controller("cwRadioCtrl",["$scope","_","cwSectionValidity",function(e,n,t){function i(e){return e=e||[],n.map(e,function(e){return n.isObject(e)?e:{label:e,value:e}})}e.data={},e.section.inlineTooltip=!0,t.defineValidity(e.section),e.setUserModified=function(){e.section.userModified=!0},e.$watch("section.data.options",function(n){e.data.options=i(n)}),function(){var n=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){return e.data.selected},set:function(n){e.data.selected=n}}),e.section.value=n}()}])},1945:function(e,n){angular.module("configwizard").controller("cwUpdateModeCtrl",["$scope","cwSectionValidity","$routeParams","cwConfigWizardValuesUtils","cnNewConnectorData","i18n",function(e,n,t,i,a,s){function o(){var n=e.section.value&&"Upsert"===e.section.value.mode&&e.section.data.upsertKeyMode&&"DISCOVERABLE"===e.section.data.upsertKeyMode.toUpperCase();return n&&!e.gotKeys&&(d(),e.gotKeys=!0),n}function c(){e.editingUpdateMode=!0,e.tempValue=angular.copy(e.data.internalValue)}function r(){e.editingUpdateMode=!1}function l(){e.editingUpdateMode=!1,e.data.internalValue=e.tempValue}function d(){e.loadingKeys=!0;var n={};n.properties=i.getValues(e),n.connectorId=e.section.data.connectorId,n.connectorVersion=e.section.data.connectorVersion,delete n.properties.schedule,a.previewDataFlow(n).then(function(n){e.loadingKeys=!1,e.keys=_.pluck(n.data.schema,"name")}).catch(function(){e.loadingKeys=!1,e.keys=[]})}function u(){return!!_.find(e.section.data.options,function(e){return"Upsert"===e.value.mode})}n.defineValidity(e.section),e.section.valueName="updatemode",e.editingUpdateMode=!1,e.section.upsertKeys=[],e.section.selectedTab="updateMode",e.section.tooltipText=null,e.discoverable=o,e.editUpdateMode=c,e.cancelEdit=l,e.closeEditMode=r,e.getUpsertKeys=d,e.upsertEnabled=u;var p,g=e.$watch("section.data.options",function(n){n&&(e.section.data.options=_.map(n,function(e){return _.isObject(e)&&(e=e.value),{label:s.get("connectors/"+e.toLowerCase()),value:{mode:e}}}),p&&(e.section.value=p),g())});e.$watchCollection("section.upsertKeys",function(n){n&&n.length>0&&e.data.internalValue&&(e.data.internalValue.value.upsertKeys=n.join(","))}),function(){var n=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){return e.data.internalValue?e.data.internalValue.value:null},set:function(n){return e.section.data.options&&e.section.data.options[0].hasOwnProperty("value")&&_.isObject(e.section.data.options[0].value)&&n?(e.data.internalValue=_.find(e.section.data.options,function(e){return _.isObject(n)&&e.value.mode&&e.value.mode.toLowerCase()===n.mode.toLowerCase()||!_.isObject(n)&&e.value.mode&&e.value.mode.toLowerCase()===n.toLowerCase()}),void(e.data.internalValue&&n.upsertKeys&&(e.section.upsertKeys=n.upsertKeys.split(",")))):void(n&&(p=n))}}),e.section.value=n}()}])},1946:function(e,n,t){var i=t(47);angular.module("configwizard").controller("cwTimeCtrl",["$scope","cwSectionValidity",function(e,n){var t="HH:mm",a="medium";e.data={},e.data.date=new Date,e.data.size=e.section.data?e.section.data.size||a:a;var s=e.section.data?e.section.data.format||t:t;n.defineValidity(e.section),function(){var n=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){return e.data.date?i(e.data.date).format(s):null},set:function(n){e.data.date=n?i(n,s).toDate():null}}),e.section.value=n}(),e.setUserModified=function(){e.section.userModified=!0}}])},1947:function(e,n){angular.module("configwizard").controller("cwCheckboxCtrl",["$scope","cwSectionValidity",function(e,n){"use strict";e.data={},e.data.customId=(new Date).getTime()+"-cw-checkbox",n.defineValidity(e.section,function(){return!0}),function(){var n=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){return e.data.value},set:function(n){e.data.value="string"==typeof n?"true"==n:n}}),e.section.value=n}(),e.setUserModified=function(){e.section.userModified=!0}}])},1948:function(e,n){angular.module("configwizard").controller("cwRangeCtrl",["$scope","_","cwSectionValidity",function(e,n,t){"use strict";function i(){return!n.isUndefined(e.data.rangeStart)&&!n.isUndefined(e.data.rangeEnd)&&e.data.rangeStart.length&&e.data.rangeEnd.length}e.data={},t.defineValidity(e.section,i),e.setUserModified=function(){e.section.userModified=!0},function(){var n=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){if(e.data.rangeStart&&e.data.rangeEnd)return e.data.rangeStart+":"+e.data.rangeEnd},set:function(n){var t=(n||"").split(":");e.data.rangeStart=t[0],e.data.rangeEnd=t[1]}}),e.section.value=n}()}])},1949:function(e,n,t){var i=t(8);angular.module("configwizard").directive("dmStepToggle",["$timeout","$q",function(e,n){return{restrict:"A",link:function(e,n,t){var a,s=!1,o=!0,c=function(){var e=i(n).parent(".collapsible-container"),t=e.find(".collapsible-container-content"),a=200;s?(t.slideDown(a),t.parent().siblings().children(".step-content").not(t).slideUp(a)):(t.show(),t.parent().siblings().children(".step-content").not(t).hide())},r=function(){var e=i(n).parent(".collapsible-container"),t=e.find(".collapsible-container-content"),a=200;s?t.slideUp(a):t.hide()};t.$observe("animate",function(e){s=e}),t.$observe("dmStepToggle",function(n){a&&a(),a=e.$watch(n,function(e){o=e,o?c():r()})})}}}])},1950:function(e,n){angular.module("configwizard").controller("cwOAuthCtrl",["$scope","cwAccountService",function(e,n){function t(){e.loadingAccounts=!0,n.getAccounts(e.section.data.provider).success(function(n){e.items=[];for(var t=0;t<n.length;t++)e.items[t]={key:n[t].id,label:n[t].name};e.items.push({key:i,label:"Add account..."}),e.items.length>1&&(e.selectedAccountIndex=0)}).error(function(){e.oAuthErrorMessage="There was an error loading the accounts. Please try again."}).finally(function(){e.loadingAccounts=!1})}var i="ADD_ACCOUNT";t(),e.section.hideAsterisks=!0,e.$watch("innerForm.$valid",function(){e.section.valid=e.innerForm.$valid}),e.addAccount=function(){n.openOAuthWindow(e.section.data.provider,t)},e.itemChanged=function(n){n.key===i&&e.addAccount(),e.section.value=n.key}}])},1951:function(e,n){angular.module("configwizard").controller("cwMessageSectionCtrl",["$scope",function(e){"use strict";function n(){var e={},n=a.section.data||{};return n&&n.minHeight&&(e["min-height"]=n.minHeight+"px"),e}function t(){var e={};return e["align-"+i()]=!0,e}function i(){var e=a.section.data||{},n=e.textAlign;return"left"!=n&&"right"!=n&&"center"!=n?"left":n}var a=this;a.section=e.section,a.getSectionClasses=t,a.getSectionStyles=n}])},1952:function(e,n,t){var i=t(8);angular.module("configwizard").controller("cwCopyfieldCtrl",["ZeroClipboard","$scope",function(e,n){n.copied=!1;var t=i.find("#copyButton"),a=new e(t);a.on("copy",function(e){var t=e.clipboardData;t.setData("text/plain",n.section.description),n.copied=!0,n.$apply()})}])},1953:function(e,n){angular.module("configwizard").controller("cwGenerateWebhookCtrl",["$scope","bzIntegrationModel","dmI18n","dmCrypto","$http","cwConfigWizardSectionsUtils","$timeout","clipboard","features","$sce",function(e,n,t,i,a,s,o,c,r,l){function d(){return r.on("integrations")?a.get("/api/integrations/v1/integration-instances/token/"+p.integrationId):a.get("/api/buzz/v1/integration-instances/token/"+p.integrationId)}var u=!1,p=(s.findWizardScope(e)||{}).data||{};"ifttt"===p.integrationId&&(e.token=!0),d(),e.$watch("section",function(n,t){n.value||u||(u=!0,d().then(function(t){e.token?t.data.token?n.value=t.data.token:n.value=t.data.guid:t.data.token?n.value=t.data.gatewayUrl+"/buzz/v1/message/"+t.data.token:n.value="https://webhooks.domo.com/buzz/v1/message/"+t.data.guid}),n.valid=!0,o(function(){var e=document.createRange();e.selectNodeContents(document.getElementById("webhook-url")),window.getSelection().removeAllRanges(),window.getSelection().addRange(e)},500))},!0),e.copied=!1,e.i18n={generateUrl:t.get("connectors/generate-url"),webhookUrl:t.get("connectors/webhook-url"),token:t.get("connectors/token")},e.generateUrl=function(){n.initialSaveForPush()};var g;g=e.token?new c("#copy-token",{text:function(n){return e.section.value}}):new c("#copy-url",{text:function(n){return e.section.value}}),g.on("success",function(n){e.copied=!0,o(function(){e.copied=!1},4e3)}),g.on("error",function(n){var i=e.token?t.get("connectors/token"):t.get("connectors/link");e.errorMessage=t.get("connectors/cant-copy",{type:i})}),e.webhookDescription=l.trustAsHtml(e.webhookDescription)}])},1954:function(e,n){angular.module("configwizard").controller("cwGenerateEmailCtrl",["$scope","dmI18n","dmCrypto","$http","cwConfigWizardSectionsUtils","$timeout","clipboard","features","$sce","$location",function(e,n,t,i,a,s,o,c,r,l){function d(){return i.post("/api/connectors/email/new")}var u=!1,p=a.findWizardScope(e)||{}||{};e.$watch("section",function(n,t){n.value||u||(u=!0,e.section.value||"false"!==p.editMode||d().then(function(e){n.value=e.data.email}),n.valid=!0,s(function(){var e=document.createRange();e.selectNodeContents(document.getElementById("email-address")),window.getSelection().removeAllRanges(),window.getSelection().addRange(e)},500))},!0),e.copied=!1,e.i18n={emailAddress:n.get("connectors/email-address")};var g;g=new o("#copy-email-address",{text:function(n){return e.section.value}}),g.on("success",function(n){e.copied=!0,s(function(){e.copied=!1},4e3)}),g.on("error",function(t){var i=n.get("connectors/email");e.errorMessage=n.get("connectors/cant-copy",{type:i})}),e.emailDescription=r.trustAsHtml(e.emailDescription)}])},1955:function(e,n,t){angular.module("configwizard").directive("cwConfigWizardContainerPerStep",function(){"use strict";return{restrict:"E",template:t(1956)}})},1956:function(e,n){e.exports='<div class=config-wizard>\n<div ng-show=data.heading>\n<h1>{{data.heading | cwI18n:data.strings}}</h1>\n<hr class=margin-bottom-medium />\n</div>\n<div ng-repeat="step in data.steps" class="step margin-bottom-xsmall">\n<cw-collapsible-container cw-cc-header-click="canGoToStep(step) && goToStep($index+1)" cw-cc-open=isCurrentStep(step) cw-cc-animate={{data.animate}} cw-cc-disabled="editMode === \'false\' && $index > currentStepNum-1" cw-cc-title={{getTitleSummary(step)}} cw-cc-subtitle={{getValueSummary(step)}} cw-cc-invalid={{isInvalid(step)}} cw-cc-warning={{isWarning(step)}}>\n<span ng-show=step.description class="font-size-small inline-block margin-bottom-medium">{{step.description | cwI18n:data.strings}}</span>\n<cw-config-form sections=step.sections custom-section-types=customSectionTypes i18n-strings=data.strings></cw-config-form>\n<hr ng-if="!step.buttons || step.buttons.length > 0"/>\n<div class="text-align-{{data.stepButtonAlign || \'left\'}} margin-top-medium">\n<db-button theme="{{button.theme || \'primary\'}}" ng-repeat="button in step.buttons" ng-click="!button.disabled && button.callback(button,step)" ng-disabled=button.disabled>\n<div ng-if=button.spinning class="spinner small margin-right-xxsmall inline-block vertical-align-middle"></div>\n<span ng-bind-html=button.text></span>\n</db-button>\n<db-button ng-if="!step.buttons && !isWarning(step)" ng-click="stepIsValid(step) && advanceStep()" ng-disabled=!stepIsValid(step)>{{step.nextStepText | cwI18n:data.strings:\'next\'}}</db-button>\n<db-button ng-if="!step.buttons && isWarning(step)" ng-click="stepIsValid(step) && advanceStep(true)" ng-disabled=!stepIsValid(step) dm-i18n=continue></db-button>\n<span ng-show="isValidating === true">\n<span class="spinner small"></span>\n<span class="margin-top-xsmall font-size-small blue" dm-i18n=connectors/validating></span>\n</span>\n<span ng-show="errorIsInvalid(step) || errorIsWarning(step)" ng-class="{\'color-red\': errorIsInvalid(step), \'color-yellow\': errorIsWarning(step)}">\n<i ng-class="{\'icon-exclamation-point-circle\': errorIsInvalid(step), \'icon-exclamation-triangle\': errorIsWarning(step)}"></i>\n<span class="margin-top-xsmall font-size-small"> {{ getErrorMessage(step) }}</span>\n</span>\n</div>\n</cw-collapsible-container>\n</div>\n</div>'},1957:function(e,n,t){angular.module("configwizard").directive("cwConfigWizardAppStore",function(){"use strict";return{restrict:"E",template:t(1958)}})},1958:function(e,n){e.exports='<div class=config-wizard>\n<div ng-show=data.heading>\n<h1>{{data.heading | cwI18n:data.strings}}</h1>\n<div ng-show=data.subheading>\n<h1>{{data.subheading | cwI18n:data.strings}}</h1>\n</div>\n</div>\n<div ng-repeat="step in data.steps" class=step>\n<div ng-show=isCurrentStep(step)>\n<h5 class="margin-bottom-small color-text-header">{{getTitleSummary(step)}}</h5>\n<hr class=margin-bottom-xlarge />\n<div ng-show=step.description class=margin-bottom-xxlarge>{{step.description | cwI18n:data.strings}}</div>\n<cw-config-form sections=step.sections custom-section-types=customSectionTypes i18n-strings=data.strings></cw-config-form>\n<hr class=margin-top-xlarge />\n<div class="text-align-right margin-top-medium">\n<db-button class="assign blue" ng-click=onAssign()><dm-i18n key=library/assign></dm-i18n></db-button>\n<db-button theme="button.theme || \'primary\'" ng-repeat="button in step.buttons" ng-click="!button.disabled && button.callback(button,step)" ng-disabled=button.disabled ng-bind-html=button.text>\n</db-button>\n<db-button theme=primary class=connect data-pendo-anchor="config-wizard/account/connect/{{step.nextStepText.replace(\' \', \'-\').toLowerCase() || \'next\'}}" ng-if=!step.buttons ng-click="stepIsValid(step) && advanceStep()" ng-disabled=!stepIsValid(step) data-ui-test_appstore-config-wizard-account-connect>\n{{step.nextStepText | cwI18n:data.strings:\'next\'}}\n</db-button>\n</div>\n</div>\n</div>\n</div>\n'},1959:function(e,n,t){angular.module("configwizard").directive("cwConfigWizardPagePerStep",function(){"use strict";return{restrict:"E",template:t(1960)}})},1960:function(e,n){e.exports='<div class=config-wizard>\n<div ng-show=data.heading>\n<h1>{{data.heading | cwI18n:data.strings}}</h1>\n<hr class=margin-bottom-medium />\n</div>\n<div ng-repeat="step in data.steps" class=step>\n<div ng-show=isCurrentStep(step)>\n<h5 class="margin-bottom-small color-text-header">{{getTitleSummary(step)}}</h5>\n<div ng-show=step.description class=margin-bottom-xxlarge>{{step.description | cwI18n:data.strings}}</div>\n<cw-config-form sections=step.sections custom-section-types=customSectionTypes i18n-strings=data.strings></cw-config-form>\n<hr/>\n<div class="text-align-right margin-top-medium">\n<span class="float-left margin-top-xsmall font-size-small color-text-header"> Step {{currentStepNum}} of {{data.steps.length}} </span>\n<db-button theme=alt ng-click=regressStep() ng-show=!isFirstStep(step)>\n<i class=icon-chevron-left></i>\n<span class=margin-left-xxsmall>Back</span>\n</db-button>\n<db-button theme="button.theme || \'primary\'" ng-repeat="button in step.buttons" ng-click="!button.disabled && button.callback(button,step)" ng-disabled=button.disabled ng-bind-html=button.text>\n</db-button>\n<db-button theme=primary data-pendo-anchor="config-wizard/account/connect/{{step.nextStepText.replace(\' \', \'-\').toLowerCase() || \'next\'}}" ng-if=!step.buttons ng-click="stepIsValid(step) && advanceStep()" ng-disabled=!stepIsValid(step)>{{step.nextStepText | cwI18n:data.strings:\'next\'}}</db-button>\n</div>\n</div>\n</div>\n</div>\n'},1961:function(e,n,t){angular.module("configwizard").directive("cwConfigWizardSingleColumn",function(){"use strict";return{restrict:"E",template:t(1962)}})},1962:function(e,n){e.exports='<div class=config-wizard>\n<div ng-show=data.heading>\n<h1>{{data.heading | cwI18n:data.strings}}</h1>\n<hr class=margin-bottom-medium />\n</div>\n<div ng-repeat="step in data.steps" class="step margin-bottom-xsmall">\n<span ng-show=step.description class="font-size-small inline-block margin-bottom-medium">{{step.description | cwI18n:data.strings}}</span>\n<cw-config-form sections=step.sections custom-section-types=customSectionTypes i18n-strings=data.strings></cw-config-form>\n<span ng-show="isValidating === true">\n<span class="spinner small"></span>\n<span class="margin-top-xsmall font-size-small blue" dm-i18n=connectors/validating></span>\n</span>\n<span ng-show="errorIsInvalid(step) || errorIsWarning(step)" ng-class="{\'color-red\': errorIsInvalid(step), \'color-yellow\': errorIsWarning(step)}">\n<i ng-class="{\'icon-exclamation-point-circle\': errorIsInvalid(step), \'icon-exclamation-triangle\': errorIsWarning(step)}"></i>\n<span class="margin-top-xsmall font-size-small"> {{ getErrorMessage(step) }}</span>\n</span>\n</div>\n</div>\n'},1963:function(e,n,t){angular.module("configwizard").directive("cwConfigWizardTile",function(){"use strict";return{restrict:"E",template:t(1964)}})},1964:function(e,n){e.exports="<div class=config-wizard ng-bind-html=data.html></div>\n"},1965:function(e,n){angular.module("configwizard").controller("sectionDescriptionCtrl",["$scope","cwI18nFilter","$sce",function(e,n,t){e.description=t.trustAsHtml(n(e.section.description,e.cwConfigFormCtrl.strings))}])},1966:function(e,n){angular.module("configwizard").controller("cwAgentCtrl",["$scope","dmAgentService","AgentViewModel",function(e,n,t){function i(){return e.data.agentViewModel?e.data.agentViewModel.toJson():null}function a(n){n&&c.then(function(){e.data.agentViewModel.fromJson(n);var t=parseInt(n.id,10),i=_.findWhere(e.data.agents,{id:t});e.data.agentViewModel.agent=i||{id:t}})}var s="oneclick",o="full";e.data={},e.data.agents=[],e.data.currentDsnCollection=[],e.data.agentViewModel=new t({agent:{}}),e.data.viewMode=e.section.data?e.section.data.viewMode||s:s;var c=n.getAgents().then(function(n){e.data.agents=n,e.data.agentViewModel.agent=e.data.agents.length?e.data.agents[0]:null});e.isFullMode=function(){return e.data.viewMode===o},function(){var n=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:i,set:a}),e.section.value=n}(),function(){Object.defineProperty(e.section,"valid",{configurable:!0,get:function(){return!0},set:angular.noop})}()}])},1967:function(e,n){angular.module("configwizard").factory("AgentViewModel",["_",function(e){function n(t){var i=this;return this instanceof n?(Object.defineProperty(this,"agent",{get:function(){return this._agent},set:function(n){n=n||{},this._agent=n;var t=e.map(n.dsnCollection,function(e){return{label:e,value:e}});this.dsnCollection=e.union(t,[{separator:!0},{label:d,value:u}]);var a=e.find(this.dsnCollection,function(e){return i.dsn&&e.value===i.dsn.value});this.dsn=a||e.find(this.dsnCollection,function(e){return!e.separator}),this.driver=e.find(n.driverCollection,function(n){return!e.isUndefined(n)})}}),void(this.agent=t.agent)):new n(t)}var t="id",i="driver",a="dsn",s="host",o="port",c="database",r="username",l="password",d="Manually Enter Settings",u="MANUAL_DSN";return n.prototype.toJson=function(){var e={};return e[t]=this.agent.id,e[a]=this.dsn.value,e[l]=this.password,this.isManualDsnMode()&&(e[i]=this.driver,e[s]=this.host,e[o]=this.port,e[c]=this.database,e[r]=this.username),e},n.prototype.fromJson=function(n){this.dsn=e.find(this.dsnCollection,function(e){return e.value===n[a]}),this.password=n[l],this.driver=n[i],this.host=n[s],this.port=n[o],this.database=n[c],this.username=n[r]},n.prototype.isManualDsnMode=function(){return this.dsn.value===u},n}])},1968:function(e,n){angular.module("configwizard").controller("cwHtmlCtrl",["$scope","$sce","$q","cwTemplateService",function(e,n,t,i){"use strict";e.data={},e.data.html=(e.section.data||{}).html,Object.defineProperty(e.section,"valid",{configurable:!0,get:function(){return!0},set:angular.noop})}])},1969:function(e,n){angular.module("configwizard").service("cwFieldMappingDataTypes",function(){"use strict";this.CURRENCY="CURRENCY",this.NAME="NAME",this.NUMBER="NUMBER",this.DATE="DATE",this.DATETIME="DATETIME",this.STRING="STRING",this.ALL="all";var e={};e[this.CURRENCY.toLowerCase()]="books",e[this.NAME.toLowerCase()]="person",e[this.NUMBER.toLowerCase()]="numbers",e[this.DATE.toLowerCase()]="calendar",e[this.DATETIME.toLowerCase()]="calendar",e[this.STRING.toLowerCase()]="letters",e[this.ALL]="question-circle",this.iconFor=function(n){return e[(n||"").toLowerCase()]||"letters"}})},1970:function(e,n){angular.module("configwizard").service("cwField",["cwFieldMappingDataTypes",function(e){"use strict";var n=function e(n){if(!(this instanceof e))return new e(n);var t=this;t.id=n.id,t.name=n.name,t.displayName=n.displayName,t.location=n.location,t.dataType=(n.dataType||"string").toLowerCase(),t.hint=n.hint,t.validator=n.validator,t.knownLocation=n.knownLocation,t.order=n.order,t.sampleData=n.sampleData,t.isAdditionalField=n.isAdditionalField};return n.prototype.getDisplayDataType=function(){return this.isAdditionalField?"all":this.dataType},n.prototype.getTypeIcon=function(){return e.iconFor(this.dataType)},n}])},1971:function(e,n){angular.module("configwizard").service("cwFieldMap",["_","cwField","$http","cwFieldMappingDataTypes",function(e,n,t,i){"use strict";function a(){return this._destination}function s(e){this.showSamples=!1,this._destination=e,this.expected&&this.expected.isAdditionalField&&(this.expected.dataType=(e||{}).dataType||i.ALL)}function o(){var e=this.status;return e===u?"check-circle":e===p?"exclamation-point-circle":null}function c(){return this.status===p?"this failed for some reason!":null}function r(){return this.status===p?"warning":null}function l(){return this.destination&&this.destination.id&&this.typesMatch()?u:this.destination&&this.destination.id&&!this.typesMatch()?p:g}function d(e){return e.data}var u="SUCCESS",p="FAILURE",g="UNMAPPED",m=function e(t){var i=this;if(!(this instanceof e))return new e(t);if(!(t.expectedField instanceof n))throw"cwFieldMap.expectedField must be a cwField";Object.defineProperty(i,"destination",{get:a.bind(i),set:s.bind(i)}),Object.defineProperty(i,"status",{get:l.bind(i),set:angular.noop}),Object.defineProperty(i,"statusIcon",{get:o.bind(i),set:angular.noop}),Object.defineProperty(i,"tooltipText",{get:c.bind(i),set:angular.noop}),Object.defineProperty(i,"tooltipClass",{get:r.bind(i),set:angular.noop}),this.expected=t.expectedField,this.destination=t.discoveredField,this.matchConfidence=t.matchConfidence};return m.prototype.typesMatch=function(){return!this.destination||!this.destination.dataType||this.destination.dataType===this.expected.dataType},m.prototype.isSuccess=function(){return this.status===u},m.prototype.isFailure=function(){return this.status===p},m.prototype.setDestination=function(e){this.destination=e},m.prototype.setExpected=function(e){this.expected=e},m.prototype.isValid=function(){return!e.isUndefined(this.destination)&&!e.isUndefined(this.destination.id)&&!this.isFailure()},m.prototype.isHighConfidenceMatch=function(){return this.matchConfidence>80},m.prototype.toServer=function(){return{discoveredFieldId:(this.destination||{}).id,expectedFieldId:(this.expected||{}).id}},m.prototype.sampleDestinationField=function(e,n){if(this.destination&&!this.destination.sampleData){var i=this,a={dataProvider:e,accountId:n,fieldName:this.destination.location};return t.get("/api/data/v1/onboard/mappings/sampling",{params:a}).then(d).then(function(e){var n=e&&e.length?e:["No results"];i.destination.sampleData=n})}},m}])},1972:function(e,n){angular.module("configwizard").service("cwFieldMappingResult",["cwField","cwFieldMap","_","$timeout","$q","$http","cwFieldMappingDataTypes",function(e,n,t,i,a,s,o){"use strict";function c(e){return e.data}function r(e,i,a){var s=t.chain(i).reduce(function(e,n){return e[n.id]=n,e},{}).value(),a=t.chain(a).reduce(function(e,n){return e[n.id]=n,e},{}).value(),e=t.map(e,function(e){return{expectedField:a[e.expectedFieldId],discoveredField:s[e.discoveredFieldId],confidenceLevel:e.confidenceLevel}});return t.chain(e).reject(function(e){return!e.expectedField}).map(n).value()}var l=function n(i){if(!(this instanceof n))return new n(i);var a=this;this.rawData=i,this.discoveredFields=t.map(i.discoveredFields,e),this.expectedFields=t.map(i.expectedFields,e);var s=r(i.mappings,this.discoveredFields,this.expectedFields);this.mappings=t.filter(s,function(e){return!e.expected||!e.expected.isAdditionalField}),this.additionalMappings=t.filter(s,function(e){return e.expected&&e.expected.isAdditionalField}),this.discoveredFieldsByType=t.groupBy(this.discoveredFields,"dataType"),this.discoveredFieldsByType.all=this.discoveredFields,this.serverMappedFields=t.filter(a.mappings,function(e){return e.destination}),Object.defineProperty(this,"mappedFields",{get:function(){return t.filter(a.mappings,function(e){return e.destination})}}),Object.defineProperty(this,"mappedAdditionalFields",{get:function(){return t.filter(a.additionalMappings,function(e){
return e.destination})}})};return l.getFor=function(e,n,t){var i={playbookId:e,dataProvider:n,accountId:t};return s.get("/api/data/v1/onboard/mappings",{params:i}).then(c).then(l)},l.prototype.allValid=function(){var e=t.union(this.mappings,this.additionalMappings);return this.namesUnique(e)&&t.reduce(e,function(e,n){return e&&n.isValid()},!0)},l.prototype.namesUnique=function(e){e=e||t.union(this.mappings,this.additionalMappings);var n=t.map(e,function(e){return(e.expected.name||"").toLowerCase()}),i=t.unique(n);return n.length==i.length},l.prototype.toServer=function(){var e=t.chain(this.mappings).union(this.additionalMappings).map(function(e){return e.toServer()}).value();return{discoveredFields:this.discoveredFields,expectedFields:this.expectedFields,mappings:e}},l.prototype.addAdditionalMapping=function(){var i=t.max(this.expectedFields,function(e){return parseInt(e.id,10)}),a=parseInt(i.id,10),s=new e({id:a+1,name:"New Field",isAdditionalField:!0,dataType:o.ALL});this.expectedFields.push(s),this.additionalMappings.push(new n({expectedField:s}))},l.prototype.removeAdditionalMapping=function(e){this.additionalMappings.splice(this.additionalMappings.indexOf(e),1),this.expectedFields.splice(this.expectedFields.indexOf(e.expected))},l}])},1973:function(e,n){angular.module("configwizard").controller("cwFieldMappingCtrl",["$scope","cwFieldMappingResult","cwConfigWizardSectionsUtils","_",function(e,n,t,i){"use strict";function a(){return c=c||t.getSections(e,{includeValueless:!0}),r=r||i.find(c,function(n){return"account"==n.type&&n.data&&e.data.dataProviderKey===n.data.dataProviderKey}),r?r.value:null}function s(t){t&&(e.data.loading=!0,e.data.accountId=t,n.getFor(e.data.playbookId,e.data.dataProviderKey,t).then(function(n){e.data.fieldmap=n,e.data.currentStage=e.data.stages.RESULTS}))}var o=[],c=null,r=null;e.data={},e.data.loading=!0,e.data.playbookId=e.section.data?e.section.data.playbookId:null,e.data.dataProviderKey=e.section.data?e.section.data.dataProviderKey:null,e.data.stages={DISCOVERING:"discovering",RESULTS:"results",MAPPING:"mapping"},e.data.currentStage=e.data.stages.DISCOVERING,e.itemHelper={getNumberFilteredItems:function(n){var t=e.data.fieldmap.discoveredFields||o,i=e.data.fieldmap.discoveredFieldsByType[n.expected.getDisplayDataType()]||o,a=t.length-i.length;return a}},e.isStage=function(n){return e.data.currentStage==n},e.goToStage=function(n){e.data.currentStage=n},e.toggleFieldSampling=function(n){return n&&n.showSamples?void(n.showSamples=!1):(n.showSamples=!0,void n.sampleDestinationField(e.data.dataProviderKey,e.data.accountId))},function(){Object.defineProperty(e.section,"value",{configurable:!0,get:function(){return e.data.fieldmap?e.data.fieldmap.toServer():null},set:angular.noop})}(),function(){Object.defineProperty(e.section,"valid",{configurable:!0,get:function(){return e.data.fieldmap&&e.data.fieldmap.allValid()},set:angular.noop})}(),e.$watch(a,s)}])},1974:function(e,n){angular.module("configwizard").directive("cwDropdownSearchableList",["_","dbDropdownListService","$timeout",function(e,n,t){"use strict";return{restrict:"E",template:function(e){return'<div class="dropdown cw-dropdown-searchable-list" tabindex="0" db-popover self-close placement="{{dropdownPlacement || \'bottom-left\'}}" anchor="dropdownAnchor" ng-show="menuOpen" ng-mousedown="onDropdownMouseDown()" ng-mouseup="onDropdownMouseUp()" ng-click="onDropdownClick()" ng-keydown="onSearchBoxKeyDown($event)"><span ng-if="menuOpen"><div class="padding-xsmall search-box-container"><div class="search-box alternate-cursors" ng-class="{ disabled: dropdownDisabled }" ng-class="::controlSize"><i class="icon-search"></i><input id="search-input" type="text" class="input" ng-class="::controlSize" ng-disabled="dropdownDisabled"  ng-keyup="onSearchBoxKeyUp()" /><span ng-show="placeholderText && !selectedItem && searchTerm.length === 0" class="placeholder" ng-click="onOverlayClicked()">{{placeholderText}}</span></div></div><div class="header-text text-transform-uppercase color-text-header font-weight-bold font-size-small">Available Fields</div><hr><ul ng-show="!filterPending && filteredItems.length > 0" class="menu-list no-hovers" ng-class="::{ \'with-icons\': hasIcons, \'smaller\' : controlSize == \'small\' }" ng-mouseleave="onMouseLeave()"><li ng-repeat="item in filteredItems" class="(hoveredItem === item ? \'selected\' : \'\')" ng-class="::{ heading: item.heading, separator: item.separator, disabled: item.disabled, \'custom-item\': item.customItem }" ng-mouseover="onMouseOver(item)" ng-click="selectItem()">'+e.html()+'</li></ul><div ng-show="!filterPending && filteredItems.length === 0 && noResultsMessage" class="color-medium-gray" style="padding: 10px 20px; text-align: center;">{{noResultsMessage}}</div><hr ng-if="subtext"><div ng-if="subtext" class="font-size-xsmall color-text-header font-weight-lighter text-align-center margin-bottom-xsmall"> {{subtext}} </div></span></div>'},replace:!0,require:"^dbDropdown",link:function(i,a,s,o){i.dropdownAnchor=a.parents("[db-dropdown]"),s.customListClass&&a.find(".menu-list").addClass(s.customListClass),s.$observe("subtext",function(e){i.subtext=e}),i.onMouseLeave=function(){i.hoveredItem=null},i.onMouseOver=function(e){c(e)?i.hoveredItem=e:i.hoveredItem=null};var c=function(e){return e&&!e.heading&&!e.separator&&!e.disabled&&!e.customItem};i.selectItem=function(){i.hoveredItem&&c(i.hoveredItem)&&o.addSelectedItem(i.hoveredItem)},i.$on("selectItem",i.selectItem),i.$watch("menuOpen",function(){i.menuOpen&&!i.isMultipleSelect&&i.selectedItem&&r()&&(i.hoveredItem=i.selectedItem,n.scrollHoveredItemIntoView(i.filteredItems,i.hoveredItem,c,a.find(".menu-list"))),i.menuOpen&&t(function(){i.ignoreToggleBlur=!0,a.find("input").focus()})});var r=function(){return e.indexOf(i.filteredItems,i.selectedItem)>-1};i.$watch("filteredItems",function(){i.filteredItems&&(r()||(i.filteredItems.length>0?l("getFirstHoverableItem"):i.hoveredItem=null))});var l=function(e){var t=n[e](i.filteredItems,i.hoveredItem,c,a.find(".menu-list"));t&&(i.hoveredItem=t,n.scrollHoveredItemIntoView(i.filteredItems,i.hoveredItem,c,a.find(".menu-list")))};i.$on("previousItem",function(){l("getPreviousHoverableItem")}),i.$on("nextItem",function(){l("getNextHoverableItem")}),i.$on("firstItem",function(){l("getFirstHoverableItem")}),i.$on("lastItem",function(){l("getLastHoverableItem")}),i.$on("previousPage",function(){l("getPageUpHoverableItem")}),i.$on("nextPage",function(){l("getPageDownHoverableItem")}),i.onDropdownMouseDown=function(){i.ignoreToggleBlur=!0},i.onDropdownMouseUp=function(){i.ignoreToggleBlur=!1},i.onDropdownClick=function(){};var d=function(){return i.selectedItem&&a.find("input").val()===i.selectedItem[i.labelAttribute]};i.onOverlayClicked=function(){a.find("input").focus()},i.onSearchBoxKeyDown=function(e){if(27===e.keyCode){var n=a.find("input").val();i.selectNullabls&&i.menuOpen&&n.length>0&&(!i.selectedItem||n!==i.selectedItem.displayName)?(a.find("input").val(""),o.setSelectedItem(void 0)):i.menuOpen?o.processKey(e):window.setTimeout(function(){a.find("input").blur()},0)}37!==e.keyCode&&39!==e.keyCode&&27!==e.keyCode&&o.processKey(e),38!=e.keyCode&&40!=e.keyCode||e.preventDefault()},i.onSearchBoxKeyUp=function(){d()||(i.searchTerm=a.find("input").val())},i.$on("itemSelected",function(){o.closeMenu(),i.searchTerm=""})}}}])},1975:function(e,n,t){angular.module("configwizard").directive("cwFieldMappingProgressBar",function(){return{restrict:"E",replace:!0,template:t(1976),scope:{percent:"@"}}})},1976:function(e,n){e.exports="<div class=cw-field-mapping-progress-bar>\n<div class=cw-field-mapping-progress-bar-internal ng-style=\"{width : percent + '%'}\"></div>\n</div>"},1977:function(e,n,t){angular.module("configwizard").directive("cwFieldMappingRow",function(){return{restrict:"E",replace:!0,template:t(1978),scope:{mapping:"=",discoveredFieldsByType:"=",onPreviewClick:"&",onTrashClick:"&?",itemHelper:"=",isCustomMapping:"@?"},link:function(e){e.data={},e.data.isCustomMapping="true"===e.isCustomMapping,e.onEyeIconClick=function(n,t){t.preventDefault(),t.stopPropagation(),e.onPreviewClick({mapping:n})},e.onTrashIconClick=function(n,t){t.preventDefault(),t.stopPropagation(),e.onTrashClick&&e.onTrashClick({mapping:n})}}}})},1978:function(e,n){e.exports='<div class=cw-field-mapping-row>\n<div class="mapping position-relative" ng-class="{connected: mapping.isSuccess()}">\n<i ng-if=!data.isCustomMapping class="mapping-indicator icon-check-circle margin-right-xsmall"></i>\n<i ng-if=data.isCustomMapping class="icon-trash margin-right-xsmall cursor-pointer" ng-click="onTrashIconClick(mapping, $event)"></i>\n<div class="mapping-request inline-block">\n<div ng-if=!data.isCustomMapping class="mapping-input padding-horizontal-xsmall border-radius-medium" db-tooltip={{mapping.expected.infoText}}>\n<i class="expected-icon margin-left-xxsmall" ng-class="\'icon-\' + mapping.expected.getTypeIcon()"></i>\n<span class=margin-left-xxsmall>{{::mapping.expected.displayName}}</span>\n</div>\n<div ng-if=data.isCustomMapping class="mapping-input padding-horizontal-xsmall border-radius-medium cursor-pointer" db-tooltip={{mapping.expected.infoText}} ng-click=editMappingName(mapping) cw-select-on-click>\n<i class="expected-icon margin-left-xxsmall" ng-class="\'icon-\' + mapping.expected.getTypeIcon()"></i>\n<input class=input type=text ng-model=mapping.expected.name>\n<i class="icon-pencil margin-left-xxsmall margin-right-small float-right"></i>\n</div>\n</div>\n<div class="mapping-selector inline-block">\n<div class=plug ng-class="{active : data.menuOpen}"></div>\n<div class="dd-container padding-left-xsmall">\n<div db-dropdown items=discoveredFieldsByType[mapping.expected.getDisplayDataType()] search-term=mapping.searchTerm selected-item=mapping.destination label-attribute=name item-helper=itemHelper placeholder-text="Select a field..." menu-open=data.menuOpen class=mapping-dropdown>\n<db-dropdown-button class="large full-width">\n<div ng-if=!mapping.destination.displayName class="color-text-header font-weight-lighter">Connect Salesforce field...</div>\n<div ng-if=mapping.destination.displayName>{{mapping.destination.displayName}}</div>\n<div ng-if=mapping.isSuccess() class="icon-eye position-absolute margin-right-xxlarge color-text-header" ng-click="onEyeIconClick(mapping, $event)"></div>\n</db-dropdown-button>\n<cw-dropdown-searchable-list subtext="{{ itemHelper.getNumberFilteredItems($parent.mapping) }} incompatible fields hidden">\n<div class=display-table>\n<div class="display-table-cell vertical-align-middle text-align-center discovered-icon-wrapper">\n<i class="expected-icon {{::\'icon-\' + item.getTypeIcon()}}"></i>\n</div>\n<div class="display-table-cell padding-vertical-xxsmall">\n<dm-text-highlight highlight-term=searchTerm to-highlight=item.displayName highlight-class=font-weight-bold class=""></dm-text-highlight>\n</div>\n</div>\n</cw-dropdown-searchable-list>\n</div>\n</div>\n</div>\n<div ng-if=mapping.showSamples class="samples margin-vertical-small float-right">\n<div ng-if=!mapping.destination.sampleData class=text-align-right><div class="spinner small"></div></div>\n<div ng-if=mapping.destination.sampleData class="text-align-right font-size-xsmall border-default">\n<div class="sampling-header font-weight-bold padding-horizontal-xsmall padding-vertical-xxsmall text-transform-uppercase border-bottom-default">{{mapping.destination.displayName}}</div>\n<div class="border-top-default padding-horizontal-xsmall padding-vertical-xxsmall color-text-header" ng-repeat="sample in mapping.destination.sampleData track by $index">{{sample | cwI18n}}</div>\n</div>\n</div>\n</div>\n</div>\n'},1979:function(e,n,t){var i=t(8);angular.module("configwizard").directive("cwSelectOnClick",["$timeout",function(e){return{restrict:"A",link:function(e,n,t){var a,s=i(n).is("input"),o=s?"":"input";n.on("click",function(){var e=s?n:n.find("input");e.focus(),a!=e&&(a=e,e.select())}),n.on("blur",o,function(){a=null})}}}])},1980:function(e,n,t){angular.module("configwizard").directive("cwCollapsibleContainer",function(){return{restrict:"E",transclude:!0,scope:!0,replace:!0,controller:"cwCollapsibleContainerCtrl",template:t(1981)}})},1981:function(e,n){e.exports='<div class="collapsible-container border-default border-radius-large" ng-class="{enabled: !disabled, disabled: disabled, closed: !open, open : open, invalid: invalid && !disabled, warning: warning && !disabled}">\n<div class="header border-radius-large position-relative display-table" ng-class="{\'cursor-pointer\' : !disabled, \'border-radius-bottom-none\' : open }" ng-click="!disabled && onHeaderClick()" dm-step-toggle=open current-index={{index}} animate="{{ animate }}" namespace="{{ namespace }}">\n<span class="display-table-cell status text-align-center" ng-class="{ \'border-radius-left-large\': !open, \'border-radius-top-left-large\': open }">\n<i class=icon-></i>\n</span>\n<span class="display-table-cell inner">\n<span ng-class="{\'font-weight-bold\' : open || !disabled, \'color-light-gray-1\' : disabled }">\n{{title}}\n</span> &nbsp;\n<span>{{subtitle}}</span>\n</span>\n</div>\n<div class="collapsible-container-content border-radius-bottom-large padding-medium padding-top-small" ng-transclude></div>\n</div>'},1982:function(e,n){angular.module("configwizard").controller("cwCollapsibleContainerCtrl",["$scope","$attrs","$parse",function(e,n,t){n.$observe("cwCcOpen",function(n){e.$watch(n,function(n){e.open=n})}),n.$observe("cwCcDisabled",function(n){e.$watch(n,function(n){e.disabled=n})}),n.$observe("cwCcHeaderClick",function(n){e._onHeaderClick=t(n)}),n.$observe("cwCcTitle",function(n){e.title=n}),n.$observe("cwCcSubtitle",function(n){e.subtitle=n}),n.$observe("cwCcAnimate",function(n){e.animate="true"===n}),n.$observe("cwCcInvalid",function(n){e.invalid="true"===n}),n.$observe("cwCcWarning",function(n){e.warning="true"===n}),e.onHeaderClick=function(){e._onHeaderClick&&e._onHeaderClick(e,{})}}])},1983:function(e,n){angular.module("configwizard").controller("cwScheduleCtrl",["$scope","cwCronService","cwCronDataGenerator",function(e,n,t){function i(){function n(e){return!!e&&parseInt(e)>0}var t=!1;switch(e.scheduleModel.scheduleType){case"hourly":t=n(e.scheduleModel.hourInterval);break;case"daily":t=n(e.scheduleModel.dayInterval);break;case"weekly":t=_.where(e.buttonGroupValues.week,{isActive:!0}).length>0;break;case void 0:break;default:t=!0}return t}function a(){var i=t.generate(e.scheduleModel),a=n.generateCronString(i);return a}e.data={},e.scheduleModel={},e.dropdownValues={scheduleTypes:[{value:"5minutes",label:"Every 5 Minutes"},{value:"15minutes",label:"Every 15 Minutes"},{value:"30minutes",label:"Every 30 Minutes"},{value:"hourly",label:"Hourly"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"manually",label:"Manually"}],hourlyQuarters:[{value:"0",label:":00"},{value:"15",label:":15"},{value:"30",label:":30"},{value:"45",label:":45"}],dailyHours:[{value:"0",label:"12:00"},{value:"1",label:"1:00"},{value:"2",label:"2:00"},{value:"3",label:"3:00"},{value:"4",label:"4:00"},{value:"5",label:"5:00"},{value:"6",label:"6:00"},{value:"7",label:"7:00"},{value:"8",label:"8:00"},{value:"9",label:"9:00"},{value:"10",label:"10:00"},{value:"11",label:"11:00"}],hourRanges:[{value:"0",label:"12:00 AM - 3:00 AM"},{value:"3",label:"3:00 AM - 6:00 AM"},{value:"6",label:"6:00 AM - 9:00 AM"},{value:"9",label:"9:00 AM - 12:00 PM"},{value:"12",label:"12:00 PM - 3:00 PM"},{value:"15",label:"3:00 PM - 6:00 PM"},{value:"18",label:"6:00 PM - 9:00 PM"},{value:"21",label:"9:00 PM - 12:00 AM"}],dailyMeridian:[{value:"am",label:"AM"},{value:"pm",label:"PM"}]},e.buttonGroupValues={week:[{value:"1",label:"S"},{value:"2",label:"M"},{value:"3",label:"T"},{value:"4",label:"W"},{value:"5",label:"T"},{value:"6",label:"F"},{value:"7",label:"S"}]},e.frequencies={"5minutes":angular.noop,"15minutes":angular.noop,"30minutes":angular.noop,hourly:function(){e.scheduleModel.hourInterval=e.scheduleModel.hour.interval,e.selectedHourOffsetIndex=_.indexOf(e.dropdownValues.hourlyQuarters,_.find(e.dropdownValues.hourlyQuarters,function(n){return n.value==e.scheduleModel.hour.offset}))},daily:function(){e.scheduleModel.dayInterval=e.scheduleModel.day.interval,e.selectedDayOffsetIndex=_.indexOf(e.dropdownValues.hourRanges,_.find(e.dropdownValues.hourRanges,function(n){return n.value==e.scheduleModel.day.offset}))},weekly:function(){e.selectedWeekOffsetIndex=_.indexOf(e.dropdownValues.hourRanges,_.find(e.dropdownValues.hourRanges,function(n){return n.value==e.scheduleModel.week.offset}));var n={};_.each(e.buttonGroupValues.week,function(e){n[e.value]=e}),_.each(e.scheduleModel.week.selectedDays,function(e,t){n[t]&&(n[t].isActive=e)})},manually:angular.noop},e.hourOffsetChange=function(n){e.scheduleModel.hourOffset=n.value},e.weeklyDayChange=function(){if(e.scheduleModel){e.scheduleModel.week||(e.scheduleModel.week={}),e.scheduleModel.week.selectedDays||(e.scheduleModel.week.selectedDays={});var n=e.scheduleModel.week.selectedDays;_.each(e.buttonGroupValues.week,function(e){n[e.value]=!!e.isActive})}},e.weekRangeChange=function(n){"weekly"===e.scheduleModel.scheduleType&&(e.scheduleModel.week.offset=n.value)},e.hourRangeChange=function(n){"daily"===e.scheduleModel.scheduleType&&(e.scheduleModel.dayOffset=n.value)},e.hourlyChange=function(n){"daily"===e.scheduleModel.scheduleType?e.scheduleModel.dayOffset=n.value:"weekly"===e.scheduleModel.scheduleType&&(e.scheduleModel.weekHourOffset=n.value)},e.meridianChange=function(n){"daily"===e.scheduleModel.scheduleType?e.scheduleModel.ampm=n.value:"weekly"===e.scheduleModel.scheduleType&&(e.scheduleModel.ampm=n.value)},e.scheduleTypeChanged=function(n){e.scheduleModel.scheduleType=n.value,e.scheduleModel.frequency=n.value},function(){var t=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){var e=a();return e},set:function(t){var i=n.parseCronString(t);e.scheduleModel=i,e.selectedIndex=_.indexOf(e.dropdownValues.scheduleTypes,_.find(e.dropdownValues.scheduleTypes,function(n){return n.value==e.scheduleModel.frequency})),e.frequencies[e.scheduleModel.frequency]()}}),e.section.value=t||"never"}(),function(){Object.defineProperty(e.section,"valid",{configurable:!0,get:function(){return i()},set:function(){}})}()}])},1984:function(e,n){angular.module("configwizard").controller("cwAdvancedScheduleCtrl",["$scope","$location","cwCronService","cwCronDataGenerator","cwSchedule","_","cwSectionValidity","features",function(e,n,t,i,a,s,o,c){e.features=c,e.section.hideAsterisks=!0,e.section.text=null,e.section.doNotFlatten=!0,e.data={},e.schedule=a.instance(),e.DAY_ALL_SCHEDULE_TYPE=e.schedule.daily,o.defineValidity(e.section,function(){return!0}),e.showUpsellModal=function(){e.showUpsell=!0},e.$watch("schedule.state.type",function(n,t){n.locked&&(e.schedule.state.type=e.DAY_ALL_SCHEDULE_TYPE,e.showUpsellModal())}),function(){var n=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){return e.schedule.getSchedule()},set:function(n){e.schedule.setSchedule(n)}}),e.section.value=n}()}])},1985:function(e,n){angular.module("configwizard").factory("cwSchedule",["_","cwScheduleAdvanced","cwScheduleDaysOfWeek","jstz","cwScheduleTypes","cwScheduleTranslators","cwScheduleHours","features","dmI18n",function(e,n,t,i,a,s,o,c,r){function l(){var e=this.state.advancedView,n=e?a.TYPE_ADVANCED:this.state.type.group||a.TYPE_MANUAL,t=s.getTranslatorForType(n),i=t.toServer(this);return i.timezone="UTC",i}function d(e){if(e&&e.type){var n=s.getTranslatorForType(e.type);n&&n.fromServer(this,e)}}function u(e,n){return e==n}function p(){return u(a.TYPE_MINUTE,this.state.type.group)}function g(){return u(a.TYPE_HOUR,this.state.type.group)}function m(){return u(a.TYPE_DAY,this.state.type.group)}function v(){return u(a.TYPE_WEEKDAY,this.state.type.group)}function f(){return u(a.TYPE_WEEK,this.state.type.group)}function h(){return u(a.TYPE_MONTH,this.state.type.group)}function w(){return u(a.TYPE_ADVANCED,this.state.type.group)}function b(){return u(a.TYPE_MANUAL,this.state.type.group)}function y(){return!this.state.advancedView}function x(){return this.state.advancedView}function S(e){var n=e.permission("subhour-import-scheduling");return n==e.Enum.UPSELL}function k(e){var n=e.permission("advanced-scheduling");return n===e.Enum.OFF||n===e.Enum.UPSELL}var C={label:r.get("wizard/section-schedule-every-day"),value:"DAY_ALL",group:a.TYPE_DAY},M=[{label:r.get("wizard/section-schedule-every-hour"),value:"HOURLY",group:a.TYPE_HOUR,locked:S(c)},{separator:!0},C,{label:r.get("wizard/section-schedule-every-weekday"),value:"DAY_WEEKDAY",group:a.TYPE_WEEKDAY},{separator:!0},{label:r.get("wizard/section-schedule-every-week"),value:"WEEK_1",group:a.TYPE_WEEK},{separator:!0},{label:r.get("wizard/section-schedule-every-month"),value:"MONTH_1",group:a.TYPE_MONTH},{separator:!0},{label:r.get("wizard/section-schedule-manually"),value:"MANUAL",group:a.TYPE_MANUAL}],z={label:r.get("wizard/section-schedule-every-15-minutes"),value:"MINUTE_15",group:a.TYPE_MINUTE,interval:15,locked:S(c),disabled:S(c)},D={label:r.get("wizard/section-schedule-every-30-minutes"),value:"MINUTE_30",group:a.TYPE_MINUTE,interval:30,locked:S(c),disabled:S(c)};S(c)||c.permission("subhour-import-scheduling")===c.Enum.ON&&M.unshift(z,D);var I=[{label:r.get("wizard/section-schedule-days-month-1st"),value:"1"},{label:r.get("wizard/section-schedule-days-month-1st-15th"),value:"1,15"},{label:r.get("wizard/section-schedule-days-month-last"),value:"L"}],T=[{label:r.get("wizard/section-schedule-1-hour"),value:60},{label:r.get("wizard/section-schedule-1-day"),value:1440},{label:r.get("wizard/section-schedule-1-week"),value:10080},{label:r.get("wizard/section-schedule-1-month"),value:302400},{label:r.get("wizard/section-schedule-3-months"),value:907200}],V=function(){this._components={cwScheduleHours:o.instance(),cwScheduleAdvanced:n.instance(),cwScheduleDaysOfWeek:t.instance()},this.data={types:M,notifyFrequencies:T,hours:this._components.cwScheduleHours.hours,daysOfWeek:this._components.cwScheduleDaysOfWeek.daysOfWeek,simpleDaysOfMonth:I,advanced:this._components.cwScheduleAdvanced.data},this.state={type:e.findWhere(this.data.types,{value:"DAY_ALL"})||this.data.types[2],at:new Date,dayOfWeek:this.data.daysOfWeek[0],simpleDayOfMonth:this.data.simpleDaysOfMonth[0],notifyFrequencyFlag:!1,notifyFrequency:this.data.notifyFrequencies[0],betweenFlag:!1,between:{startTime:this.data.hours[8],stopTime:this.data.hours[18]},advancedView:!1,advanced:this._components.cwScheduleAdvanced.state},this.helpers={selectAll:this._components.cwScheduleAdvanced.selectAll},this.daily=C};return V.prototype.getSchedule=l,V.prototype.setSchedule=d,V.prototype.isHour=g,V.prototype.isDay=m,V.prototype.isMinute=p,V.prototype.isMonth=h,V.prototype.isWeek=f,V.prototype.isWeekDay=v,V.prototype.isAdvanced=w,V.prototype.isManual=b,V.prototype.isSubHourSchedulingLocked=S,V.prototype.isAdvancedSchedulingLocked=k,V.prototype.isAdvancedView=x,V.prototype.isBasicView=y,{instance:function(){return new V}}}])},1986:function(e,n,t){var i=t(47);angular.module("configwizard").factory("cwScheduleAdvanced",["cwScheduleMonths","cwScheduleDaysOfMonth","cwScheduleDaysOfWeek","cwScheduleWeeks","cwScheduleHours","_","features","dmI18n",function(e,n,t,a,s,o,c,r){function l(){var e={};if(e.type="ADVANCED",e.month=this._components.cwScheduleMonths.getActive(),this.state.isDaysOfMonth()&&(e.dayOfMonth=this._components.cwScheduleDaysOfMonth.getActive()),this.state.isDaysOfWeek()&&(e.dayOfWeek=this._components.cwScheduleDaysOfWeek.getActive(),e.weekOfMonths=this._components.cwScheduleWeeks.getActive()),this.state.isIntervals()&&(e.interval=this.state.repeatInterval.value),this.state.isIntervals()&&this.state.betweenFlag&&(e.between={},e.between.startTime=this.state.between.startTime.value,e.between.stopTime=this.state.between.stopTime.value),this.state.isTimes()){var n=o.map(this.state.times,function(e){return e.value?i(e.value).locale(f).format(v):null});n=o.compact(n),e.time=n.length>0?n[0]:null}return this.state.startFlag&&this.state.startDate&&this.state.startTime&&(e.start={},e.start.date=i(this.state.startDate).format(m),e.start.time=i(this.state.startTime).locale(f).format(v)),e}function d(e){if(e.month&&this._components.cwScheduleMonths.setActive(e.month),e.dayOfMonth&&(this.state.dayMode="month",this._components.cwScheduleDaysOfMonth.setActive(e.dayOfMonth)),e.dayOfWeek&&(this.state.dayMode="week",this._components.cwScheduleDaysOfWeek.setActive(e.dayOfWeek)),e.weekOfMonths&&(this.state.dayMode="week",this._components.cwScheduleWeeks.setActive(e.weekOfMonths)),e.interval){this.state.timeMode="interval";var n=o.find(this.data.repeatIntervals,function(n){return n.value==e.interval});n||e.interval!=w.value||(n=w),n||e.interval!=b.value||(n=b),this.state.repeatInterval=n||this.data.repeatIntervals[0]}if(e.time&&(this.state.timeMode="time",this.state.times=[{value:i(e.time,v,f).toDate()}]),e.start){this.state.startFlag=!0;var t=e.start.date||i().format(m),a=e.start.time||i().format(v);this.state.startDate=i(t,m,f).toDate(),this.state.startTime=i(a,v,f).toDate()}e.between&&(this.state.betweenFlag=!0,this.state.between={},this.state.between.startTime=o.find(this.data.hours,function(n){return n.value==e.between.startTime}),this.state.between.stopTime=o.find(this.data.hours,function(n){return n.value==e.between.stopTime}))}function u(e){g(e,!0)}function p(e){g(e,!1)}function g(e,n){o.each(e,function(e){e.active=n})}var m="YYYY-MM-DD",v="hh:mm A",f="en",h=[{label:r.get("wizard/section-schedule-1-hour"),value:60},{label:r.get("wizard/section-schedule-2-hours"),value:120},{label:r.get("wizard/section-schedule-3-hours"),value:180},{label:r.get("wizard/section-schedule-4-hours"),value:240},{label:r.get("wizard/section-schedule-6-hours"),value:360},{label:r.get("wizard/section-schedule-8-hours"),value:480},{label:r.get("wizard/section-schedule-12-hours"),value:720}],w={label:r.get("wizard/section-schedule-15-minutes"),value:15},b={label:r.get("wizard/section-schedule-30-minutes"),value:30};h.unshift(w,b);var y=function(){var c=this;this._components={cwScheduleMonths:e.instance(),cwScheduleDaysOfMonth:n.instance(),cwScheduleDaysOfWeek:t.instance(),cwScheduleWeeks:a.instance(),cwScheduleHours:s.instance()},this.data={hours:this._components.cwScheduleHours.hours,months:this._components.cwScheduleMonths.months,daysOfMonth:this._components.cwScheduleDaysOfMonth.daysOfMonth,daysOfMonthAsColumns:this._components.cwScheduleDaysOfMonth.asColumns(3),daysOfWeek:this._components.cwScheduleDaysOfWeek.daysOfWeek,weeks:this._components.cwScheduleWeeks.weeks,repeatIntervals:h},this.state={dayMode:"month",timeMode:"interval",betweenFlag:!1,startFlag:!1,startDate:i().toDate(),startTime:i().toDate(),times:[{value:new Date}],repeatInterval:this.data.repeatIntervals[0],between:{startTime:this.data.hours[8],stopTime:this.data.hours[18]}},Object.defineProperty(this.state,"monthAll",{get:function(){return o.reduce(c.data.months,function(e,n){return e&&n.active},!0)},set:function(e){g(c.data.months,e)}}),Object.defineProperty(this.state,"dayOfMonthAll",{get:function(){return o.reduce(c.data.daysOfMonth,function(e,n){return e&&n.active},!0)},set:function(e){g(c.data.daysOfMonth,e)}}),Object.defineProperty(this.state,"dayOfWeekAll",{get:function(){return o.reduce(c.data.daysOfWeek,function(e,n){return e&&n.active},!0)},set:function(e){g(c.data.daysOfWeek,e)}}),Object.defineProperty(this.state,"weekAll",{get:function(){return o.reduce(c.data.weeks,function(e,n){return e&&n.active},!0)},set:function(e){g(c.data.weeks,e)}}),this.state.isDaysOfMonth=function(){return"month"==this.dayMode},this.state.isDaysOfWeek=function(){return"week"==this.dayMode},this.state.isIntervals=function(){return"interval"==this.timeMode},this.state.isTimes=function(){return"time"==this.timeMode},this.state.addTime=function(){this.times.push({val:new Date})},this.state.removeTime=function(e){this.times.splice(this.times.indexOf(e),1)}};return y.prototype.setSchedule=d,y.prototype.getSchedule=l,y.prototype.selectAll=u,y.prototype.deselectAll=p,{instance:function(){return new y}}}])},1987:function(e,n){angular.module("configwizard").factory("cwScheduleDaysOfMonth",["_",function(e){function n(){var n=[];return e.each(s,function(t){n.push(e.extend({},t))}),n}function t(n){var t=e.reduce(n,function(e,n){return e[n]=!0,e},{});e.each(this.daysOfMonth,function(e){e.active=t[e.value||e.label]})}function i(){return e.chain(this.daysOfMonth).where({active:!0}).map(function(e){return e.value||e.label}).value()}function a(n){n=n||3;var t=Math.ceil(this.daysOfMonth.length/n);return e.chain(this.daysOfMonth).groupBy(function(e,n){return n%t}).reduce(function(e,n,t){return e[t]=n,e},[]).value()}for(var s=[],o=1;o<=31;o++)s.push({label:o});var c=function(){this.daysOfMonth=n()};return c.prototype.setActive=t,c.prototype.getActive=i,c.prototype.asColumns=a,{instance:function(){return new c}}}])},1988:function(e,n,t){var i=t(47);angular.module("configwizard").factory("cwScheduleDaysOfWeek",["_",function(e){function n(){var n=[];return e.each(r,function(t){n.push(e.extend({},t))}),n}function t(n){var t=e.reduce(n,function(e,n){return e[n]=!0,e},{});e.each(this.daysOfWeek,function(e){e.active=t[e.value]})}function a(){return e.chain(this.daysOfWeek).where({active:!0}).map(function(e){return e.value}).value()}var s=[{label:"Monday",value:2},{label:"Tuesday",value:3},{label:"Wednesday",value:4},{label:"Thursday",value:5},{label:"Friday",value:6},{label:"Saturday",value:7},{label:"Sunday",value:1}],o=[i().weekday(0),i().weekday(1),i().weekday(2),i().weekday(3),i().weekday(4),i().weekday(5),i().weekday(6)],c=e.map(o,function(e){return{label:e.format("dddd"),value:e.isoWeekday()%7+1}}),r=c&&c.length?c:s,l=function(){this.daysOfWeek=n()};return l.prototype.setActive=t,l.prototype.getActive=a,{instance:function(){return new l}}}])},1989:function(e,n,t){var i=t(47);angular.module("configwizard").factory("cwScheduleHours",["_",function(e){function n(){var n=[];return e.each(s,function(t){n.push(e.extend({},t))}),n}function t(n){var t=e.reduce(n,function(e,n){return e[n]=!0,e},{});e.each(this.hours,function(e){e.active=t[e.value]})}function a(){return e.chain(this.hours).where({active:!0}).map(function(e){return e.value}).value()}for(var s=[],o=0;o<=23;o++)s.push({label:i().hour(o).format("h A"),value:o});var c=function(){this.hours=n()};return c.prototype.setActive=t,c.prototype.getActive=a,{instance:function(){return new c}}}])},1990:function(e,n,t){var i=t(47);angular.module("configwizard").factory("cwScheduleMonths",["_",function(e){function n(){var n=[];return e.each(r,function(t){n.push(e.extend({},t))}),n}function t(n){var t=e.reduce(n,function(e,n){return e[n]=!0,e},{});e.each(this.months,function(e){e.active=t[e.value]})}function a(){return e.chain(this.months).where({active:!0}).map(function(e){return e.value}).value()}var s=[i().month(0).date(1),i().month(1).date(1),i().month(2).date(1),i().month(3).date(1),i().month(4).date(1),i().month(5).date(1),i().month(6).date(1),i().month(7).date(1),i().month(8).date(1),i().month(9).date(1),i().month(10).date(1),i().month(11).date(1)],o=e.map(s,function(e){return{label:e.format("MMMM"),value:e.month()+1}}),c=[{label:"January",value:1},{label:"February",value:2},{label:"March",value:3},{label:"April",value:4},{label:"May",value:5},{label:"June",value:6},{label:"July",value:7},{label:"August",value:8},{label:"September",value:9},{label:"October",value:10},{label:"November",value:11},{label:"December",value:12}],r=o&&o.length?o:c,l=function(){this.months=n()};return l.prototype.setActive=t,l.prototype.getActive=a,{instance:function(){return new l}}}])},1991:function(e,n){angular.module("configwizard").factory("cwScheduleWeeks",["dmI18n",function(e){function n(){var e=[];return _.each(a,function(n){e.push(_.extend({},n))}),e}function t(e){var n=_.reduce(e,function(e,n){return e[n]=!0,
e},{});_.each(this.weeks,function(e){e.active=n[e.value]})}function i(){return _.chain(this.weeks).where({active:!0}).map(function(e){return e.value}).value()}var a=[{label:e.get("wizard/section-schedule-weeks-1"),value:1},{label:e.get("wizard/section-schedule-weeks-2"),value:2},{label:e.get("wizard/section-schedule-weeks-3"),value:3},{label:e.get("wizard/section-schedule-weeks-4"),value:4},{label:e.get("wizard/section-schedule-weeks-last"),value:-1}],s=function(){this.weeks=n()};return s.prototype.setActive=t,s.prototype.getActive=i,{instance:function(){return new s}}}])},1992:function(e,n){angular.module("configwizard").factory("cwScheduleDateFormats",function(){return{serverTime:"hh:mm A",serverDate:"YYYY-MM-DD"}})},1993:function(e,n){angular.module("configwizard").factory("cwScheduleTypes",function(){return{TYPE_MINUTE:"MINUTE",TYPE_HOUR:"HOUR",TYPE_DAY:"DAY",TYPE_WEEKDAY:"WEEKDAY",TYPE_WEEK:"WEEK",TYPE_MONTH:"MONTH",TYPE_ADVANCED:"ADVANCED",TYPE_MANUAL:"MANUAL"}})},1994:function(e,n){angular.module("configwizard").factory("cwScheduleTranslators",["cwScheduleTypes","cwDayScheduleTranslator","cwHourScheduleTranslator","cwManualScheduleTranslator","cwMinuteScheduleTranslator","cwMonthScheduleTranslator","cwWeekDayScheduleTranslator","cwWeekScheduleTranslator","cwAdvancedScheduleTranslator",function(e,n,t,i,a,s,o,c,r){var l={};return l[e.TYPE_MINUTE]=a,l[e.TYPE_HOUR]=t,l[e.TYPE_DAY]=n,l[e.TYPE_WEEKDAY]=o,l[e.TYPE_WEEK]=c,l[e.TYPE_MONTH]=s,l[e.TYPE_ADVANCED]=r,l[e.TYPE_MANUAL]=i,{getTranslatorForType:function(e){return l[e]}}}])},1995:function(e,n){angular.module("configwizard").factory("cwAdvancedScheduleTranslator",["cwScheduleDateFormats","cwScheduleTypes","_",function(e,n,t){function i(e){return e._components.cwScheduleAdvanced.getSchedule()}function a(e,n){e.state.advancedView=!0,e._components.cwScheduleAdvanced.setSchedule(n)}return{toServer:i,fromServer:a}}])},1996:function(e,n,t){var i=t(47);angular.module("configwizard").factory("cwDayScheduleTranslator",["cwScheduleDateFormats","cwScheduleTypes","_",function(e,n,t){function a(e){var t={};t.type=n.TYPE_DAY;var a=e.state.at||new Date;return t.at=i(a).locale("en").format(o),t}function s(e,a){e.state.type=t.findWhere(e.data.types,{group:n.TYPE_DAY});var s=a.at||i().format(o);e.state.at=i(s,o).toDate()}var o=e.serverTime;return{toServer:a,fromServer:s}}])},1997:function(e,n){angular.module("configwizard").factory("cwHourScheduleTranslator",["cwScheduleDateFormats","cwScheduleTypes","_",function(e,n,t){function i(e){var t={};return t.type=n.TYPE_HOUR,t.interval=e.state.type.interval&&e.state.type.interval+"",e.state.betweenFlag&&(t.between={},t.between.startTime=e.state.between.startTime.value,t.between.stopTime=e.state.between.stopTime.value),t}function a(e,i){e.state.type=t.findWhere(e.data.types,{group:n.TYPE_HOUR}),i.between&&(e.state.betweenFlag=!0,e.state.between={},e.state.between.startTime=t.find(e.data.hours,function(e){return e.value==i.between.startTime}),e.state.between.stopTime=t.find(e.data.hours,function(e){return e.value==i.between.stopTime}))}return{toServer:i,fromServer:a}}])},1998:function(e,n){angular.module("configwizard").factory("cwManualScheduleTranslator",["cwScheduleTypes","_",function(e,n){function t(n){var t={};return t.type=e.TYPE_MANUAL,n.state.notifyFrequencyFlag&&(t.warn=n.state.notifyFrequency.value),t}function i(t,i){t.state.type=n.findWhere(t.data.types,{group:e.TYPE_MANUAL}),n.isUndefined(i.warn)||0===i.warn||(t.state.notifyFrequencyFlag=!0,t.state.notifyFrequency=n.find(t.data.notifyFrequencies,function(e){return e.value==i.warn}),t.state.notifyFrequency=t.state.notifyFrequency||t.data.notifyFrequencies[0])}return{toServer:t,fromServer:i}}])},1999:function(e,n){angular.module("configwizard").factory("cwMinuteScheduleTranslator",["cwScheduleDateFormats","cwScheduleTypes","_","dmI18n",function(e,n,t,i){function a(e){var t={};return t.type=n.TYPE_MINUTE,t.interval=e.state.type.interval+"",e.state.betweenFlag&&(t.between={},t.between.startTime=e.state.between.startTime.value,t.between.stopTime=e.state.between.stopTime.value),t}function s(e,i){var a=t.find(e.data.types,function(e){return e.group==n.TYPE_MINUTE&&e.interval==i.interval});a||o.group!=n.TYPE_MINUTE||o.interval!=i.interval||(a=o),a||c.group!=n.TYPE_MINUTE||c.interval!=i.interval||(a=c),e.state.type=a||t.findWhere(e.data.types,{group:n.TYPE_MINUTE}),i.between&&(e.state.betweenFlag=!0,e.state.between={},e.state.between.startTime=t.find(e.data.hours,function(e){return e.value==i.between.startTime}),e.state.between.stopTime=t.find(e.data.hours,function(e){return e.value==i.between.stopTime}))}var o={label:i.get("wizard/section-schedule-every-15-minutes"),value:"MINUTE_15",group:n.TYPE_MINUTE,interval:15},c={label:i.get("wizard/section-schedule-every-30-minutes"),value:"MINUTE_30",group:n.TYPE_MINUTE,interval:30};return{toServer:a,fromServer:s}}])},2e3:function(e,n,t){var i=t(47);angular.module("configwizard").factory("cwMonthScheduleTranslator",["cwScheduleDateFormats","cwScheduleTypes","_",function(e,n,t){function a(e){var t={};return t.type=n.TYPE_MONTH,t.on=e.state.simpleDayOfMonth.value+"",t.at=i(e.state.at).locale("en").format(o),t}function s(e,a){e.state.type=t.findWhere(e.data.types,{group:n.TYPE_MONTH});var s=t.find(e.data.simpleDaysOfMonth,function(e){return e.value==a.on});e.state.simpleDayOfMonth=s||e.data.simpleDaysOfMonth[0];var c=a.at||i().format(o);e.state.at=i(c,o).toDate()}var o=e.serverTime;return{toServer:a,fromServer:s}}])},2001:function(e,n,t){var i=t(47);angular.module("configwizard").factory("cwWeekDayScheduleTranslator",["cwScheduleDateFormats","cwScheduleTypes","_",function(e,n,t){function a(e){var t={};return t.type=n.TYPE_WEEKDAY,t.at=i(e.state.at).locale("en").format(o),t}function s(e,a){e.state.type=t.findWhere(e.data.types,{group:n.TYPE_WEEKDAY});var s=a.at||i().format(o);e.state.at=i(s,o).toDate()}var o=e.serverTime;return{toServer:a,fromServer:s}}])},2002:function(e,n,t){var i=t(47);angular.module("configwizard").factory("cwWeekScheduleTranslator",["cwScheduleDateFormats","cwScheduleTypes","_",function(e,n,t){function a(e){var t={};return t.type=n.TYPE_WEEK,t.on=e.state.dayOfWeek.value+"",t.at=i(e.state.at).locale("en").format(o),t}function s(e,a){e.state.type=t.findWhere(e.data.types,{group:n.TYPE_WEEK});var s=t.find(e.data.daysOfWeek,function(e){return e.value==a.on});e.state.dayOfWeek=s||e.data.daysOfWeek[0];var c=a.at||i().format(o);e.state.at=i(c,o).toDate()}var o=e.serverTime;return{toServer:a,fromServer:s}}])},2003:function(e,n,t){var i=t(8);angular.module("configwizard").controller("cwGAAdvancedCtrl",["$scope","cwGAModel","_","cwConfigWizardSectionsUtils","$http","dmI18n",function(e,n,t,a,s,o){"use strict";function c(n,i){e.accountId=n;var a={name:"reportsNewCommand",parameters:{accountId:n},connectorInfo:{id:"com.domo.connector.googleAnalytics.adv"}},o={name:"segmentsCommand",parameters:{accountId:n},connectorInfo:{id:"com.domo.connector.googleAnalytics.adv"}},c={name:"profilesCommand",parameters:{accountId:n},connectorInfo:{id:"com.domo.connector.googleAnalytics.adv"}},l={name:"metadataCommand",parameters:{accountId:n},connectorInfo:{id:"com.domo.connector.googleAnalytics.adv"}};s.post("/api/data/v1/discovery/",l).then(function(n){var a=n.data;i.categories=r(a.value),i.selectedCategory=t.sortBy(i.categories,function(e){return e.label})[0],i.metrics=a.value.items.filter(function(e){return"METRIC"===e.attributes.type&&"DEPRECATED"!=e.attributes.status}),i.dimensions=a.value.items.filter(function(e){return"DIMENSION"===e.attributes.type&&"DEPRECATED"!=e.attributes.status}),i.selectedReport&&e.updateReportSelections(i.selectedReport)}),s.post("/api/data/v1/discovery/",a).then(function(n){var a=n.data;a.value=t.sortBy(a.value,"label"),t.forEach(a.value,function(e){for(var n=0;n<e.dimensions.length;n++)e.dimensions[n].length>0&&(e.dimensions[n]="ga:"+e.dimensions[n]);for(var n=0;n<e.metrics.length;n++)e.metrics[n].length>0&&(e.metrics[n]="ga:"+e.metrics[n])}),i.reports=a,i.v1Reports=a.value.filter(function(e){return"GOOGLEV1"===e.category}),i.v2Reports=a.value.filter(function(e){return"GOOGLEV2"===e.category}),i.selectedReport&&e.updateReportSelections(i.selectedReport)}),s.post("/api/data/v1/discovery/",o).then(function(n){var t=n.data;i.segments=t.value.children,i.selectedReport&&e.updateReportSelections(i.selectedReport)}),s.post("/api/data/v1/discovery/",c).then(function(n){var t=n.data;e.allViews=e.getAllViews(t),i.profiles=t,i.selectedReport&&e.updateReportSelections(i.selectedReport)})}function r(e,n){var i={},a=t.filter(e.items,function(e){return parseInt(e.attributes.addedInApiVersion)<=3}),s=t.groupBy(a,function(e){return e.attributes.group});t.each(s,function(e,n){i[n]={label:n,columns:e.filter(function(e){return"DEPRECATED"!=e.attributes.status}),selected:e.reduce(function(e,n){return e+~~n.selected},0),metrics:e.filter(function(e){return"METRIC"===e.attributes.type&&"DEPRECATED"!=e.attributes.status}),dimensions:e.filter(function(e){return"DIMENSION"===e.attributes.type&&"DEPRECATED"!=e.attributes.status})},console.log(i)});var o=[];for(var c in i)i[c].columns&&i[c].columns.length>0&&o.push(i[c]);return o}e.cw=a.findWizardScope(e),e.section.userModified=!0,e.section.doNotFlatten=!0,e.maxViewsToShow=4,e.accountId,e.i18n={views:o.get("connectors/views"),selectViews:o.get("connectors/select-views"),dimensions:o.get("connectors/dimensions"),metrics:o.get("connectors/metrics"),segments:o.get("connectors/segments"),reportType:o.get("connectors/report-type"),selectReport:o.get("connectors/select-report"),selectSegments:o.get("connectors/select-segments"),selectDateRange:o.get("connectors/select-date-range"),includeAllViews:o.get("connectors/include-all-views"),includeAllViewsText:o.get("connectors/include-all-views-text"),showDetails:o.get("connectors/show-details").toUpperCase(),hideDetails:o.get("connectors/hide-details").toUpperCase(),categories:o.get("connectors/categories"),conflictingData:o.get("connectors/conflicting-data"),deselect:o.get("connectors/deselect"),metric:o.get("connectors/metrics",{count:1}),dimension:o.get("connectors/dimensions",{count:1}),deselectMessage:o.get("connectors/deselect-conflicts"),audienceReports:o.get("gaAdvanced/audience-reports"),curatedReports:o.get("gaAdvanced/curated-reports"),gaLimitations:o.get("connectors/ga-limitations"),tooManySelected:o.get("connectors/too-many-columns-selected"),done:o.get("common/done"),selectedMetrics:o.get("gaAdvanced/selected-metrics"),selectedDimensions:o.get("gaAdvanced/selected-dimensions"),selectedSegments:o.get("gaAdvanced/selected-segments"),selectedViews:o.get("gaAdvanced/selected-views"),singleDate:o.get("connectors/single-date"),dateRange:o.get("connectors/date-range"),startDate:o.get("connectors/start-date"),endDate:o.get("connectors/end-date"),daysBack:o.get("connectors/days-back"),testConfig:o.get("connectors/test-my-config")},e.DateRangeTypes={single:e.i18n.singleDate,range:e.i18n.dateRange},e.DateTypes=[{name:o.get("connectors/specific"),value:"specific"},{name:o.get("connectors/relative"),value:"relative"}],e.dates={selectedDateType:"single",startDateType:e.DateTypes[0],endDateType:e.DateTypes[0],startDate:""},i(".ga-advanced").closest(".collapsible-container").find("hr").css("visibility","hidden"),e.model=n,e.detailsMessage=e.i18n.showDetails,e.selectedMetrics=[],e.selectedDimensions=[],e.selectedSegments=[],e.selectedViews=[],e.$watch("cw.data.steps[0].sections[0].value",function(n,t){n&&c(n,e.model)},!0),e.deregisterInitWatch=e.$watch("section.value",function(n){if(e.section.userModified===!1&&n){n=JSON.parse(n),console.log(n);var t={profiles:n.profile.split(","),segments:n.segment.split(","),metrics:n.metrics.split(","),dimensions:n.dimensions.split(","),report:{id:n.report}};e.dates=n.dates;var i=JSON.parse(e.section.value);i.dates=e.dates,e.section.value=JSON.stringify(i),e.model.selectedReport=t,e.section.userModified=!0,e.deregisterInitWatch()}}),e.updateSelectedMetrics=function(n,i){var a=t.filter(e.model.metrics,function(e){return e.selected});a.length>e.model.METRIC_LIMIT?(n&&(n.selected=!1),e.tooManySelected||(e.tooManySelectedList=a,e.tooManyMetrics=!0,e.tooManyDimensions=!1,e.tooManySelected=!0)):(e.selectedMetrics=a,e.updateCategorySelections(i)),e.updateSectionValue()},e.updateSelectedDimensions=function(n,i){var a=t.filter(e.model.dimensions,function(e){return e.selected});a.length>e.model.DIMENSION_LIMIT?(n&&(n.selected=!1),e.tooManySelected||(e.tooManySelectedList=a,e.tooManySelected=!0,e.tooManyMetrics=!1,e.tooManyDimensions=!0)):(e.selectedDimensions=a,e.updateCategorySelections(i)),e.updateSectionValue()},e.updateSelectedMetricsOrDimensions=function(n,t){e.tooManyMetrics?e.updateSelectedMetrics(n,t):e.tooManyDimensions&&e.updateSelectedDimensions(n,t)},e.updateSelectedSegments=function(){e.selectedSegments=t.filter(e.model.segments,function(e){return e.selected}),e.updateSectionValue()},e.updateSelectedViews=function(){var n=[];e.model.profiles&&e.model.profiles.value&&t.forEach(e.model.profiles.value.children,function(e){var i=0;t.forEach(e.children,function(e){var a=0;t.forEach(e.children,function(e){e.selected&&(a++,n.push(e))}),e.selectedProfileCount=a,0==a?e.selected=!1:i++}),e.selectedPropertyCount=i,0==i&&(e.selected=!1)}),e.selectedViews=n,e.updateSectionValue()},e.updateCategorySelections=function(n){n?(n.selectedMetricCount=e.selectedMetrics.filter(function(e){return n.label===e.attributes.group}).length,n.selectedDimensionCount=e.selectedDimensions.filter(function(e){return n.label===e.attributes.group}).length):(t.forEach(e.model.categories,function(n){n.selectedMetricCount=e.selectedMetrics.filter(function(e){return n.label===e.attributes.group}).length}),t.forEach(e.model.categories,function(n){n.selectedDimensionCount=e.selectedDimensions.filter(function(e){return n.label===e.attributes.group}).length}))},e.updateSectionValue=function(){var n={};e.model&&e.model.selectedReport&&e.model.selectedReport.id?n.report=e.model.selectedReport.id:n.report="custom",n.metrics=e.selectedMetrics.map(function(e){return e.id}).join(","),n.dimensions=e.selectedDimensions.map(function(e){return e.id}).join(","),n.segment=e.selectedSegments.map(function(e){return e.label}).join(","),e.model.allViewsSelected?n.profile="":n.profile=e.selectedViews.map(function(e){return e.value}).join(","),n.dates=e.dates,"single"==e.dates.selectedDateType&&(n.dates.endDate="",n.dates.endDateType=e.DateTypes[0]),e.section.value=n,e.section.valid=e.checkValidity(),e.section.value=JSON.stringify(n)},e.$watch("model.selectedReport",function(n){e.updateReportSelections(n)}),e.clearReport=function(){e.model.resetReport(),e.updateSelectedMetrics(),e.updateSelectedDimensions(),e.updateSectionValue()},e.updateReportSelections=function(n){if(e.clearReport(),n&&(t.forEach(n.dimensions,function(n){var i=t.find(e.model.dimensions,function(e){return e.id===n});i&&(i.selected=!0)}),t.forEach(n.metrics,function(n){var i=t.find(e.model.metrics,function(e){return e.id===n});i&&(i.selected=!0)}),t.forEach(n.segments,function(n){var i=t.find(e.model.segments,function(e){return e.value===n});i&&(i.selected=!0)}),t.forEach(n.profiles,function(n){if(""==n)e.model.allViewsSelected=!0,e.model.profiles.value&&e.selectAllViews(!0);else if(e.allViews&&e.allViews.length>0){var i=t.find(e.allViews,function(e){return e.value===n});i&&(i.selected=!0)}}),e.model.reports&&n.report)){var i=t.find(e.model.reports.value,function(e){return e.id==n.report.id});i&&(i.selected="true")}e.updateAllValues()},e.selectAllViews=function(n){t.forEach(e.model.profiles.value.children,function(t){t.selected=n,e.selectAccount(t)})},e.updateAllValues=function(){e.updateSelectedMetrics(),e.updateSelectedDimensions(),e.updateSelectedSegments(),e.updateSelectedViews()},e.selectAccount=function(n){e.selectedAccount=n,t.forEach(n.children,function(t){t.selected=n.selected,e.selectProperty(t)}),e.updateSelectedViews()},e.selectProperty=function(n){e.selectedProperty=n,t.forEach(n.children,function(e){e.selected=n.selected}),e.updateSelectedViews()},e.$watch("visibilities.advancedReport",function(n){n?e.detailsMessage=e.i18n.hideDetails:e.detailsMessage=e.i18n.showDetails}),e.checkValidity=function(){if(e.selectedMetrics&&e.selectedMetrics.length>0&&e.selectedViews&&(e.selectedViews.length>0||e.model.allViewsSelected))return!0},e.getAllViews=function(e){var n=[];return e&&e.value&&t.forEach(e.value.children,function(e){t.forEach(e.children,function(e){t.forEach(e.children,function(e){n.push(e)})})}),n},e.switchDateType=function(n){e.dates[n]="",e.updateSectionValue()},e.testConfig=function(){var n={name:"conflictsCommand",parameters:{accountId:e.accountId,gaadvanced:e.section.value},connectorInfo:{id:"com.domo.connector.googleAnalytics.adv"}};s.post("/api/data/v1/discovery/",n).then(function(n){e.successfulConfiguration=n.data.value.success,e.configTestErrorMessage=n.data.value.error})}}])},2004:function(e,n,t){angular.module("configwizard").directive("cnViews",function(){return{restrict:"E",replace:!0,template:t(2005)}})},2005:function(e,n){e.exports='<div class=cn-checkbox-list style=overflow:hidden>\n<div style=padding-bottom:20px>\n<db-checkbox on-change=selectAllViews(model.allViewsSelected) ng-model=model.allViewsSelected>{{i18n.includeAllViews}}</db-checkbox>\n<i class=icon-info-circle db-tooltip={{i18n.includeAllViewsText}} style=vertical-align:middle;color:#ccc></i>\n</div>\n<div class=view-item>\n<div ng-repeat="account in model.profiles.value.children | filter:viewSearch | orderBy:\'label\'" class="tree-level tree-root">\n<db-checkbox ng-model=account.selected db-disabled=model.allViewsSelected on-change=selectAccount(account)>{{account.label}}</db-checkbox>\n<i class="icon-chevron-right _8 expander" ng-click="account.expanded = !account.expanded" ng-class="{\'expanded\': account.expanded}"></i>\n<div ng-repeat="property in account.children  | orderBy:\'label\'" class=tree-level ng-show=account.expanded>\n<db-checkbox ng-model=property.selected db-disabled=model.allViewsSelected on-change=selectProperty(property)>{{property.label}}</db-checkbox>\n<i class="icon-chevron-right _8 expander" ng-click="property.expanded = !property.expanded" ng-class="{\'expanded\': property.expanded}"></i>\n<div ng-repeat="view in property.children | orderBy:\'label\'" class=tree-level ng-show=property.expanded>\n<db-checkbox ng-model=view.selected db-disabled=model.allViewsSelected on-change=updateSelectedViews()>{{view.label}}</db-checkbox>\n</div>\n</div>\n</div>\n</div>\n</div>'},2006:function(e,n,t){angular.module("configwizard").directive("cnRadial",function(){return{restrict:"E",replace:!0,template:t(2007),controller:"cnRadialCtrl",controllerAs:"vm",bindToController:!0,scope:{totalCount:"@",selectedCount:"@",availableCount:"@",subtext:"@",color:"@",maxCount:"@"}}})},2007:function(e,n){e.exports='<div class="cn-radial {{vm.color}}">\n<div class=cn-radial-canvas-container>\n<canvas width=50 height=50 />\n<div class=cn-radial-total-number><span>{{vm.availableCount}}</span></div>\n</div>\n<div>\n<div class=cn-radial-selected-count style=display:inline-block>{{vm.selectedCount}}</div>\n<div ng-show=vm.maxCount style=display:inline-block;padding-left:2px> / {{vm.maxCount}}</div>\n<div class=cn-radial-subtext>{{vm.subtext}}</div>\n</div>\n</div>'},2008:function(e,n,t){var i=t(8);angular.module("configwizard").controller("cnRadialCtrl",["$scope","$element",function(e,n){function t(){return u.totalCount+"-"+u.selectedCount+"-"+u.availableCount}function a(){var e=p.getContext("2d"),n=o(u.maxCount||u.totalCount),t=o(u.selectedCount||0),i=o(u.maxCount||u.totalCount),a=g[u.color]||g.blue,c=t/n,r=i/n,m=(n-i)/n,v=l,f=v+d*c,h=f,w=h+d*(r-c),b=w,y=b+d*m,x=8,S=p.width/2-x/2;s(e,v,f,a,x,S),s(e,h,w,g.grey,x,S),y-b>.05&&(s(e,b,y,g.grey,x,S),s(e,b,y-.05,"#FFF",x-2.25,S-.1))}function s(e,n,t,i,a,s,o){e.beginPath(),e.arc(p.width/2,p.height/2,s,n,t,o),e.strokeStyle=i,e.lineWidth=a,e.stroke()}function o(e){try{return parseInt(e,10)}catch(e){return 0}}var c=Math.PI/6,r=.5*Math.PI,l=r+c,d=2*Math.PI-2*c,u=this,p=i(n).find("canvas")[0],g={blue:"#72B0D7",green:"#9ED96B",grey:"#E6E6E6",purple:"#B391CA"};e.$watch(t,a)}])},2009:function(e,n,t){angular.module("configwizard").directive("cnReportSelector",["cwGAModel","dmI18n",function(e,n){return{restrict:"E",replace:!0,template:t(2010)}}])},2010:function(e,n){e.exports='<div class=cn-report-selector>\n<div class=cn-split-panes ng-show=!visibilities.advancedReport>\n<div style=display:inline-block;width:48%>\n<div style=font-size:12px;font-weight:700;color:#888;margin-bottom:10px>{{::i18n.audienceReports}}</div>\n<ul class="radio-report two-col-list">\n<li ng-repeat="report in model.v2Reports | orderBy:\'label\'">\n<db-radio-button value=true name=quickReport model=report.selected label-text={{report.label}} on-change="model.selectedReport = report"></db-radio-button>\n</li>\n</ul>\n</div>\n<div style=display:inline-block;width:48%;vertical-align:top>\n<div style=font-size:12px;font-weight:700;color:#888;margin-bottom:10px>{{::i18n.curatedReports}}</div>\n<ul class="radio-report two-col-list">\n<li ng-repeat="report in model.v1Reports | orderBy:\'label\'">\n<db-radio-button value=true name=quickReport model=report.selected label-text={{report.label}} on-change="model.selectedReport = report"></db-radio-button>\n</li>\n</ul>\n</div>\n</div>\n<div class=cn-split-panes ng-show=visibilities.advancedReport>\n<div class=cn-split-pane style=width:285px>\n<div class=cn-report-category-list>\n<div class=cn-report-dropdown>\n<div class=cn-report-dropdown-inner>\n<div db-dropdown items=model.reports.value selected-item=model.selectedReport>\n<db-dropdown-button style=text-align:left>{{ model.selectedReport.label || i18n.selectReport }}</db-dropdown-button>\n<db-dropdown-templated-list>\n{{item.label}}\n</db-dropdown-templated-list>\n</div>\n</div>\n</div>\n<div class=cn-report-category-list-items>\n<div class=cn-report-category-list-header>\n<div class=cn-report-category-list-header-label>{{i18n.categories}}</div>\n</div>\n<div class=cn-report-category-list-items-scrollable>\n<ul class=cn-report-category-list-items-container>\n<li class=cn-report-category-list-item ng-repeat="category in model.categories | orderBy:\'label\' track by $index" ng-class="{\'selected\': model.selectedCategory === category }" ng-click="model.selectedCategory = category">\n<div class=cn-report-category-list-item-label>{{::category.label}}</div>\n<div class=cn-report-category-list-item-selected>{{ (category.selectedMetricCount || 0) + (category.selectedDimensionCount || 0) }}/{{ ::category.columns.length }}</div>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<div class=cn-split-pane>\n<div class=cn-report-category-details>\n<div class=category-name>{{ model.selectedCategory.label }}</div>\n<div class=cn-checkbox-lists>\n<div class=cn-checkbox-list>\n<div class=sub-category-name>{{ ::i18n.metrics }}</div>\n<ul class=three-col-list>\n<li ng-repeat="column in model.selectedCategory.metrics | orderBy:\'attributes.uiName\'">\n<db-checkbox ng-model=column.selected ng-change="updateSelectedMetrics(column, model.selectedCategory)">\n{{ column.attributes.uiName }} ({{ column.id }})\n</db-checkbox>\n</li>\n</ul>\n</div>\n<div class=cn-checkbox-list>\n<div class=sub-category-name>{{ ::i18n.dimensions }}</div>\n<ul class=three-col-list>\n<li ng-repeat="column in model.selectedCategory.dimensions | orderBy:\'attributes.uiName\'">\n<db-checkbox ng-model=column.selected ng-change="updateSelectedDimensions(column, model.selectedCategory)">\n{{ column.attributes.uiName }} ({{ column.id }})\n</db-checkbox>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=report-selector-footer>\n<a ng-click="visibilities.advancedReport = !visibilities.advancedReport;">\n<i class="icon-chevron-down _8" ng-class="{\'showup\': visibilities.advancedReport}"></i>\n{{detailsMessage}}\n</a>\n</div>\n<db-modal id=tooManySelectedModal modal-show=tooManySelected>\n<db-modal-body>\n<h2>{{ ::i18n.tooManySelected }}</h2>\n<div>{{ ::i18n.gaLimitations }}</div>\n<hr/>\n<ul class=two-col-list>\n<li ng-repeat="column in tooManySelectedList | orderBy:\'attributes.uiName\'">\n<db-checkbox ng-model=column.selected ng-change="updateSelectedMetricsOrDimensions(column, model.selectedCategory)">\n{{ column.attributes.uiName }} ({{ column.id }})\n</db-checkbox>\n</li>\n</ul>\n</db-modal-body>\n</db-modal>\n</div>\n'},2011:function(e,n){angular.module("configwizard").factory("cwGAModel",["$http","dmI18n",function(e,n){function t(){_.forEach(c.metrics,function(e){e.selected=!1}),_.forEach(c.dimensions,function(e){e.selected=!1}),_.forEach(c.segments,function(e){e.selected=!1}),_.forEach(c.profiles,function(e){e.selected=!1})}function i(){_.forEach(c.metrics,function(e){e.selected=!1}),_.forEach(c.dimensions,function(e){e.selected=!1})}function a(e){c.profiles=e.profile.split(","),c.segments=e.segment.split(","),c.metrics=e.metrics.split(","),c.dimensions=e.dimensions.split(",")}var s=7,o=10,c={metrics:[],dimensions:[],segments:[],profiles:[],initValues:a,DIMENSION_LIMIT:s,METRIC_LIMIT:o,resetModel:t,resetReport:i};return c}])},2012:function(e,n,t){var i=t(8);angular.module("configwizard").controller("cwGAAdvancedCtrlv4",["$scope","cwGAModel","_","cwConfigWizardSectionsUtils","$http","dmI18n","cwGAUtilsV4","cwSectionValidity",function(e,n,t,a,s,o,c,r){"use strict";function l(n,i){e.accountId=n;var a={name:"reportsNewCommand",parameters:{accountId:n},connectorInfo:{id:e.cw.configuration.id}},o={name:"advSegmentsCommand",parameters:{accountId:n},connectorInfo:{id:e.cw.configuration.id}},c={name:"profilesCommand",parameters:{accountId:n},connectorInfo:{id:e.cw.configuration.id}},r={name:"metadataCommand",parameters:{accountId:n},connectorInfo:{id:e.cw.configuration.id}};s.post("/api/data/v1/discovery/",r).then(function(n){var a=n.data;i.categories=d(a.value),i.selectedCategory=t.sortBy(i.categories,function(e){return e.label})[0],i.metrics=a.value.items.filter(function(e){return"METRIC"===e.attributes.type&&"DEPRECATED"!=e.attributes.status}),i.dimensions=a.value.items.filter(function(e){return"DIMENSION"===e.attributes.type&&"DEPRECATED"!=e.attributes.status}),4==e.version&&i.dimensions.push({id:"ga:segment",attributes:{uiName:"Segment"}}),i.selectedReport&&e.updateSavedReportSelections(i.selectedReport)}),s.post("/api/data/v1/discovery/",a).then(function(n){var a=n.data;a.value=t.sortBy(a.value,"label"),t.forEach(a.value,function(n){for(var t=0;t<n.dimensions.length;t++)n.dimensions[t].length>0&&(n.dimensions[t]="ga:"+n.dimensions[t]);for(var t=0;t<n.metrics.length;t++)n.metrics[t].length>0&&(n.metrics[t]="ga:"+n.metrics[t]);e.reportsLoading=!1}),i.reports=a,i.v1Reports=a.value.filter(function(e){return"GOOGLEV1"===e.category}),i.v2Reports=a.value.filter(function(e){return"GOOGLEV2"===e.category}),e.reportsWithHeader=[{label:e.i18n.customReport,id:"custom"},{separator:!0}],e.reportsWithHeader.push({label:e.i18n.audienceReports,heading:!0}),e.reportsWithHeader=e.reportsWithHeader.concat(i.v2Reports),e.reportsWithHeader.push({label:e.i18n.curatedReports,heading:!0}),e.reportsWithHeader=e.reportsWithHeader.concat(i.v1Reports),i.selectedReport&&e.updateSavedReportSelections(i.selectedReport)}),s.post("/api/data/v1/discovery/",o).then(function(n){var t=n.data;i.segments=t.value.children,i.selectedReport&&e.updateSavedReportSelections(i.selectedReport)}),s.post("/api/data/v1/discovery/",c).then(function(n){var t=n.data;e.allViews=e.getAllViews(t),e.viewsWithHeader=e.allViews.slice(0),e.viewsWithHeader.unshift({label:e.i18n.multipleViews},{separator:!0},{label:e.i18n.viewHeader,heading:!0}),i.selectedReport?e.updateSavedReportSelections(i.selectedReport):e.updateSelectedViews(),e.profilesLoading=!1})}function d(n,i){var a={},s=t.filter(n.items,function(e){return parseInt(e.attributes.addedInApiVersion)<=3}),o=t.groupBy(s,function(e){return e.attributes.group});t.each(o,function(e,n){a[n]={label:n,columns:e.filter(function(e){return"DEPRECATED"!=e.attributes.status}),selected:e.reduce(function(e,n){return e+~~n.selected},0),metrics:e.filter(function(e){return"METRIC"===e.attributes.type&&"DEPRECATED"!=e.attributes.status}),dimensions:e.filter(function(e){return"DIMENSION"===e.attributes.type&&"DEPRECATED"!=e.attributes.status})}});var c=[];for(var r in a)a[r].columns&&a[r].columns.length>0&&("Custom Variables or Columns"==a[r].label&&(e.loadCustom?(a[r].metrics=e.model.customMetrics,a[r].dimensions=e.model.customDimensions,a[r].columns=e.model.customDimensions,a[r].columns=a[r].columns.concat(e.model.customMetrics),e.loadCustom=!1):(a[r].metrics=[],a[r].dimensions=[],a[r].columns=[])),c.push(a[r]));return c}e.cw=a.findWizardScope(e)||{},e.profilesLoading=!0,e.reportsLoading=!0,e.section.userModified=!0,e.section.doNotFlatten=!0,e.maxViewsToShow=4,e.accountId,e.vm={visibilities:{}},e.loadSavedMetadata=!1,e.selectedMetrics=[],e.selectedDimensions=[],e.selectedSegments=[],e.selectedViews=[],e.toggle={},e.i18n={view:o.get("gaAdvanced/view"),views:o.get("connectors/views"),selectView:o.get("gaAdvanced/select-view"),dimensions:o.get("connectors/dimensions"),metrics:o.get("connectors/metrics"),segments:o.get("connectors/segments"),reportType:o.get("connectors/report-type"),selectViews:o.get("connectors/select-views"),selectReport:o.get("connectors/select-report"),selectSegments:o.get("connectors/select-segments"),selectDateRange:o.get("connectors/select-date-range"),includeAllViews:o.get("connectors/include-all-views"),includeAllViewsText:o.get("connectors/include-all-views-text"),showDetails:o.get("connectors/show-details").toUpperCase(),hideDetails:o.get("connectors/hide-details").toUpperCase(),categories:o.get("connectors/categories"),conflictingData:o.get("connectors/conflicting-data"),deselect:o.get("connectors/deselect"),metric:o.get("connectors/metrics",{count:1}),dimension:o.get("connectors/dimensions",{count:1}),deselectMessage:o.get("connectors/deselect-conflicts"),audienceReports:o.get("gaAdvanced/audience-reports"),curatedReports:o.get("gaAdvanced/curated-reports"),gaLimitations:o.get("connectors/ga-limitations"),tooManySelected:o.get("connectors/too-many-columns-selected"),done:o.get("common/done"),selectedMetrics:o.get("gaAdvanced/selected-metrics"),selectedDimensions:o.get("gaAdvanced/selected-dimensions"),selectedSegments:o.get("gaAdvanced/selected-segments"),selectedViews:o.get("gaAdvanced/selected-views"),singleDate:o.get("connectors/single-date"),dateRange:o.get("connectors/date-range"),startDate:o.get("connectors/start-date"),endDate:o.get("connectors/end-date"),daysBack:o.get("connectors/days-back"),testConfig:o.get("connectors/test-my-config"),runTest:o.get("connectors/run-test"),report:o.get("gaAdvanced/report"),range:o.get("gaAdvanced/range"),filter:o.get("gaAdvanced/filter"),test:o.get("gaAdvanced/test"),useSegments:o.get("gaAdvanced/use-segments"),filterData:o.get("gaAdvanced/filter-data"),customDateRange:o.get("connectors/custom-date-range"),customDateRangeText:o.get("connectors/custom-date-range-text"),multipleViews:o.get("gaAdvanced/multiple-views"),multipleViewsText1:o.get("gaAdvanced/multiple-views-text-1"),multipleViewsText2:o.get("gaAdvanced/multiple-views-text-2"),showAdvanced:o.get("gaAdvanced/show-advanced"),hideAdvanced:o.get("gaAdvanced/hide-advanced"),viewHeader:o.get("gaAdvanced/account-property-view"),selectMultipleViews:o.get("gaAdvanced/select-multiple-views"),customReport:o.get("gaAdvanced/custom-report"),customReportText:o.get("gaAdvanced/custom-report-text"),baseReport:o.get("gaAdvanced/base-report"),segmentText:o.get("gaAdvanced/segment-text"),searchSegments:o.get("gaAdvanced/search-segments")},e.detailsMessage=e.i18n.showDetails,e.DateRangeTypes=[{label:o.get("connectors/custom-date-range"),value:"custom"},{separator:!0},{label:o.get("connectors/thirty-days"),value:"30days"},{label:o.get("connectors/sixty-days"),value:"60days"},{label:o.get("connectors/ninety-days"),value:"90days"},{label:o.get("connectors/since-last-successful-run"),
value:"lastSuccessfulRun"}],e.CustomDateRangeTypes={single:e.i18n.singleDate,range:e.i18n.dateRange},e.DateTypes=[{name:o.get("connectors/specific"),value:"specific"},{name:o.get("connectors/relative"),value:"relative"}],e.dates={dateRangeType:e.DateRangeTypes[2],selectedDateType:"single",startDateType:e.DateTypes[0],endDateType:e.DateTypes[0],startDate:""},i(".ga-advanced-v4").closest(".collapsible-container").find("hr").css("visibility","hidden"),e.model=n,e.$watch("version",function(){e.util=c}),e.updateViewType=function(n){n&&(e.selectedView=n,n.label===e.i18n.multipleViews?(e.vm.visibilities.view=!0,"true"===e.model.allViewsSelected&&e.selectAllViews(!0),e.updateSelectedViews()):(e.vm.visibilities.view=!1,e.selectedViews=[n],e.updateSectionValue()))},e.$watch("model.allViewsSelected",function(n,t){"true"===n&&(e.selectAllViews(!0),e.updateSelectedViews())}),e.$watch("selectedViews",function(n,i){if(n&&n!=i){if(e.section.userModified===!0&&(e.model.customDimensions=[],e.model.customMetrics=[],e.updateSelectedDimensions(),e.updateSelectedMetrics(),void 0!==e.model.categories)){var a=e.model.categories.find(function(e){if("Custom Variables or Columns"===e.label)return e});a.dimensions=[],a.metrics=[],a.columns=[],a.selectedMetricCount=0,a.selectedDimensionCount=0}var o=n.map(function(e){return e.propertyId}),c=o.every(function(e,n,t){return e==t[0]});if(c&&o.length>0){var r=e.cw.data.steps[0].sections[0].value,l=n[0].accountId,d=n[0].propertyId,u={name:"customMetadataCommand",parameters:{accountId:r,profileAccountId:l,profilePropertyId:d},connectorInfo:{id:e.cw.configuration.id}};s.post("/api/data/v1/discovery/",u).then(function(n){var i=n.data;if(e.model.customDimensions=i.value.customDimensions,e.model.customMetrics=i.value.customMetrics,e.model.categories){var a=e.getCategory("Custom Variables or Columns");a.dimensions=e.model.customDimensions,a.metrics=e.model.customMetrics,a.columns=e.model.customDimensions,a.columns=a.columns.concat(e.model.customMetrics)}else e.loadCustom=!0;e.loadSavedMetadata&&(t.forEach(e.loadedDimensions,function(n){var i=t.find(e.model.customDimensions,function(e){return e.id===n});i&&(i.selected=!0)}),t.forEach(e.loadedMetrics,function(n){var i=t.find(e.model.customMetrics,function(e){return e.id===n});i&&(i.selected=!0)}),e.updateSelectedDimensions(),e.updateSelectedMetrics(),e.loadSavedMetadata=!1)})}}},!0),e.$watch("cw.data.steps[0].sections[0].value",function(n,t){n&&l(n,e.model)},!0),e.deregisterInitWatch=e.$watch("section.value",function(n){if(e.section.userModified===!1&&n){n=JSON.parse(n);var t={profiles:e.util.parseProfiles(n.profile),segments:e.util.parseSegments(n.segment),report:{metrics:e.util.parseMetrics(n.metrics),dimensions:e.util.parseDimensions(n.dimensions),id:n.report}};e.selectedView=n.selectedView,e.model.allViewsSelected=n.allViewsSelected,e.dates=n.dates;var i=JSON.parse(e.section.value);i.dates=e.dates,e.section.value=JSON.stringify(i),e.model.selectedReport=t,e.section.userModified=!0,e.deregisterInitWatch()}}),e.updateSelectedMetrics=function(n,i){var a=t.filter(e.model.metrics,function(e){return e.selected});a=a.concat(t.filter(e.model.customMetrics,function(e){return e.selected})),a.length>e.model.METRIC_LIMIT?(n&&(n.selected=!1),e.tooManySelected||(e.tooManySelectedList=a,e.tooManyMetrics=!0,e.tooManyDimensions=!1,e.tooManySelected=!0)):(e.selectedMetrics=a,e.updateCategorySelections(i)),e.updateSectionValue()},e.updateSelectedDimensions=function(n,i){var a=t.filter(e.model.dimensions,function(e){return e.selected});a=a.concat(t.filter(e.model.customDimensions,function(e){return e.selected})),a.length>e.model.DIMENSION_LIMIT?(n&&(n.selected=!1),e.tooManySelected||(e.tooManySelectedList=a,e.tooManySelected=!0,e.tooManyMetrics=!1,e.tooManyDimensions=!0,e.updateSelectedDimensions())):(e.selectedDimensions=a,e.updateCategorySelections(i)),e.tooManyDimensions||e.selectedDimensions.find(function(e){if("ga:segment"===e.id)return e})||e.selectedSegments.length&&(e.selectedSegments.forEach(function(e){e.selected=!1}),e.selectedSegments=[],e.toggle.segments=!1),e.updateSectionValue()},e.updateSelectedMetricsOrDimensions=function(n,t){e.tooManyMetrics?e.updateSelectedMetrics(n,t):e.tooManyDimensions&&e.updateSelectedDimensions(n,t)},e.updateSelectedSegments=function(){e.selectedSegments=t.filter(e.model.segments,function(e){return e.selected});var n=e.model.dimensions.find(function(e){if("ga:segment"===e.id)return e});e.selectedSegments.length<1?n&&(n.selected=!1):n&&(n.selected=!0),e.updateSelectedDimensions(n),e.updateSectionValue()},e.updateSelectedViews=function(){var n=[];e.allViews&&t.forEach(e.allViews,function(e){e.selected&&n.push(e)}),e.selectedViews=n,e.updateSectionValue()},e.updateCategorySelections=function(n){n?(n.selectedMetricCount=e.selectedMetrics.filter(function(e){return n.label===e.attributes.group}).length,n.selectedDimensionCount=e.selectedDimensions.filter(function(e){return n.label===e.attributes.group}).length):(t.forEach(e.model.categories,function(n){n.selectedMetricCount=e.selectedMetrics.filter(function(e){return n.label===e.attributes.group}).length}),t.forEach(e.model.categories,function(n){n.selectedDimensionCount=e.selectedDimensions.filter(function(e){return n.label===e.attributes.group}).length}))},e.updateSectionValue=function(){var n={};e.model&&e.model.selectedReport&&e.model.selectedReport.report&&e.model.selectedReport.report.id?n.report=e.model.selectedReport.report.id:n.report="custom",n.metrics=e.util.transformMetrics(e.selectedMetrics),n.dimensions=e.util.transformDimensions(e.selectedDimensions),n.segment=e.util.transformSegments(e.selectedSegments),n.selectedView=e.selectedView,"true"==e.model.allViewsSelected&&e.selectedView&&e.selectedView.label==e.i18n.multipleViews?n.allViewsSelected="true":n.allViewsSelected="false","true"==n.allViewsSelected?n.profile=e.util.transformAllProfiles():e.selectedView&&e.selectedView.label==e.i18n.multipleViews?n.profile=e.util.transformProfiles(e.selectedViews):e.selectedView&&(n.profile=e.util.transformProfile(e.selectedView)),n.dates=e.dates,"single"==e.dates.selectedDateType&&(n.dates.endDate="",n.dates.endDateType=e.DateTypes[0]),e.section.value=n,e.section.valid=e.checkValidity(),e.section.value=JSON.stringify(n)},e.modalClose=function(){if(e.selectedDimensions.find(function(e){if("ga:segment"===e.id)return e})||e.selectedSegments.length&&(e.selectedSegments.forEach(function(e){e.selected=!1}),e.selectedSegments=[],e.toggle.segments=!1,e.vm.visibilities.segment=!1),e.updateSelectedMetricsOrDimensions(),"custom"!=e.model.selectedReport.report.id){var n=e.selectedDimensions.map(function(e){return e.id});if(!e.model.selectedReport.report.dimensions.every(function(e){return n.includes(e)})){var t=e.selectedMetrics.map(function(e){return e.id}),n=e.selectedDimensions.map(function(e){return e.id});e.model.selectedReport.report=e.reportsWithHeader[0],e.model.selectedReport.report.metrics=t,e.model.selectedReport.report.dimensions=n,e.vm.visibilities.report=!0}}},e.clearReport=function(){e.model.resetReport(),e.updateSelectedMetrics(),e.updateSelectedDimensions(),e.updateSectionValue()},e.updateSavedReportSelections=function(n){if(n){if(t.forEach(n.segments,function(n){var i=t.find(e.model.segments,function(t){return 3==e.version?t.label===n:t.value===n});i&&(i.selected=!0)}),t.forEach(n.profiles,function(n){if(""==n)e.model.allViewsSelected="true",e.selectAllViews(!0);else if(e.allViews&&e.allViews.length>0){var i=t.find(e.allViews,function(e){return e.value===n});i&&(i.selected=!0)}}),n.segments&&n.segments.length&&(e.toggle.segments=!0),e.model.reports){var i=t.find(e.model.reports.value,function(e){return e.id==n.report.id});if(i)e.model.selectedReport.report=i;else{var a=e.model.selectedReport.report.metrics,s=e.model.selectedReport.report.dimensions;e.model.selectedReport.report=e.reportsWithHeader[0],e.model.selectedReport.report.metrics=a,e.model.selectedReport.report.dimensions=s}}e.updateReportSelections(n.report)}},e.updateReportSelections=function(n){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.clearReport(),n&&(i||(e.model.selectedReport?e.model.selectedReport.report=n:e.model.selectedReport={report:n}),e.loadedDimensions=n.dimensions,e.loadedMetrics=n.metrics,e.loadSavedMetadata=!0,t.forEach(n.dimensions,function(n){var i=t.find(e.model.dimensions,function(e){return e.id===n});i&&(i.selected=!0)}),t.forEach(n.metrics,function(n){var i=t.find(e.model.metrics,function(e){return e.id===n});i&&(i.selected=!0)})),e.updateAllValues()},e.selectAllViews=function(n){if(e.allViews)for(var t=0;t<e.allViews.length;t++)e.allViews[t].selected=n},e.updateAllValues=function(){e.updateSelectedMetrics(),e.updateSelectedDimensions(),e.updateSelectedSegments(),e.updateSelectedViews()},e.selectAccount=function(n){e.selectedAccount=n,t.forEach(n.children,function(t){t.selected=n.selected,e.selectProperty(t)}),e.updateSelectedViews()},e.selectProperty=function(n){e.selectedProperty=n,t.forEach(n.children,function(e){e.selected=n.selected}),e.updateSelectedViews()},e.checkValidity=function(){if(e.selectedMetrics&&e.selectedMetrics.length>0&&e.selectedView&&e.selectedViews&&(e.selectedViews.length>0||e.model.allViewsSelected))return!0},e.getCategory=function(n){return e.model.categories.find(function(e){if(e.label===n)return e})},e.getAllViews=function(e){var n=[];return e&&e.value&&t.forEach(e.value.children,function(e){t.forEach(e.children,function(i){t.forEach(i.children,function(t){t.account=e.label.replace(/ \([a-zA-Z0-9-]+\)/g,""),t.accountId=e.label.match(/\([a-zA-Z0-9-]+\)/g)[0].replace(/[\(\)]/g,""),t.property=i.label.replace(/ \([a-zA-Z0-9-]+\)/g,""),t.propertyId=i.label.match(/\([a-zA-Z0-9-]+\)/g)[0].replace(/[\(\)]/g,""),t.profile=t.label.replace(/ \([a-zA-Z0-9-]+\)/g,""),t.label=[t.account,t.property,t.profile].join(" > "),n.push(t)})})}),n},e.switchDateType=function(n){e.dates[n]="",e.updateSectionValue()},e.removeSegments=function(){if(e.toggle.segments)e.vm.visibilities.segment=!0;else{var n=e.model.dimensions.find(function(e){if("ga:segment"===e.id)return e});n&&(n.selected=!1,e.updateSelectedDimensions(n)),e.selectedSegments.length&&(e.selectedSegments.forEach(function(e){e.selected=!1}),e.selectedSegments=[],e.updateSelectedSegments()),e.vm.visibilities.segment=!1}},e.updateDates=function(n){e.dates.dateRangeType=n,"custom"!=n.value?(e.dates.startDate="",e.dates.endDate="",e.vm.visibilities.dates=!1,"lastSuccessfulRun"==n.value&&(e.cw.data.steps[2].sections[2].value={mode:"Append"})):e.vm.visibilities.dates=!0,e.updateSectionValue()},e.testConfig=function(){var n={name:e.util.getConflictsCommand(),parameters:{accountId:e.accountId,gaadvanced:e.section.value},connectorInfo:{id:e.cw.configuration.id}};s.post("/api/data/v1/discovery/",n).then(function(n){e.successfulConfiguration=n.data.value.success,e.configTestErrorMessage=n.data.value.error})},r.defineValidity(e.section,e.checkValidity())}])},2013:function(e,n,t){angular.module("configwizard").directive("cnReportSelectorV4",["cwGAModel","dmI18n",function(e,n){return{restrict:"E",replace:!0,template:t(2014)}}])},2014:function(e,n){e.exports='<div class=cn-report-selector>\n<div class=cn-split-panes>\n<div class=cn-split-pane style=width:285px>\n<div class=cn-report-category-list>\n<div class=cn-report-dropdown>\n<div class=cn-report-dropdown-inner>\n<div db-dropdown items=model.reports.value on-item-selected="updateReportSelections(item, true)">\n<db-dropdown-button style=text-align:left>{{ ::i18n.baseReport }}</db-dropdown-button>\n<db-dropdown-templated-list>\n{{item.label}}\n</db-dropdown-templated-list>\n</div>\n</div>\n</div>\n<div class=cn-report-category-list-items>\n<div class=cn-report-category-list-header>\n<div class=cn-report-category-list-header-label>{{i18n.categories}}</div>\n</div>\n<div class=cn-report-category-list-items-scrollable>\n<ul class=cn-report-category-list-items-container>\n<li ng-if=category.columns.length class=cn-report-category-list-item ng-repeat="category in model.categories | orderBy:\'label\' track by $index" ng-class="{\'selected\': model.selectedCategory === category }" ng-click="model.selectedCategory = category">\n<div class=cn-report-category-list-item-label>{{::category.label}}</div>\n<div class=cn-report-category-list-item-selected>{{ (category.selectedMetricCount || 0) + (category.selectedDimensionCount || 0) }}/{{ category.columns.length }}</div>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n<div class=cn-split-pane>\n<div class=cn-report-category-details>\n<div class=category-name>{{ model.selectedCategory.label }}</div>\n<div class=cn-checkbox-lists>\n<div class=cn-checkbox-list>\n<div class=sub-category-name>{{ ::i18n.metrics }}</div>\n<ul class=col-list>\n<li ng-repeat="column in model.selectedCategory.metrics | orderBy:\'attributes.uiName\'">\n<db-checkbox ng-model=column.selected ng-change="updateSelectedMetrics(column, model.selectedCategory)">\n{{ column.attributes.uiName }} ({{ column.id }})\n</db-checkbox>\n</li>\n</ul>\n</div>\n<div class=cn-checkbox-list>\n<div class=sub-category-name>{{ ::i18n.dimensions }}</div>\n<ul class=col-list>\n<li ng-repeat="column in model.selectedCategory.dimensions | orderBy:\'attributes.uiName\'">\n<db-checkbox ng-model=column.selected ng-change="updateSelectedDimensions(column, model.selectedCategory)">\n{{ column.attributes.uiName }} ({{ column.id }})\n</db-checkbox>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>\n</div>\n<db-modal id=tooManySelectedModal modal-show=tooManySelected on-modal-closed=modalClose()>\n<db-modal-body>\n<h2>{{ ::i18n.tooManySelected }}</h2>\n<div>{{ ::i18n.gaLimitations }}</div>\n<hr/>\n<ul class=col-list>\n<li ng-repeat="column in tooManySelectedList | orderBy:\'attributes.uiName\'">\n<db-checkbox ng-model=column.selected ng-change="updateSelectedMetricsOrDimensions(column, getCategory(column.attributes.group))">\n{{ column.attributes.uiName }} ({{ column.id }})\n</db-checkbox>\n</li>\n</ul>\n</db-modal-body>\n</db-modal>\n</div>\n'},2015:function(e,n){angular.module("configwizard").factory("cwGAModel",["$http","dmI18n",function(e,n){function t(){_.forEach(c.metrics,function(e){e.selected=!1}),_.forEach(c.dimensions,function(e){e.selected=!1}),_.forEach(c.segments,function(e){e.selected=!1}),_.forEach(c.profiles,function(e){e.selected=!1})}function i(){_.forEach(c.metrics,function(e){e.selected=!1}),_.forEach(c.customMetrics,function(e){e.selected=!1}),_.forEach(c.dimensions,function(e){"ga:segment"==e.id&&e.selected||(e.selected=!1)}),_.forEach(c.customDimensions,function(e){e.selected=!1})}function a(e){c.profiles=e.profile.split(","),c.segments=e.segment.split(","),c.metrics=e.metrics.split(","),c.dimensions=e.dimensions.split(",")}var s=7,o=10,c={metrics:[],customMetrics:[],dimensions:[],customDimensions:[],segments:[],profiles:[],initValues:a,DIMENSION_LIMIT:s,METRIC_LIMIT:o,resetModel:t,resetReport:i,allViewsSelected:"true"};return c}])},2016:function(e,n){angular.module("configwizard").service("cwGAUtilsV4",function(){"use strict";function e(e){return e.map(function(e){return e.id})}function n(e){return e.map(function(e){return{account:e.account,webProperty:e.property,view:e.profile,viewId:e.value,id:e.value}})}function t(e){return[{account:e.account,webProperty:e.property,view:e.profile,viewId:e.value,id:e.value}]}function i(){return[]}function a(e){return e.map(function(e){return{name:e.label,id:e.value}})}function s(e){return e.map(function(e){return{name:e.attributes.uiName,id:e.id}})}function o(e){return e.map(function(e){return{name:e.attributes.uiName,id:e.id}})}function c(n){return n.length>0?e(n):[""]}function r(n){return e(n)}function l(n){return e(n)}function d(n){return e(n)}function u(){return"advConflictsCommand"}return{transformProfiles:n,transformProfile:t,transformAllProfiles:i,transformSegments:a,transformDimensions:s,transformMetrics:o,parseProfiles:c,parseSegments:r,parseDimensions:l,parseMetrics:d,getConflictsCommand:u}})},2017:function(e,n){angular.module("configwizard").component("countPill",{bindings:{popoverHeader:"<",title:"<",list:"<",color:"@"},controller:function(){},template:'\n    <div ng-class="$ctrl.color" class="inline-block alert-badge" ng-mouseover="showPopover = true"\n        ng-mouseleave="showPopover = false">{{ $ctrl.list.length }} {{::$ctrl.title}}\n      <db-popover class="popover ga-popover" activation="showPopover" placement="right-center">\n          <div class="popover-arrow"></div>\n          <div class="header-text">\n            {{ $ctrl.popoverHeader }}\n          </div>\n          <div class="body-text">\n          <ul>\n              <li ng-repeat="item in $ctrl.list | orderBy:\'attributes.uiName\'">\n              {{ item.attributes.uiName }}\n              </li>\n          </ul>\n          </div>\n      </db-popover>    \n    </div>\n  '})},2018:function(e,n){angular.module("configwizard").controller("cwJiraBuilderCtrl",["$scope","cwConfigWizardSectionsUtils","$http","dmI18n",function(e,n,t,i){"use strict";function a(n){for(var t=e.fields.children,i=0;i<t.length;i++){var a=t[i].value;if(n===a)return!0;if("undefined"==typeof a){var s=t[i].children;if(0===s.length||"undefined"==typeof s)continue;for(var o=0;o<s.length;o++){var c=s[o].value;if("undefined"!=typeof c&&c===n)return!0}}}return!1}function s(e){var n="";return n=e.join(", "),n=n.trim()}e.cw=n.findWizardScope(e),e.section.userModified=!1,e.section.doNotFlatten=!0,e.accountId,e.pillIsVisible=!0,e.textIsVisible=!1,e.messageObj={sampleKey:"",keys:[],message:"",uiMessage:""},e.i18n={generateUrl:i.get("connectors/generate-url"),webhookUrl:i.get("connectors/webhook-url"),token:i.get("connectors/token")},e.$watch("cw.data.steps[0].sections[0].value",function(n,t){n&&(e.accountId=n)},!0),e.deregisterInitWatch=e.$watch("section.value",function(n){e.section.userModified===!1&&n&&(n=JSON.parse(n),e.messageObj=n,e.issueKey=n.sampleKey,e.getDiscoveryData(e.accountId,n.sampleKey),e.section.userModified=!0,e.deregisterInitWatch(),e.section.valid=!0)}),e.$watch("issueKey",function(n){n&&(e.messageObj.sampleKey=n,e.getDiscoveryData(e.accountId,n))}),e.getDiscoveryData=function(n,i){if(n&&i){e.messageObj.sampleKey=i;var a={name:"fieldsCommand",parameters:{accountId:n,jiraIssueId:i},connectorInfo:{id:"com.domo.connector.jiraREST"}};t.post("/api/data/v1/discovery/",a).success(function(n){e.fields=n.value}),angular.element("#fields-bounding-box").focus()}},e.appendToMessage=function(n){var t=n.value;e.messageObj||(e.messageObj={sampleKey:e.issueKey,keys:[],message:"",uiMessage:""});var i=e.messageObj;t&&(t=" {{ "+t+" }} "),i.uiMessage=i.uiMessage+t,e.messageObj=i,e.updateMessage(e.issueKey),angular.element("#jira-custom-message").focus()},e.updateMessage=function(n){e.issueKey=n;var t={isValid:!0,invalidKeys:[],message:"Message valid!"};e.section.valid=!0;var i=e.messageObj,o=/(\{\{\s*?[a-zA-Z0-9\.\_\s]+\s*?\}\})/g,c=[];i.uiMessage&&(c=i.uiMessage.split(o)),i.keys=[];for(var r=t.invalidKeys,l=0;l<c.length;l++)if(o.test(c[l])){var d=c[l].replace(/\{\{/,"").replace("}}","").trim();i.keys.push({key:d,value:""}),a(d)||r.push(d)}return r.length>0&&(e.section.valid=!1,t=1==r.length?{isValid:!1,invalidKeys:r,message:'Invalid field: "'+s(r)+'". Please verify field syntax or use the Message Builder to add fields.'}:{isValid:!1,invalidKeys:r,message:'Invalid fields: "'+s(r)+'". Please verify fields syntax or use the Message Builder to add fields.'}),e.validMessage=t,""===i.uiMessage?(e.section.valid=!1,void(t.message="")):(i.message=i.uiMessage.replace(o,"%s"),i.validMessage=t,e.messageObj=i,void(e.section.value=JSON.stringify(i)))}}])},2019:function(e,n,t){var i;i=function(e){var n=t(8);angular.module("configwizard").directive("jiraTreeSelect",["$window","UrlRegistry","$compile","dmI18n",function(e,i,a,s){function o(e,t){var i=n(e.target).closest(".parent-item");i.find("> .group-header .expand-icon").toggleClass("expanded"),i.find("> .child-container").toggleClass("ng-hide")}function c(e,t){var i=n(e.target),a=n(e.target).closest("[data-node-id]"),s=a.data("node-id"),o=t[s];o._meta_.selected=i.prop("checked");var c=n();c=c.add(a),c=c.add(a.parents(".parent-item[data-node-id]")),o._meta_.isParent&&(c=c.add(a.find("[data-node-id]"))),c.each(function(){var e=n(this),i=l(e,t);r(e,i)})}function r(e,n){var t=n._meta_.isLeaf?e.find("input"):e.find("> .group-header input"),i=e.find("> .group-header .selected-summary");n._meta_.isParent&&t.toggleClass("partial",n._meta_.isPartial),t.prop("checked",!!n._meta_.selected);var a=n._meta_.numSelected;i.toggleClass("ng-hide",0===a),0!==a&&i.text(s.get("datacenter/number-selected",{number:a}))}function l(e,t){var i=n(e),a=i.data("node-id"),s=t[a]||{};return s}return{restrict:"EA",replace:!0,template:t(2020),controller:"jiraTreeSelectCtrl",scope:{tree:"=",selected:"=",selectable:"=?",showSelectDeselectAll:"@?",maxSelections:"=?",jiraClick:"="},link:function(e,t,i,a){function s(e){var i=n(t).find("[data-node-id]");i.each(function(){var t=n(this),i=l(t,e);r(t,i)})}a.NODE_CACHE=a.NODE_CACHE||{},a.syncNodeState=s,t.on("click.collapsible",".collapse-container",function(e){o(e,a.NODE_CACHE)}),t.on("change.nodeValue","input[type='checkbox']",function(n){c(n,a.NODE_CACHE),e.$apply()})}}}])}.call(n,t,n,e),!(void 0!==i&&(e.exports=i))},2020:function(e,n){e.exports='<div class=dm-tree-select>\n<div class=container>\n<ul class=main>\n<li ng-repeat="branch in tree.nodes">\n<jira-tree-branch branch=branch jira-click=jiraClick></jira-tree-branch>\n</li>\n</ul>\n</div>\n</div>\n'},2021:function(e,n){angular.module("configwizard").controller("jiraTreeSelectCtrl",["$scope","$window","_",function(e,n,t){function i(){m.NODE_CACHE={},m.NODE_LEAF_CACHE={}}function a(e){m.NODE_CACHE[e._meta_.id]=e,e._meta_.isLeaf&&(m.NODE_LEAF_CACHE[e._meta_.id]=e),t.each(e.nodes,a)}function s(e){if(e){var n=v++;if(!e._meta_){if(e._meta_={},e._meta_.id=n,e._meta_.isLeaf="root"!=e.label&&(!e.nodes||0===e.nodes.length),e._meta_.isParent=!e._meta_.isLeaf,Object.defineProperty(e._meta_,"selected",{get:c.bind(e),set:r.bind(e)}),e._meta_.isLeaf)return;Object.defineProperty(e._meta_,"numSelected",{get:o.bind(e),set:angular.noop}),Object.defineProperty(e._meta_,"totalSelectable",{get:l.bind(e),set:angular.noop}),Object.defineProperty(e._meta_,"isPartial",{get:d.bind(e),set:angular.noop})}t.each(e.nodes,s)}}function o(){if(this._meta_&&this._meta_.isLeaf)return 0;var e=t.reduce(this.nodes,function(e,n){var t=n._meta_.isLeaf?n._meta_.selected?1:0:n._meta_.numSelected||0;return e+t},0);return e}function c(){return this._meta_&&this._meta_.isLeaf?this._meta_.leafSelected:t.reduce(this.nodes,function(e,n){return e&&n._meta_.selected},!0)}function r(n){var i=this._meta_&&this._meta_.isLeaf,a=i&&n&&e.maxSelections&&h>=e.maxSelections;if(!a)return i&&this._meta_.leafSelected!=n?(this._meta_.leafSelected=n,h+=n?1:-1,void(f.needsUpdate=!0)):void t.each(this.nodes,function(e){e._meta_.selected=n})}function l(){if(this._meta_&&this._meta_.isLeaf)return 1;var e=t.reduce(this.nodes,function(e,n){return e+(n._meta_.totalSelectable||1)},0);return e}function d(){if(!this._meta_||this._meta_.isLeaf)return!1;var e=this._meta_.numSelected,n=this._meta_.totalSelectable;return 0!==e&&e<n}function u(){if(!e.tree||!m.NODE_LEAF_CACHE)return f;var n=t.filter(m.NODE_LEAF_CACHE,function(e){return e._meta_.leafSelected});return f.length=0,f.push.apply(f,n),h=f.length,f.needsUpdate=!1,f.lastGenerated=(new Date).getTime()+""+Math.random(),f}function p(e){t.each(e,function(e){s(e),e._meta_&&!e._meta_.isParent&&(e._meta_.selected=!0)}),f.length=0,f.push.apply(f,e),h=f.length,f.needsUpdate=!0}function g(e,n){var i={};return t.each(e,function(e){e._meta_.selected!==n&&(i[e._meta_.id]=e),e._meta_.selected=n}),i}var m=this,v=0,f=[],h=0;m.NODE_CACHE=m.NODE_CACHE||{},m.NODE_LEAF_CACHE=m.NODE_LEAF_CACHE||{},e.selectable=!!t.isUndefined(e.selectable)||e.selectable,function(){var n=e.selected;Object.defineProperty(e,"selected",{get:u.bind(e),set:p.bind(e)}),e.selected=n}(),e.selectAll=function(){g(m.NODE_LEAF_CACHE,!0),m.syncNodeState(m.NODE_CACHE)},e.clearAll=function(){g(m.NODE_LEAF_CACHE,!1),m.syncNodeState(m.NODE_CACHE)},e.canSelectAll=function(){var n=m.NODE_LEAF_CACHE?t.keys(m.NODE_LEAF_CACHE).length:-1;return n>0&&(!e.maxSelections||e.maxSelections&&e.maxSelections>n)},e.shouldShowSelectDeselectAll=function(){return t.isUndefined(e.showSelectDeselectAll)||t.isNull(e.showSelectDeselectAll)||"false"!=e.showSelectDeselectAll},e.$watch("tree",function(e,n){(e||n)&&(n&&!e||(i(),s(e),a(e)))})}])},2022:function(e,n,t){angular.module("configwizard").directive("jiraTreeBranch",["$window","UrlRegistry","$compile","dmI18n",function(e,n,i,a){return{restrict:"E",replace:!0,template:t(2023),controller:"jiraTreeBranchCtrl",scope:{branch:"=",jiraClick:"="},link:function(e,n,t){}}}])},2023:function(e,n){e.exports='<div>\n<db-button ng-click="branch.leaf ? jiraClick(branch) : branch.expanded = !branch.expanded" theme=alt class=margin-top-xxsmall ng-class="{active : branch.leaf, expanded: branch.expanded}">\n<i ng-if="branch.nodes && branch.nodes.length > 0" class="icon-play expand-icon color-text-header vertical-align-middle" ng-class="{expanded: branch.expanded}">\n</i>\n{{ branch.label }}\n</db-button>\n<div ng-if="branch.nodes && branch.nodes.length > 0" ng-show=branch.expanded class=margin-left-medium>\n<ul>\n<li ng-repeat="childBranch in branch.nodes">\n<jira-tree-branch branch=childBranch jira-click=jiraClick class=margin-left-xsmall></jira-tree-branch>\n</li>\n</ul>\n</div>\n</div>'},2024:function(e,n){angular.module("configwizard").controller("jiraTreeBranchCtrl",["$scope","$window","_",function(e,n,t){}])},2025:function(e,n){angular.module("configwizard").controller("cwDiscoveryTreeCtrl",["$scope","cwDataDiscovery","cwDataDiscoveryUtils","cwDataDiscoveryResponseTransformer","cwDiscoveryTreeUtils","cwConfigWizardSectionsUtils","dmI18n","$http","cwSectionValidity","cwConfigWizardComponentMetadata","$filter",function(e,n,t,i,a,s,o,c,r,l,d){function u(){var n=e.data.selected,t=e.data.minSelections||0,i=n?n.length:0;return!(t&&i<t)}function p(n){for(var t in n.children){var i=n.children[t];i.children=p(i)}return d("orderBy")(n.children,e.section.orderBy)}var g=l.getContainer(e,e.section.name),m=[];e.data={},e.data.maxSelections=e.section.data&&e.section.data.maxSelections?parseInt(e.section.data.maxSelections,10):null,e.data.minSelections=e.section.data&&e.section.data.minSelections?parseInt(e.section.data.minSelections,10):null,e.data.showSelectDeselectAll=e.section.data?e.section.data.showSelectDeselectAll:null,e.data.showNumSelected=!e.section.data||e.section.data.showNumSelected!==!1&&"false"!=e.section.data.showNumSelected,e.section.doNotFlatten=!0,e.data.loading=!0,t.setupDiscoverySection(e,{onCommandReady:function(n){e.issueSectionCommand(n)},onCommandWaitingForParams:function(n){e.data.missingParams=n}}),r.defineValidity(e.section,u),e.onCommandSuccess=function(n){if(n&&n.data){e.data.error=!1,e.data.loading=!1;var t={labelProperty:e.section.data.labelProperty,valueProperty:e.section.data.valueProperty},s=i.transform(n.data,"tree",t);e.data.tree=s,e.section.orderBy&&(e.data.tree={label:"root",children:p(s)}),g.setValue("discoverySuccess",!0),g.setValue("leafNodeCount",a.getAllLeafNodes(e.data.tree).length)}},e.onCommandFailure=function(n){throw e.data.tree=null,e.data.error=!0,g.setValue("discoverySuccess",!1),n},e.alreadyIssuedWithValues=function(n){return _.isEqual(n,e.data.previousValuesForCommand)},e.issueSectionCommandNoDebounce=function(t){e.section.isHidden||e.$apply(function(){if(!e.alreadyIssuedWithValues(t)){e.data.previousValuesForCommand=t,e.data.tree=null,e.data.loading=!0,e.data.error=!1;var i=s.getSections(e);e.data.connectorInfo||(e.data.connectorInfo={connectionType:!0});var a=(s.findWizardScope(e)||{}).data||{};g.setValue("discoveryRunning",!0),n.sendCommand(e.data.storedCommand,e.data.connectorInfo,t,i,a).then(e.onCommandSuccess,e.onCommandFailure).finally(function(){g.setValue("discoveryRanOnce",!0),g.setValue("discoveryRunning",!1)})}})},e.issueSectionCommand=_.debounce(e.issueSectionCommandNoDebounce,150),e.$watch("data.tree",function(n){m=a.getAllLeafNodes(n);var t=a.getStringOfSelected(e.data.selected);e.data.selected=a.getSelectedFromString(t,m)}),e.setUserModified=function(){e.section.userModified=!0},function(){var n=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){return a.getStringOfSelected(e.data.selected)},set:function(n){e.data.selected=a.getSelectedFromString(n,m)}}),e.section.value=n}(),function(){Object.defineProperty(e.section,"extraText",{configurable:!0,get:function(){if(!e.data.showNumSelected||e.data.loading||!e.data.maxSelections&&!e.data.selected.length)return"";var n=e.data.maxSelections?"connectors/tree-num-selected-with-limit":"connectors/tree-num-selected-no-limit",t={numSelected:e.data.selected.length,maxSelections:e.data.maxSelections};return"<span class='font-size-xsmall color-text-header margin-left-xxsmall'>"+o.get(n,t)+"</span>"},set:angular.noop})}()}])},2026:function(e,n){angular.module("configwizard").service("cwDiscoveryTreeUtils",["_",function(e){function n(n,t){var a=n?n.split(","):o;if(!t||e.isEmpty(t))return e.map(a,function(e){return{label:e,value:e}});var s=i(t),c=[];return e.each(s,function(n){e.contains(a,n.value)&&c.push(n)}),c}function t(n){if(!n||0===n.length)return"";var t=e.pluck(n,"value");return t.sort(function(e,n){return e<n?-1:e>n?1:0}),t.join(",")}function i(n){return e.filter(n,function(n){return!e.isUndefined(n.value)})}function a(n,t){return t=t||[],n?(n.children&&0!==n.children.length||"root"==n.label?e.each(n.children,function(e){a(e,t)}):t.push(n),t):t}function s(e){return e.lastGenerated||(new Date).getTime()+""+Math.random()}var o=[];return{getSelectedFromString:n,getStringOfSelected:e.memoize(t,s),getAllLeafNodes:a}}])},2027:function(e,n){angular.module("configwizard").controller("cwDiscoveryDropdownCtrl",["$scope","_","cwDataDiscovery","$routeParams","cwConfigWizardSectionsUtils","cwConfigWizardValuesUtils","cwCommandUtils","cwDataDiscoveryUtils","cwDataDiscoveryResponseTransformer","cwDefaultValueExpressionEvaluator","cwSectionValidity","$filter",function(e,n,t,i,a,s,o,c,r,l,d,u){e.data={},e.section.data=e.section.data||{},d.defineValidity(e.section),c.setupDiscoverySection(e,{onCommandReady:function(n){e.issueSectionCommand(n)},onCommandWaitingForParams:function(e){}}),e.onCommandSuccess=function(n){if(n&&n.data){e.data.currentCommandResponse=n.data;var t={labelProperty:e.section.data.labelProperty,valueProperty:e.section.data.valueProperty},i=r.transform(n.data,"dropdown",t);if(e.section.orderBy&&(i=u("orderBy")(i,e.section.orderBy)),e.data.internalItems=i,e.section.value=e.section.value||e.data.cachedValue,e.data.cachedValue=null,e.section.data.error=!1,e.section.data.loading=!1,!e.section.value&&e.section.defaultValue){var a=e.section.defaultValue,s=e.data.internalItems,o=l.findItemByExpression(a,s);e.section.value=o?o.value:null}}},e.onCommandFailure=function(n){if(!e.data.internalValue){var t=e.data.cachedValue;e.data.internalValue=t?{label:t,value:t}:null}throw e.data.internalItems=[],e.section.data.error=!0,n},function(){var t=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){return e.data.internalValue?e.data.internalValue.value:!e.data.currentCommandResponse&&e.data.cachedValue?e.data.cachedValue.value?e.data.cachedValue.value:e.data.cachedValue:null},set:function(t){if(!t)return void(e.data.internalValue=null);var i=n.findWhere(e.data.internalItems,{value:t});i!==e.data.internalValue&&(e.data.internalValue=i),i||(e.data.cachedValue=t)}}),e.section.value=t}(),e.issueSectionCommandNoDebounce=function(n){e.section.isHidden||e.$apply(function(){e.section.data.loading=!0,e.section.data.error=!1,e.data.dependentValues=n;var i=a.getSections(e);e.data.connectorInfo||(e.data.connectorInfo={connectionType:!0});var s=(a.findWizardScope(e)||{}).data||{};t.sendCommand(e.data.storedCommand,e.data.connectorInfo,n,i,s).then(e.onCommandSuccess,e.onCommandFailure);
})},e.retryCommand=function(){var n=e.data.dependentValues;e.issueSectionCommand(n)},e.onItemSelected=function(n){e.section.userModified=!0},e.issueSectionCommand=n.debounce(e.issueSectionCommandNoDebounce,150),e.section.data.loading=!0}])},2028:function(e,n){angular.module("configwizard").controller("cwDiscoveryStringCtrl",["$scope","cwDataDiscovery","cwDataDiscoveryUtils","cwDataDiscoveryResponseTransformer","cwConfigWizardSectionsUtils","cwSectionValidity",function(e,n,t,i,a,s){function o(){var n=e.data.input,t=e.section.required,i=!t||e.section.isHidden||t&&n&&n.trim().length>0;return!!i}e.data={},e.data.loading=!0,t.setupDiscoverySection(e,{onCommandReady:function(n){e.issueSectionCommand(n)}}),s.defineValidity(e.section,o),e.issueSectionCommandNoDebounce=function(t){e.section.isHidden||e.$apply(function(){if(!_.isEqual(t,e.data.previousValuesForCommand)){e.data.previousValuesForCommand=t,e.section.value=null,e.data.loading=!0,e.data.error=!1;var i=a.getSections(e);e.data.connectorInfo||(e.data.connectorInfo={connectionType:!0});var s=(a.findWizardScope(e)||{}).data||{};n.sendCommand(e.data.storedCommand,e.data.connectorInfo,t,i,s).then(e.onCommandSuccess,e.onCommandFailure)}})},e.issueSectionCommand=_.debounce(e.issueSectionCommandNoDebounce,150),e.onCommandSuccess=function(n){if(n&&n.data){try{e.data.input=i.transform(n.data,"string")}catch(n){e.data.error=!0}e.data.loading=!1}},e.onCommandFailure=function(){e.data.loading=!1,e.data.error=!0},function(){Object.defineProperty(e.section,"valid",{configurable:!0,get:function(){if(!e.section.required||e.section.userModified||!_.isUndefined(e.section.value)){var n=e.data.input,t=e.section.required,i=!t||e.section.isHidden||t&&n&&n.trim().length>0;return e.setValid===!1?e.setValid:!!i}},set:function(n){if(e.setValid=n,n===!1)var t=e.$watch("section.value",function(n,i){angular.equals(n,i)||(e.setValid=!0,t())},!0)}})}(),function(){var n=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){return e.data.input},set:function(n){var t=n?n.trim():"";e.data.input=t.length?t:void 0}}),e.section.value=n}(),e.setUserModified=function(){e.section.userModified=!0}}])},2029:function(e,n){angular.module("configwizard").controller("cwDiscoveryPickerCtrl",["$scope","_","cwDataDiscovery","cwDataDiscoveryUtils","cwConfigWizardSectionsUtils","cwDataDiscoveryResponseTransformer","cwSectionValidity","$filter",function(e,n,t,i,a,s,o,c){"use strict";function r(t,i){if(i){var a=i.items?i.items.slice(0):[],s=!a.length,o=e.cwConfigFormCtrl.strings;if(s){var c=i.property;a=n.chain(t.rows).pluck(c).unique().map(function(e){return{label:e,value:e}}).sortBy("label").value()}if(a.length){var r=w(i.allOptionsText,o,"datacenter/all-options-text");a.unshift({separator:!0}),a.unshift({label:r,value:"ALL",isAllValues:!0})}return n.each(a,function(e){e.label&&(e.label=w(e.label,o))}),a}}function l(n){e.data.canOpen=!0,e.data.loading=!0,e.data.lastUsedValues=n;var i=a.getSections(e);e.data.connectorInfo||(e.data.connectorInfo={connectionType:!0}),t.sendCommand(e.data.storedCommand,e.data.connectorInfo,n,i).then(d,u)}function d(n){if(n&&n.data){e.data.error=!1,e.data.loading=!1;var t={columns:e.section.data?e.section.data.columns:[]};e.data.pickerResult=s.transform(n.data,"picker",t);var i=e.data.pickerResult.rows;e.section.orderBy&&(i=c("orderBy")(i,e.section.orderBy)),e.data.pickerResult.filteredRows=i,e.data.filters=r(e.data.pickerResult,e.data.filterData),e.data.selectedFilter=e.data.selectedFilter||e.data.filters&&e.data.filters[0],e.section.value=e.section.value||e.data.cachedValue,e.data.cachedValue=null}}function u(){e.data.error=!0,e.data.loading=!1}function p(){if(e.data.canOpen)return e.data.error?void e.retryCommand():void(e.data.open=!0)}function g(){e.data.error=!1,l(e.data.lastUsedValues)}function m(){e.data.activeSelection=null}function v(n){e.data.internalValue=e.data.activeSelection,e.data.activeSelection=null,e.section.userModified=!0}function f(t){n.each(e.data.pickerResult.rows,function(e){e._meta_=e._meta_||{},e._meta_.selected=!1}),t._meta_.selected=!0,e.data.activeSelection=t}function h(t){var i=e.data.filterData&&e.data.filterData.property,a=e.data.pickerResult;if(i&&a){var s=a.rows;return t.isAllValues?void(a.filteredRows=s):void(a.filteredRows=n.filter(s,function(e){return e[i]==t.value}))}}var w=c("cwI18n");e.data={},e.data.labelProperty=e.section.data?e.section.data.labelProperty:"label",e.data.valueProperty=e.section.data?e.section.data.valueProperty:"value",e.data.pickerTitle=e.section.data?e.section.data.pickerTitle:null,e.data.pickerSearchPlaceholder=e.section.data?e.section.data.pickerSearchPlaceholder:null,e.data.filterData=e.section.data?e.section.data.filter:null,e.openPicker=p,e.retryCommand=g,e.onPickerCancel=m,e.onPickerSelect=v,e.selectRow=f,e.onFilterSelected=h,i.setupDiscoverySection(e,{onCommandReady:l}),o.defineValidity(e.section,function(){return!(!e.data.internalValue&&!e.data.cachedValue)}),function(){var t=e.section.value;Object.defineProperty(e.section,"value",{configurable:!0,get:function(){var n=e.data.internalValue?e.data.internalValue[e.data.valueProperty]:null;return n||e.data.cachedValue},set:function(t){if(!t)return void(e.data.internalValue=null);var i={};i[e.data.valueProperty]=t;var a=e.data.pickerResult?e.data.pickerResult.rows||[]:[],s=n.findWhere(a,i);s!==e.data.internalValue&&(e.data.internalValue=s),s||(e.data.cachedValue=t)}}),e.section.value=t}()}])},2030:function(e,n){angular.module("configwizard").service("cwDataDiscovery",["$http","$q","UrlRegistry","_","cwCommandUtils","cnNewConnectorData",function(e,n,t,i,a,s){var o=function(e,t){if(!e){var i=n.defer();return i.reject("no connector id provided"),i.promise}return s.get(e,t)},c=function(n,t){return e.get("/api/data/v1/discovery/metadata/"+n+"/"+t)},r=function(e,n,t,s){var o={name:e.name,parameters:{},connectorInfo:{}},c=a.getParameterNamesForCommand(e,n,s);i.each(c,function(e){o.parameters[e]=o.parameters[e]||t[e]});var r=[];if(i.each(o.parameters,function(e,n){e||r.push(n)}),r.length>0)return{error:"Error: the required parameters "+r.join(", ")+" were not set!"};if(o.connectorInfo.id=n.id,o.connectorInfo.version=n.version,i.isObject(o.connectorInfo.version)){var l=o.connectorInfo.version;o.connectorInfo.version=l.major+"."+l.minor}var d=i.find(s,function(e){return"account"==e.type&&e.data&&e.data.dataProviderKey===n.connectionType});return d&&(o.parameters.accountId=t[d.name]),o},l=function(n,t,i,a,s){if(!n)return d("Uhhh... no can do... can't send a command if one isn't provided.You gotta throw me a bone here...");var o=r(n,t,i,a);if(s&&s.integrationId)return delete o.connectorInfo,o.integrationInfo={id:""+s.integrationId},o.parameters.accountId=""+o.parameters.accountId,e.post("/api/data/v1/discovery",o);if(o.error)return d(o.error);var c="/api/data/v1/onboard/imports/discovery/command";return e.post(c,o)},d=function(e){var t=n.defer();return t.reject(e),t.promise};return{sendCommand:l,getConnectorData:o,getIntegrationData:c}}])},2031:function(e,n){angular.module("configwizard").service("cwDataDiscoveryUtils",["cwDataDiscovery","cwCommandUtils","cwConfigWizardSectionsUtils","cwConfigWizardValuesUtils","_","$routeParams",function(e,n,t,i,a,s){"use strict";function o(e,n){e.$watch("section.data.discoveryCommand",function(t){r(t,e,n)}),e.$watch("section.value",function(n){var t=e.data.storedCommand;if(t){var i=t.response&&t.response.provides?t.response.provides.commandProperties:[],s=c(e);a.each(i,function(e){s[e]=a.isObject(n)?n[e]:n})}})}function c(e){var n=t.findWizardScope(e),i=t.findConfigFormScope(e),a=n?n.shared.commandProperties:i?i.shared.commandProperties:null;return a}function r(n,i,a){if(n&&!i.data.connectorInfo){var o=i.section.data.connectorId||s.connectorId,c=i.section.data.connectorVersion;if(i.section.data.integrations){var r=(t.findWizardScope(i)||{}).data||{};return void e.getIntegrationData(r.integrationId,i.section.data.discoveryCommand).then(function(e){l(e.data,i,a)})}if(!o)return void(i.section.data.error=!0);e.getConnectorData(o,c).then(function(e){d(e,i,a)})}}function l(e,n,t){n.data.storedCommand=e;var i=v(n,n.data.storedCommand),a=n.data.connectorInfo||{connectionType:!0},s=p(n.data.storedCommand,n,a,i),o=c(n),r=m(s,o);n.$watch(r,function(e){g(e,t,i)},!0)}function d(e,n,t){n.data.connectorInfo=e;var i=u(n.data.connectorInfo,n);l(i,n,t)}function u(e,n){var t=e.discovery.commands,i=n.section.data.discoveryCommand,s=a.find(t,function(e){return e.name===i});if(!s)throw"We couldn't locate the command with the name '"+i+"' in the connector definition.";return s}function p(e,i,s,o){var c=t.getSections(i,{includeValueless:!0}),r=n.getParameterNamesForCommand(e,s,c);r=a.map(r,function(e){return o[e]||e});var l={};return a.each(r,function(e){l[e]=c[e]||{name:e,placeholder:!0}}),l}function g(e,n,t){var i=[];a.each(e,function(e,n){(a.isNull(e)||a.isUndefined(e)||a.isArray(e)&&a.isEmpty(e))&&i.push(n)});var s=0===i.length,o=a.invert(t);a.each(e,function(n,t){var i=o[t];i&&(e[i]=n,delete e[t])}),s&&n.onCommandReady?n.onCommandReady(e):!s&&n.onCommandWaitingForParams&&n.onCommandWaitingForParams(i)}function m(e,n){return function(){var t=i.getValuesForSections(e,{includeValueless:!0}),s={};return a.each(t,function(e,t){!e&&n[t]&&(s[t]=n[t])}),a.extend(t,s)}}function v(e,n){var i=(t.findWizardScope(e)||{}).data||{},a=i.discoveryRenames||{},s=a[n.name]||{};return s}return{setupDiscoverySection:o,getCommandProperties:c}}])},2032:function(e,n){angular.module("configwizard").service("cwCommandUtils",["_",function(e){"use strict";function n(n,t,i){var a=[],s=!1;if(e.each(n.request.properties,function(e){0===e.indexOf("account.")&&(s=s||!0),0!==e.indexOf("account.")&&a.push(e)}),s){var o=e.find(i,function(e){return"account"===e.type&&t.connectionType});a.push(o?o.name:"accountId")}return a}return{getParameterNamesForCommand:n}}])},2033:function(e,n,t){var i=t(436);angular.module("configwizard").directive("cwCodemirrorAutocomplete",function(){return{restrict:"A",require:"uiCodemirror",link:function(e,n,t,a){function s(e){u=e,u.on("change",o)}function o(){d&&clearTimeout(d),d=setTimeout(c,100)}function c(){i.showHint(u,l,{completeSingle:!1,searchObjects:e.$eval(t.libCodemirrorAutocompleteHintables)})}var r=t.cwCodemirrorAutocomplete,l=r&&r.length>0?i.hint[r]:null,d=null,u=null;a.getCodemirrorPromise().then(s)}}})},2034:function(e,n,t){var i=t(47);angular.module("configwizard").service("cwDataDiscoveryResponseTransformer",["_",function(e){function n(e){return e}function t(e){return{children:[{label:e,value:e}]}}function a(e){return[{label:e,value:e}]}function s(n,t){var i=t.labelProperty,a=t.valueProperty;if(!i||!a)return{children:n};var s=[];return e.each(n,function(e){s.push({label:e[i],value:e[a]})}),{children:s}}function o(n,t){var i=t.labelProperty,a=t.valueProperty;if(!i&&!a)return n;var s=e.map(n,function(e){var n=e[i],t=e[a||"value"];return{label:n,value:t}});return s}function c(n){var t=[];return e.each(n,function(e,n){t.push({label:n,value:e})}),{children:t}}function r(n){var t=[];return e.each(n,function(e,n){t.push({label:e,value:n})}),t}function l(n){var t=e.map(n,function(e){return{label:e,value:e}});return{children:t}}function d(n){return e.map(n,function(e){return{label:e,value:e}})}function u(n,t){var a=n&&n.length?n[0]:{},s=t.columns||[];return s=s.length?s:e.map(e.keys(a),function(e){return{header:e,property:e}}),e.each(n,function(n){e.each(s,function(e){e.isDate&&(n[e.property]=i(n[e.property]))})}),{columns:s,rows:n}}function p(n,t,i){if(!n||!n.type)return n;var a=g[n.type.toLowerCase()]||{},s=a[t.toLowerCase()];if(!s||!e.isFunction(s))throw"Sorry, no transformation function is defined for '"+n.type.toLowerCase()+"' to '"+t+"'";return s(n.value,i)}var g={string:{string:n,dropdown:a,tree:t},map:{map:n,dropdown:r,tree:c},list:{list:n,dropdown:d,tree:l},table:{table:n,dropdown:o,tree:s,picker:u},tree:{tree:n}};return{transform:p}}])},2035:function(e,n){angular.module("configwizard").controller("cwBuilderCtrl",["$scope","$timeout","cwCommonSectionTypes","_",function(e,n,t,i){var a=["commandtree","commandselect","commandinput","Oauth"],s=i.map(t.types,function(e,n){return n}).sort();e.data=e.data||{},e.data.wizard={},e.data.currentStepNum=1,e.data.sectionTypes=i.filter(s,function(e){return!i.contains(a,e)}),e.data.jsonEditor={lineNumbers:!0,mode:{name:"javascript",json:!0}}}])},2036:function(e,n){angular.module("configwizard").directive("jsonText",function(){return{restrict:"A",require:"ngModel",link:function(e,n,t,i){function a(e){var n=i.$modelValue;try{n=JSON.parse(e)}catch(e){}return n}function s(e){return JSON.stringify(e)}i.$parsers.push(a),i.$formatters.push(s)}}})},2037:function(e,n,t){var i;i=function(e){"use strict";function n(e,n){var t=e.getCursor(),s=e.getTokenAt(t),o=s.string.trim().replace(/"/g,""),c=[];return s.type&&s.type.indexOf("property")!==-1&&(c=_.filter(a,function(e){return e.indexOf(o)!==-1})),{list:c,from:i.Pos(t.line,s.start+1),to:i.Pos(t.line,s.end)}}var i=t(436),a=["heading","steps","strings","id","label","description","sections","titleFunc","summaryFunc","name","type","text","tooltipText","description","required","defaultValue","restrictions","showWhen","data"];i.hint=i.hint||{},i.hint.cwjson=n}.call(n,t,n,e),!(void 0!==i&&(e.exports=i))},2038:function(e,n){angular.module("configwizard").service("cwHelpService",["$http","$locale","$templateCache","$sce",function(e,n,t,i){function a(e){return e.data}function s(e){var n=o(e);return n?e.slice(c.length).trim():e}function o(e){return e&&0===e.indexOf(c)}var c="~[help]";this.getContentFor=function(i){var o=s(i),c={cache:t,params:{locale:n.id}};return e.get("/public/javascripts/config-wizard/testdata/templates/"+o+".html",c).then(a)},this.isHelpTemplate=o}])},2039:function(e,n){angular.module("configwizard").service("cwTemplateService",["cwHelpService","$q","$sce","_",function(e,n,t,i){"use strict";this.getContentFor=function(t){return i.isUndefined(t)||i.isNull(t)?n.when(""):e.isHelpTemplate(t)?e.getContentFor(t):n.when(t)}}])},2040:function(e,n){angular.module("configwizard").directive("cwBindMarkup",["cwTemplateService","cwI18nFilter","$sce",function(e,n,t){return{restrict:"A",scope:{strings:"=?cwBindStrings",binding:"=cwBindMarkup"},link:function(i,a,s){i.$watch("binding",function(s){e.getContentFor(s).then(function(e){return n(e,i.strings)}).then(t.trustAsHtml).then(t.getTrustedHtml).then(a.html.bind(a))})}}}])}});